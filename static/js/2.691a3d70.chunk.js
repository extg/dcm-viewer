(window.webpackJsonp=window.webpackJsonp||[]).push([[2],[function(e,t,n){"use strict";e.exports=n(41)},function(e,t,n){e.exports=n(46)()},function(e,t,n){"use strict";(function(e){n.d(t,"b",function(){return ve}),n.d(t,"a",function(){return et}),n.d(t,"d",function(){return tt});var r=n(19),a=n.n(r),i=n(28),o=n.n(i),s=n(0),l=n.n(s),u=n(29),c=n(17),d=n(20),f=(n(1),n(7),n(35)),h=function(e,t){for(var n=[e[0]],r=0,a=t.length;r<a;r+=1)n.push(t[r],e[r+1]);return n},p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},b=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},w=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},x=function(e){return"object"===("undefined"===typeof e?"undefined":p(e))&&e.constructor===Object},E=Object.freeze([]),T=Object.freeze({});function _(e){return"function"===typeof e}function S(e){return e.displayName||e.name||"Component"}function C(e){return e&&"string"===typeof e.styledComponentId}var k="undefined"!==typeof e&&Object({NODE_ENV:"production",PUBLIC_URL:"/dcm-viewer"}).SC_ATTR||"data-styled",P="undefined"!==typeof window&&"HTMLElement"in window,I="boolean"===typeof SC_DISABLE_SPEEDY&&SC_DISABLE_SPEEDY||!1,M={};var O=function(e){function t(n){m(this,t);for(var r=arguments.length,a=Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];var o=w(this,e.call(this,"An error occurred. See https://github.com/styled-components/styled-components/blob/master/src/utils/errors.md#"+n+" for more information. "+(a?"Additional arguments: "+a.join(", "):"")));return w(o)}return y(t,e),t}(Error),D=/^[^\S\n]*?\/\* sc-component-id:\s*(\S+)\s+\*\//gm,A=function(e){var t=""+(e||""),n=[];return t.replace(D,function(e,t,r){return n.push({componentId:t,matchIndex:r}),e}),n.map(function(e,r){var a=e.componentId,i=e.matchIndex,o=n[r+1];return{componentId:a,cssFromDOM:o?t.slice(i,o.matchIndex):t.slice(i)}})},L=/^\s*\/\/.*$/gm,R=new a.a({global:!1,cascade:!0,keyframe:!1,prefix:!1,compress:!1,semicolon:!0}),j=new a.a({global:!1,cascade:!0,keyframe:!1,prefix:!0,compress:!1,semicolon:!1}),N=[],U=function(e){if(-2===e){var t=N;return N=[],t}},F=o()(function(e){N.push(e)}),B=void 0,z=void 0,H=void 0,V=function(e,t,n){return t>0&&-1!==n.slice(0,t).indexOf(z)&&n.slice(t-z.length,t)!==z?"."+B:e};j.use([function(e,t,n){2===e&&n.length&&n[0].lastIndexOf(z)>0&&(n[0]=n[0].replace(H,V))},F,U]),R.use([F,U]);function W(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"&",a=e.join("").replace(L,""),i=t&&n?n+" "+t+" { "+a+" }":a;return B=r,z=t,H=new RegExp("\\"+z+"\\b","g"),j(n||!t?"":t,i)}var q=function(){return n.nc},G=function(e,t,n){n&&((e[t]||(e[t]=Object.create(null)))[n]=!0)},Y=function(e,t){e[t]=Object.create(null)},Z=function(e){return function(t,n){return void 0!==e[t]&&e[t][n]}},X=function(e){var t="";for(var n in e)t+=Object.keys(e[n]).join(" ")+" ";return t.trim()},K=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets.length,n=0;n<t;n+=1){var r=document.styleSheets[n];if(r.ownerNode===e)return r}throw new O(10)},$=function(e,t,n){if(!t)return!1;var r=e.cssRules.length;try{e.insertRule(t,n<=r?n:r)}catch(a){return!1}return!0},J=function(e){return"\n/* sc-component-id: "+e+" */\n"},Q=function(e,t){for(var n=0,r=0;r<=t;r+=1)n+=e[r];return n},ee=function(e,t){return function(n){var r=q();return"<style "+[r&&'nonce="'+r+'"',k+'="'+X(t)+'"','data-styled-version="4.1.3"',n].filter(Boolean).join(" ")+">"+e()+"</style>"}},te=function(e,t){return function(){var n,r=((n={})[k]=X(t),n["data-styled-version"]="4.1.3",n),a=q();return a&&(r.nonce=a),l.a.createElement("style",v({},r,{dangerouslySetInnerHTML:{__html:e()}}))}},ne=function(e){return function(){return Object.keys(e)}},re=function(e){return document.createTextNode(J(e))},ae=function e(t,n){var r=void 0===t?Object.create(null):t,a=void 0===n?Object.create(null):n,i=function(e){var t=a[e];return void 0!==t?t:a[e]=[""]},o=function(){var e="";for(var t in a){var n=a[t][0];n&&(e+=J(t)+n)}return e};return{clone:function(){var t=function(e){var t=Object.create(null);for(var n in e)t[n]=v({},e[n]);return t}(r),n=Object.create(null);for(var i in a)n[i]=[a[i][0]];return e(t,n)},css:o,getIds:ne(a),hasNameForId:Z(r),insertMarker:i,insertRules:function(e,t,n){i(e)[0]+=t.join(" "),G(r,e,n)},removeRules:function(e){var t=a[e];void 0!==t&&(t[0]="",Y(r,e))},sealed:!1,styleTag:null,toElement:te(o,r),toHTML:ee(o,r)}},ie=function(e,t,n,r,a){if(P&&!n){var i=function(e,t,n){var r=document.createElement("style");r.setAttribute(k,""),r.setAttribute("data-styled-version","4.1.3");var a=q();if(a&&r.setAttribute("nonce",a),r.appendChild(document.createTextNode("")),e&&!t)e.appendChild(r);else{if(!t||!e||!t.parentNode)throw new O(6);t.parentNode.insertBefore(r,n?t:t.nextSibling)}return r}(e,t,r);return I?function(e,t){var n=Object.create(null),r=Object.create(null),a=void 0!==t,i=!1,o=function(t){var a=r[t];return void 0!==a?a:(r[t]=re(t),e.appendChild(r[t]),n[t]=Object.create(null),r[t])},s=function(){var e="";for(var t in r)e+=r[t].data;return e};return{clone:function(){throw new O(5)},css:s,getIds:ne(r),hasNameForId:Z(n),insertMarker:o,insertRules:function(e,r,s){for(var l=o(e),u=[],c=r.length,d=0;d<c;d+=1){var f=r[d],h=a;if(h&&-1!==f.indexOf("@import"))u.push(f);else{h=!1;var p=d===c-1?"":" ";l.appendData(""+f+p)}}G(n,e,s),a&&u.length>0&&(i=!0,t().insertRules(e+"-import",u))},removeRules:function(o){var s=r[o];if(void 0!==s){var l=re(o);e.replaceChild(l,s),r[o]=l,Y(n,o),a&&i&&t().removeRules(o+"-import")}},sealed:!1,styleTag:e,toElement:te(s,n),toHTML:ee(s,n)}}(i,a):function(e,t){var n=Object.create(null),r=Object.create(null),a=[],i=void 0!==t,o=!1,s=function(e){var t=r[e];return void 0!==t?t:(r[e]=a.length,a.push(0),Y(n,e),r[e])},l=function(){var t=K(e).cssRules,n="";for(var i in r){n+=J(i);for(var o=r[i],s=Q(a,o),l=s-a[o];l<s;l+=1){var u=t[l];void 0!==u&&(n+=u.cssText)}}return n};return{clone:function(){throw new O(5)},css:l,getIds:ne(r),hasNameForId:Z(n),insertMarker:s,insertRules:function(r,l,u){for(var c=s(r),d=K(e),f=Q(a,c),h=0,p=[],m=l.length,g=0;g<m;g+=1){var v=l[g],y=i;y&&-1!==v.indexOf("@import")?p.push(v):$(d,v,f+h)&&(y=!1,h+=1)}i&&p.length>0&&(o=!0,t().insertRules(r+"-import",p)),a[c]+=h,G(n,r,u)},removeRules:function(s){var l=r[s];if(void 0!==l){var u=a[l];!function(e,t,n){for(var r=t-n,a=t;a>r;a-=1)e.deleteRule(a)}(K(e),Q(a,l)-1,u),a[l]=0,Y(n,s),i&&o&&t().removeRules(s+"-import")}},sealed:!1,styleTag:e,toElement:te(l,n),toHTML:ee(l,n)}}(i,a)}return ae()},oe=/\s+/,se=void 0;se=P?I?40:1e3:-1;var le=0,ue=void 0,ce=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P?document.head:null,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];m(this,e),this.getImportRuleTag=function(){var e=t.importRuleTag;if(void 0!==e)return e;var n=t.tags[0];return t.importRuleTag=ie(t.target,n?n.styleTag:null,t.forceServer,!0)},le+=1,this.id=le,this.forceServer=r,this.target=r?null:n,this.tagMap={},this.deferred={},this.rehydratedNames={},this.ignoreRehydratedNames={},this.tags=[],this.capacity=1,this.clones=[]}return e.prototype.rehydrate=function(){if(!P||this.forceServer)return this;var e=[],t=[],n=!1,r=document.querySelectorAll("style["+k+'][data-styled-version="4.1.3"]'),a=r.length;if(!a)return this;for(var i=0;i<a;i+=1){var o=r[i];n||(n=!!o.getAttribute("data-styled-streamed"));for(var s,l=(o.getAttribute(k)||"").trim().split(oe),u=l.length,c=0;c<u;c+=1)s=l[c],this.rehydratedNames[s]=!0;t.push.apply(t,A(o.textContent)),e.push(o)}var d=t.length;if(!d)return this;var f=this.makeTag(null);!function(e,t,n){for(var r=0,a=n.length;r<a;r+=1){var i=n[r],o=i.componentId,s=i.cssFromDOM,l=R("",s);e.insertRules(o,l)}for(var u=0,c=t.length;u<c;u+=1){var d=t[u];d.parentNode&&d.parentNode.removeChild(d)}}(f,e,t),this.capacity=Math.max(1,se-d),this.tags.push(f);for(var h=0;h<d;h+=1)this.tagMap[t[h].componentId]=f;return this},e.reset=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];ue=new e(void 0,t).rehydrate()},e.prototype.clone=function(){var t=new e(this.target,this.forceServer);return this.clones.push(t),t.tags=this.tags.map(function(e){for(var n=e.getIds(),r=e.clone(),a=0;a<n.length;a+=1)t.tagMap[n[a]]=r;return r}),t.rehydratedNames=v({},this.rehydratedNames),t.deferred=v({},this.deferred),t},e.prototype.sealAllTags=function(){this.capacity=1,this.tags.forEach(function(e){e.sealed=!0})},e.prototype.makeTag=function(e){var t=e?e.styleTag:null;return ie(this.target,t,this.forceServer,!1,this.getImportRuleTag)},e.prototype.getTagForId=function(e){var t=this.tagMap[e];if(void 0!==t&&!t.sealed)return t;var n=this.tags[this.tags.length-1];return this.capacity-=1,0===this.capacity&&(this.capacity=se,n=this.makeTag(n),this.tags.push(n)),this.tagMap[e]=n},e.prototype.hasId=function(e){return void 0!==this.tagMap[e]},e.prototype.hasNameForId=function(e,t){if(void 0===this.ignoreRehydratedNames[e]&&this.rehydratedNames[t])return!0;var n=this.tagMap[e];return void 0!==n&&n.hasNameForId(e,t)},e.prototype.deferredInject=function(e,t){if(void 0===this.tagMap[e]){for(var n=this.clones,r=0;r<n.length;r+=1)n[r].deferredInject(e,t);this.getTagForId(e).insertMarker(e),this.deferred[e]=t}},e.prototype.inject=function(e,t,n){for(var r=this.clones,a=0;a<r.length;a+=1)r[a].inject(e,t,n);var i=this.getTagForId(e);if(void 0!==this.deferred[e]){var o=this.deferred[e].concat(t);i.insertRules(e,o,n),this.deferred[e]=void 0}else i.insertRules(e,t,n)},e.prototype.remove=function(e){var t=this.tagMap[e];if(void 0!==t){for(var n=this.clones,r=0;r<n.length;r+=1)n[r].remove(e);t.removeRules(e),this.ignoreRehydratedNames[e]=!0,this.deferred[e]=void 0}},e.prototype.toHTML=function(){return this.tags.map(function(e){return e.toHTML()}).join("")},e.prototype.toReactElements=function(){var e=this.id;return this.tags.map(function(t,n){var r="sc-"+e+"-"+n;return Object(s.cloneElement)(t.toElement(),{key:r})})},g(e,null,[{key:"master",get:function(){return ue||(ue=(new e).rehydrate())}},{key:"instance",get:function(){return e.master}}]),e}(),de=function(){function e(t,n){var r=this;m(this,e),this.inject=function(e){e.hasNameForId(r.id,r.name)||e.inject(r.id,r.rules,r.name)},this.toString=function(){throw new O(12,String(r.name))},this.name=t,this.rules=n,this.id="sc-keyframes-"+t}return e.prototype.getName=function(){return this.name},e}(),fe=/([A-Z])/g,he=/^ms-/;var pe=function(e){return void 0===e||null===e||!1===e||""===e},me=function e(t,n){var r=Object.keys(t).filter(function(e){return!pe(t[e])}).map(function(n){return x(t[n])?e(t[n],n):n.replace(fe,"-$1").toLowerCase().replace(he,"-ms-")+": "+(r=n,null==(a=t[n])||"boolean"===typeof a||""===a?"":"number"!==typeof a||0===a||r in u.a?String(a).trim():a+"px")+";";var r,a}).join(" ");return n?n+" {\n  "+r+"\n}":r};function ge(e,t,n){if(Array.isArray(e)){for(var r,a=[],i=0,o=e.length;i<o;i+=1)null!==(r=ge(e[i],t,n))&&(Array.isArray(r)?a.push.apply(a,r):a.push(r));return a}if(pe(e))return null;if(C(e))return"."+e.styledComponentId;if(_(e)){if(t){var s=!1;try{Object(c.isElement)(new e(t))&&(s=!0)}catch(l){}if(s)throw new O(13,S(e));return ge(e(t),t,n)}return e}return e instanceof de?n?(e.inject(n),e.getName()):e:x(e)?me(e):e.toString()}function ve(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return _(e)||x(e)?ge(h(E,[e].concat(n))):ge(h(e,n))}function ye(e){for(var t,n=0|e.length,r=0|n,a=0;n>=4;)t=1540483477*(65535&(t=255&e.charCodeAt(a)|(255&e.charCodeAt(++a))<<8|(255&e.charCodeAt(++a))<<16|(255&e.charCodeAt(++a))<<24))+((1540483477*(t>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(t=1540483477*(65535&(t^=t>>>24))+((1540483477*(t>>>16)&65535)<<16)),n-=4,++a;switch(n){case 3:r^=(255&e.charCodeAt(a+2))<<16;case 2:r^=(255&e.charCodeAt(a+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(a)))+((1540483477*(r>>>16)&65535)<<16)}return((r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16))^r>>>15)>>>0}var be=52,we=function(e){return String.fromCharCode(e+(e>25?39:97))};function xe(e){var t="",n=void 0;for(n=e;n>be;n=Math.floor(n/be))t=we(n%be)+t;return we(n%be)+t}function Ee(e,t){for(var n=0;n<e.length;n+=1){var r=e[n];if(Array.isArray(r)&&!Ee(r,t))return!1;if(_(r)&&!C(r))return!1}return!t.some(function(e){return _(e)||function(e){for(var t in e)if(_(e[t]))return!0;return!1}(e)})}var Te,_e=!1,Se=function(e){return xe(ye(e))},Ce=function(){function e(t,n,r){m(this,e),this.rules=t,this.isStatic=!_e&&Ee(t,n),this.componentId=r,ce.master.hasId(r)||ce.master.deferredInject(r,[])}return e.prototype.generateAndInjectStyles=function(e,t){var n=this.isStatic,r=this.componentId,a=this.lastClassName;if(P&&n&&"string"===typeof a&&t.hasNameForId(r,a))return a;var i=ge(this.rules,e,t),o=Se(this.componentId+i.join(""));return t.hasNameForId(r,o)||t.inject(this.componentId,W(i,"."+o,void 0,r),o),this.lastClassName=o,o},e.generateName=function(e){return Se(e)},e}(),ke=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T,r=!!n&&e.theme===n.theme;return e.theme&&!r?e.theme:t||n.theme},Pe=/[[\].#*$><+~=|^:(),"'`-]+/g,Ie=/(^-|-$)/g;function Me(e){return e.replace(Pe,"-").replace(Ie,"")}function Oe(e){return"string"===typeof e&&!0}var De={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDerivedStateFromProps:!0,propTypes:!0,type:!0},Ae={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Le=((Te={})[c.ForwardRef]={$$typeof:!0,render:!0},Te),Re=Object.defineProperty,je=Object.getOwnPropertyNames,Ne=Object.getOwnPropertySymbols,Ue=void 0===Ne?function(){return[]}:Ne,Fe=Object.getOwnPropertyDescriptor,Be=Object.getPrototypeOf,ze=Object.prototype,He=Array.prototype;function Ve(e,t,n){if("string"!==typeof t){var r=Be(t);r&&r!==ze&&Ve(e,r,n);for(var a=He.concat(je(t),Ue(t)),i=Le[e.$$typeof]||De,o=Le[t.$$typeof]||De,s=a.length,l=void 0,u=void 0;s--;)if(u=a[s],!Ae[u]&&(!n||!n[u])&&(!o||!o[u])&&(!i||!i[u])&&(l=Fe(t,u)))try{Re(e,u,l)}catch(c){}return e}return e}var We=Object(s.createContext)(),qe=We.Consumer,Ge=(function(e){function t(n){m(this,t);var r=w(this,e.call(this,n));return r.getContext=Object(d.a)(r.getContext.bind(r)),r.renderInner=r.renderInner.bind(r),r}y(t,e),t.prototype.render=function(){return this.props.children?l.a.createElement(We.Consumer,null,this.renderInner):null},t.prototype.renderInner=function(e){var t=this.getContext(this.props.theme,e);return l.a.createElement(We.Provider,{value:t},l.a.Children.only(this.props.children))},t.prototype.getTheme=function(e,t){if(_(e))return e(t);if(null===e||Array.isArray(e)||"object"!==("undefined"===typeof e?"undefined":p(e)))throw new O(8);return v({},t,e)},t.prototype.getContext=function(e,t){return this.getTheme(e,t)}}(s.Component),function(){function e(){m(this,e),this.masterSheet=ce.master,this.instance=this.masterSheet.clone(),this.sealed=!1}e.prototype.seal=function(){if(!this.sealed){var e=this.masterSheet.clones.indexOf(this.instance);this.masterSheet.clones.splice(e,1),this.sealed=!0}},e.prototype.collectStyles=function(e){if(this.sealed)throw new O(2);return l.a.createElement(Ze,{sheet:this.instance},e)},e.prototype.getStyleTags=function(){return this.seal(),this.instance.toHTML()},e.prototype.getStyleElement=function(){return this.seal(),this.instance.toReactElements()},e.prototype.interleaveWithNodeStream=function(e){throw new O(3)}}(),Object(s.createContext)()),Ye=Ge.Consumer,Ze=function(e){function t(n){m(this,t);var r=w(this,e.call(this,n));return r.getContext=Object(d.a)(r.getContext),r}return y(t,e),t.prototype.getContext=function(e,t){if(e)return e;if(t)return new ce(t);throw new O(4)},t.prototype.render=function(){var e=this.props,t=e.children,n=e.sheet,r=e.target;return l.a.createElement(Ge.Provider,{value:this.getContext(n,r)},t)},t}(s.Component),Xe=(new Set,{});var Ke=function(e){function t(){m(this,t);var n=w(this,e.call(this));return n.attrs={},n.renderOuter=n.renderOuter.bind(n),n.renderInner=n.renderInner.bind(n),n}return y(t,e),t.prototype.render=function(){return l.a.createElement(Ye,null,this.renderOuter)},t.prototype.renderOuter=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce.master;return this.styleSheet=e,this.props.forwardedComponent.componentStyle.isStatic?this.renderInner():l.a.createElement(qe,null,this.renderInner)},t.prototype.renderInner=function(e){var t=this.props.forwardedComponent,n=t.componentStyle,r=t.defaultProps,a=(t.displayName,t.foldedComponentIds),i=t.styledComponentId,o=t.target,l=void 0;l=n.isStatic?this.generateAndInjectStyles(T,this.props):void 0!==e?this.generateAndInjectStyles(ke(this.props,e,r),this.props):this.generateAndInjectStyles(this.props.theme||T,this.props);var u=this.props.as||this.attrs.as||o,c=Oe(u),d={},h=v({},this.attrs,this.props),p=void 0;for(p in h)"forwardedComponent"!==p&&"as"!==p&&("forwardedRef"===p?d.ref=h[p]:c&&!Object(f.a)(p)||(d[p]=h[p]));return this.props.style&&this.attrs.style&&(d.style=v({},this.attrs.style,this.props.style)),d.className=Array.prototype.concat(a,this.props.className,i,this.attrs.className,l).filter(Boolean).join(" "),Object(s.createElement)(u,d)},t.prototype.buildExecutionContext=function(e,t,n){var r=this,a=v({},t,{theme:e});return n.length?(this.attrs={},n.forEach(function(e){var t,n=e,i=!1,o=void 0,s=void 0;for(s in _(n)&&(n=n(a),i=!0),n)o=n[s],i||!_(o)||(t=o)&&t.prototype&&t.prototype.isReactComponent||C(o)||(o=o(a)),r.attrs[s]=o,a[s]=o}),a):a},t.prototype.generateAndInjectStyles=function(e,t){var n=t.forwardedComponent,r=n.attrs,a=n.componentStyle;n.warnTooManyClasses;return a.isStatic&&!r.length?a.generateAndInjectStyles(T,this.styleSheet):a.generateAndInjectStyles(this.buildExecutionContext(e,t,r),this.styleSheet)},t}(s.Component);function $e(e,t,n){var r=C(e),a=!Oe(e),i=t.displayName,o=void 0===i?function(e){return Oe(e)?"styled."+e:"Styled("+S(e)+")"}(e):i,s=t.componentId,u=void 0===s?function(e,t,n){var r="string"!==typeof t?"sc":Me(t),a=(Xe[r]||0)+1;Xe[r]=a;var i=r+"-"+e.generateName(r+a);return n?n+"-"+i:i}(Ce,t.displayName,t.parentComponentId):s,c=t.ParentComponent,d=void 0===c?Ke:c,f=t.attrs,h=void 0===f?E:f,p=t.displayName&&t.componentId?Me(t.displayName)+"-"+t.componentId:t.componentId||u,m=r&&e.attrs?Array.prototype.concat(e.attrs,h).filter(Boolean):h,g=new Ce(r?e.componentStyle.rules.concat(n):n,m,p),y=l.a.forwardRef(function(e,t){return l.a.createElement(d,v({},e,{forwardedComponent:y,forwardedRef:t}))});return y.attrs=m,y.componentStyle=g,y.displayName=o,y.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):E,y.styledComponentId=p,y.target=r?e.target:e,y.withComponent=function(e){var r=t.componentId,a=b(t,["componentId"]),i=r&&r+"-"+(Oe(e)?e:Me(S(e)));return $e(e,v({},a,{attrs:m,componentId:i,ParentComponent:d}),n)},y.toString=function(){return"."+y.styledComponentId},a&&Ve(y,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,styledComponentId:!0,target:!0,withComponent:!0}),y}var Je=function(e){return function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T;if(!Object(c.isValidElementType)(n))throw new O(1,String(n));var a=function(){return t(n,r,ve.apply(void 0,arguments))};return a.withConfig=function(a){return e(t,n,v({},r,a))},a.attrs=function(a){return e(t,n,v({},r,{attrs:Array.prototype.concat(r.attrs,a).filter(Boolean)}))},a}($e,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){Je[e]=Je(e)});var Qe=function(){function e(t,n){m(this,e),this.rules=t,this.componentId=n,this.isStatic=Ee(t,E),ce.master.hasId(n)||ce.master.deferredInject(n,[])}return e.prototype.createStyles=function(e,t){var n=W(ge(this.rules,e,t),"");t.inject(this.componentId,n)},e.prototype.removeStyles=function(e){var t=this.componentId;e.hasId(t)&&e.remove(t)},e.prototype.renderStyles=function(e,t){this.removeStyles(t),this.createStyles(e,t)},e}();function et(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=ve.apply(void 0,[e].concat(n)),i="sc-global-"+ye(JSON.stringify(a)),o=new Qe(a,i),s=function(e){function t(){m(this,t);var n=w(this,e.call(this)),r=n.constructor,a=r.globalStyle,i=r.styledComponentId;return P&&(window.scCGSHMRCache[i]=(window.scCGSHMRCache[i]||0)+1),n.state={globalStyle:a,styledComponentId:i},n}return y(t,e),t.prototype.componentWillUnmount=function(){window.scCGSHMRCache[this.state.styledComponentId]&&(window.scCGSHMRCache[this.state.styledComponentId]-=1),0===window.scCGSHMRCache[this.state.styledComponentId]&&this.state.globalStyle.removeStyles(this.styleSheet)},t.prototype.render=function(){var e=this;return l.a.createElement(Ye,null,function(t){e.styleSheet=t||ce.master;var n=e.state.globalStyle;return n.isStatic?(n.renderStyles(M,e.styleSheet),null):l.a.createElement(qe,null,function(t){var r=e.constructor.defaultProps,a=v({},e.props);return"undefined"!==typeof t&&(a.theme=ke(e.props,t,r)),n.renderStyles(a,e.styleSheet),null})})},t}(l.a.Component);return s.globalStyle=o,s.styledComponentId=i,s}P&&(window.scCGSHMRCache={});var tt=function(e){var t=l.a.forwardRef(function(t,n){return l.a.createElement(qe,null,function(r){var a=e.defaultProps,i=ke(t,r,a);return l.a.createElement(e,v({},t,{theme:i,ref:n}))})});return Ve(t,e),t.displayName="WithTheme("+S(e)+")",t};t.c=Je}).call(this,n(48))},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return r})},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"FOCUS_GROUP",function(){return Se}),n.d(r,"FOCUS_DISABLED",function(){return Ce}),n.d(r,"FOCUS_ALLOW",function(){return ke}),n.d(r,"FOCUS_AUTO",function(){return Pe});var a=n(1),i=n.n(a),o=n(2);function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t,n){return(c=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&u(a,n.prototype),a}).apply(null,arguments)}function d(e){var t="function"===typeof Map?new Map:void 0;return(d=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return c(e,arguments,l(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),u(r,e)})(e)}Error;function f(){var e;return[(e={html:{lineHeight:"1.15",textSizeAdjust:"100%"},body:{margin:"0"},h1:{fontSize:"2em",margin:"0.67em 0"},hr:{boxSizing:"content-box",height:"0",overflow:"visible"},pre:{fontFamily:"monospace, monospace",fontSize:"1em"},a:{backgroundColor:"transparent"},"abbr[title]":{borderBottom:"none",textDecoration:"underline"}},e["b,\n    strong"]={fontWeight:"bolder"},e["code,\n    kbd,\n    samp"]={fontFamily:"monospace, monospace",fontSize:"1em"},e.small={fontSize:"80%"},e["sub,\n    sup"]={fontSize:"75%",lineHeight:"0",position:"relative",verticalAlign:"baseline"},e.sub={bottom:"-0.25em"},e.sup={top:"-0.5em"},e.img={borderStyle:"none"},e["button,\n    input,\n    optgroup,\n    select,\n    textarea"]={fontFamily:"inherit",fontSize:"100%",lineHeight:"1.15",margin:"0"},e["button,\n    input"]={overflow:"visible"},e["button,\n    select"]={textTransform:"none"},e['button,\n    html [type="button"],\n    [type="reset"],\n    [type="submit"]']={WebkitAppearance:"button"},e['button::-moz-focus-inner,\n    [type="button"]::-moz-focus-inner,\n    [type="reset"]::-moz-focus-inner,\n    [type="submit"]::-moz-focus-inner']={borderStyle:"none",padding:"0"},e['button:-moz-focusring,\n    [type="button"]:-moz-focusring,\n    [type="reset"]:-moz-focusring,\n    [type="submit"]:-moz-focusring']={outline:"1px dotted ButtonText"},e.fieldset={padding:"0.35em 0.625em 0.75em"},e.legend={boxSizing:"border-box",color:"inherit",display:"table",maxWidth:"100%",padding:"0",whiteSpace:"normal"},e.progress={verticalAlign:"baseline"},e.textarea={overflow:"auto"},e['[type="checkbox"],\n    [type="radio"]']={boxSizing:"border-box",padding:"0"},e['[type="number"]::-webkit-inner-spin-button,\n    [type="number"]::-webkit-outer-spin-button']={height:"auto"},e['[type="search"]']={WebkitAppearance:"textfield",outlineOffset:"-2px"},e['[type="search"]::-webkit-search-decoration']={WebkitAppearance:"none"},e["::-webkit-file-upload-button"]={WebkitAppearance:"button",font:"inherit"},e.details={display:"block"},e.summary={display:"list-item"},e.template={display:"none"},e["[hidden]"]={display:"none"},e),{"abbr[title]":{textDecoration:"underline dotted"}}]}var h=n(0),p=n.n(h),m=n(30),g=n.n(m),v=function(e){return 0!==e?e:null},y=function(e){return"@media (min-width: "+e+"px)"},b={xs:0,sm:576,md:768,lg:992,xl:1200},w=function(e){return void 0!==e&&null!==e},x=function(e){return"number"===typeof e&&!Number.isNaN(e)},E=function(e){return"string"===typeof e&&""!==e},T=function(e){return"object"===typeof e&&null!==e},_=function(e){return"function"===typeof e},S=function(e){return e<0},C=function(e,t){return String(t).split(".").reduce(function(e,t){return e&&w(e[t])?e[t]:void 0},e)};function k(e,t){return t?g()(e,t,{clone:!1}):e}function P(e,t,n){if(e)return function e(t,n){return _(t)?e(t(n),n):t}(C(n||e,t),{theme:e})}function I(e,t,n,r,a){var i=P(n,r),o=function(e,t,n){if(w(t)){var r=P(n,e,t);if(w(r))return r}return e}(t,i,n);if(E(o)||x(o)){for(var s={},l=0;l<e.length;l++)s[e[l]]=a?a(o,{rawValue:t,variants:i}):o;return s}return null}function M(e,t,n){var r=function(t){return function(n){var r=function(e){return e?e.theme?e.theme:e:null}(n);return e(t,r)}};return r.meta={props:t,getStyle:e,generators:n},r.props=function(t){var n=t.theme||null;return e(t,n)},r}function O(e,t,n,r,a){for(var i=function(e){var t=P(e,"breakpoints");return w(t)?t:b}(n),o=Object.keys(t),s={},l=0;l<o.length;l++){var u=o[l],c=I(e,t[u],n,r,a);if(null!==c){var d,f=v(i[u]);if(null===f)s=k(s,c);else s=k(s,((d={})[y(f)]=c,d))}}return s}function D(e,t,n,r){return function(a,i){var o=a[e];if(!w(o))return null;var s=I(t=t||[e],o,i,n,r);return null!==s?s:T(o)?O(t,o,i,n,r):null}}function A(e){var t=e.prop,n=e.cssProperties,r=e.themeKey,a=void 0===r?null:r,i=e.transform;return M(D(t,n,a,void 0===i?null:i),[t])}function L(e){for(var t={},n=0;n<e.length;n++){var r=e[n];if(r&&r.meta)for(var a=Object.keys(r.meta.props),i=0;i<a.length;i++){t[r.meta.props[a[i]]]=r}}return t}function R(){for(var e=[],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach(function(t){t.meta.generators?e=[].concat(e,t.meta.generators):e.push(t)});var a=L(e);return M(function(e,t){for(var n=Object.keys(e),r=n.length,i={},o=0;o<r;o++){var s=n[o],l=a[s];l&&(i=k(i,l.meta.getStyle(e,t)))}return i},e.reduce(function(e,t){return[].concat(e,t.meta.props)},[]),n)}var j=R(A({prop:"background"}),A({prop:"backgroundColor",themeKey:"colors"}),A({prop:"backgroundImage"}),A({prop:"backgroundSize"}),A({prop:"backgroundPosition"}),A({prop:"backgroundRepeat"})),N=R(A({prop:"opacity"}),A({prop:"overflow"})),U=function(e){return function(t){return x(t)?""+t+e:t}}("px"),F=function(e){return!x(e)||e>1?U(e):100*e+"%"},B=function(e){return x(e)&&e>0?e+"px solid":e},z=A({prop:"border",themeKey:"borders",transform:B}),H=A({prop:"borderTop",themeKey:"borders",transform:B}),V=A({prop:"borderRight",themeKey:"borders",transform:B}),W=A({prop:"borderBottom",themeKey:"borders",transform:B}),q=A({prop:"borderLeft",themeKey:"borders",transform:B}),G=R(z,H,V,W,q,A({prop:"borderColor",themeKey:"colors"}),A({prop:"borderRadius",themeKey:"radii",transform:U}),A({prop:"boxShadow",themeKey:"shadows"})),Y=R(A({prop:"width",transform:F,themeKey:"widths"}),A({prop:"height",transform:F,themeKey:"heights"}),A({prop:"maxWidth",transform:F,themeKey:"widths"}),A({prop:"maxHeight",transform:F,themeKey:"heights"}),A({prop:"minWidth",transform:F,themeKey:"widths"}),A({prop:"minHeight",transform:F,themeKey:"heights"})),Z=R(A({prop:"display"}),A({prop:"alignItems"}),A({prop:"alignContent"}),A({prop:"justifyContent"}),A({prop:"flexWrap"}),A({prop:"flexBasis",transform:F}),A({prop:"flexDirection"}),A({prop:"flex"}),A({prop:"justifySelf"}),A({prop:"alignSelf"}),A({prop:"order"})),X=R(A({prop:"position"}),A({prop:"zIndex",themeKey:"zIndexes"}),A({prop:"top",transform:U}),A({prop:"right",transform:U}),A({prop:"bottom",transform:U}),A({prop:"left",transform:U})),K=[0,8,16,24,32,40,48,56,64,72];function $(e,t){var n=t.rawValue,r=t.variants,a=void 0===r?K:r;if(!x(n))return a[n]||n;var i=Math.abs(n),o=S(n),s=a[i]||i;return x(s)?s*(o?-1:1):o?"-"+s:s}var J=A({prop:"m",cssProperties:["margin"],themeKey:"spaces",transform:$}),Q=A({prop:"mt",cssProperties:["marginTop"],themeKey:"spaces",transform:$}),ee=A({prop:"mr",cssProperties:["marginRight"],themeKey:"spaces",transform:$}),te=A({prop:"mb",cssProperties:["marginBottom"],themeKey:"spaces",transform:$}),ne=A({prop:"ml",cssProperties:["marginLeft"],themeKey:"spaces",transform:$}),re=A({prop:"mx",cssProperties:["marginRight","marginLeft"],themeKey:"spaces",transform:$}),ae=A({prop:"my",cssProperties:["marginTop","marginBottom"],themeKey:"spaces",transform:$}),ie=A({prop:"p",cssProperties:["padding"],themeKey:"spaces",transform:$}),oe=A({prop:"pt",cssProperties:["paddingTop"],themeKey:"spaces",transform:$}),se=A({prop:"pr",cssProperties:["paddingRight"],themeKey:"spaces",transform:$}),le=A({prop:"pb",cssProperties:["paddingBottom"],themeKey:"spaces",transform:$}),ue=A({prop:"pl",cssProperties:["paddingLeft"],themeKey:"spaces",transform:$}),ce=R(J,Q,ee,te,ne,re,ae,ie,oe,se,le,ue,A({prop:"px",cssProperties:["paddingRight","paddingLeft"],themeKey:"spaces",transform:$}),A({prop:"py",cssProperties:["paddingTop","paddingBottom"],themeKey:"spaces",transform:$})),de=R(j,N,G,Y,Z,X,ce,R(A({prop:"fontFamily",themeKey:"fonts"}),A({prop:"fontSize",themeKey:"fontSizes"}),A({prop:"lineHeight",themeKey:"lineHeights"}),A({prop:"fontWeight",themeKey:"fontWeights"}),A({prop:"textAlign"}),A({prop:"letterSpacing",themeKey:"letterSpacings",transform:U}),A({prop:"color",themeKey:"colors"}),A({prop:"textTransform"}))),fe=n(21),he=n.n(fe),pe=n(14),me=n.n(pe),ge=n(4),ve=n.n(ge),ye=n(5),be=n.n(ye),we=function(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t},xe=function(e){return Array.isArray(e)?e:[e]},Ee=function(e,t){var n=e.tabIndex-t.tabIndex,r=e.index-t.index;if(n){if(!e.tabIndex)return 1;if(!t.tabIndex)return-1}return n||r},Te=function(e,t,n){return we(e).map(function(e,t){return{node:e,index:t,tabIndex:n&&-1===e.tabIndex?(e.dataset||{}).focusGuard?0:-1:e.tabIndex}}).filter(function(e){return!t||e.tabIndex>=0}).sort(Ee)},_e=["button:enabled:not([readonly])","select:enabled:not([readonly])","textarea:enabled:not([readonly])","input:enabled:not([readonly])","a[href]","area[href]","iframe","object","embed","[tabindex]","[contenteditable]","[autofocus]"],Se="data-focus-lock",Ce="data-focus-lock-disabled",ke="data-no-focus-lock",Pe="data-autofocus-inside",Ie=_e.join(","),Me=Ie+", [data-focus-guard]",Oe=function(e,t){return e.reduce(function(e,n){return e.concat(we(n.querySelectorAll(t?Me:Ie)),n.parentNode?we(n.parentNode.querySelectorAll(_e.join(","))).filter(function(e){return e===n}):[])},[])},De=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return n.push(t),t.parentNode&&e(t.parentNode,n),n},Ae=function(e,t){for(var n=De(e),r=De(t),a=0;a<n.length;a+=1){var i=n[a];if(r.indexOf(i)>=0)return i}return!1},Le=function(e){return we(e).filter(function(e){return function e(t){return!t||t===document||!((n=window.getComputedStyle(t,null))&&n.getPropertyValue&&("none"===n.getPropertyValue("display")||"hidden"===n.getPropertyValue("visibility")))&&e(t.parentNode);var n}(e)}).filter(function(e){return function(e){return!(("INPUT"===e.tagName||"BUTTON"===e.tagName)&&("hidden"===e.type||e.disabled))}(e)})},Re=function(e,t){return Te(Le(Oe(e,t)),!0,t)},je=function(e){return Le(function(e){var t=e.querySelectorAll("["+Pe+"]");return we(t).map(function(e){return Oe([e])}).reduce(function(e,t){return e.concat(t)},[])}(e))},Ne=function(e){return"INPUT"===e.tagName&&"radio"===e.type},Ue=function(e){return e[0]&&e.length>1&&Ne(e[0])&&e[0].name?function(e,t){return t.filter(Ne).filter(function(t){return t.name===e.name}).filter(function(e){return e.checked})[0]||e}(e[0],e):e[0]},Fe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Be=function(e){return xe(e).filter(Boolean).reduce(function(e,t){var n=t.getAttribute(Se);return e.push.apply(e,n?function e(t){for(var n=t.length,r=0;r<n;r+=1)for(var a=function(n){if(r!==n&&t[r].contains(t[n]))return{v:e(t.filter(function(e){return e!==t[n]}))}},i=0;i<n;i+=1){var o=a(i);if("object"===("undefined"===typeof o?"undefined":Fe(o)))return o.v}return t}(we(function e(t){return t.parentNode?e(t.parentNode):t}(t).querySelectorAll("["+Se+'="'+n+'"]:not(['+Ce+'="disabled"])'))):[t]),e},[])},ze=function(e,t,n){var r=xe(e),a=xe(t),i=r[0],o=null;return a.filter(Boolean).forEach(function(e){o=Ae(o||e,e)||o,n.filter(Boolean).forEach(function(e){var t=Ae(i,e);t&&(o=!o||t.contains(o)?t:Ae(t,o))})}),o},He=function(e){return!(e.dataset&&e.dataset.focusGuard)},Ve=function(e,t){var n=document&&document.activeElement,r=Be(e).filter(He),a=ze(n||e,e,r),i=Re(r).filter(function(e){var t=e.node;return He(t)});if(i[0]||(i=(o=r,Te(Le(Oe(o)),!1)).filter(function(e){var t=e.node;return He(t)}))[0]){var o,s,l,u=Re([a]).map(function(e){return e.node}),c=(s=i,u.map(function(e){return s.find(function(t){var n=t.node;return e===n})}).filter(Boolean)),d=c.map(function(e){return e.node}),f=function(e,t,n,r,a){var i=e.length,o=e[0],s=e[i-1];if(!(e.indexOf(n)>=0)){var l=t.indexOf(n),u=t.indexOf(r||l),c=e.indexOf(r),d=l-u,f=t.indexOf(o),h=t.indexOf(s);return-1===l||-1===c?e.indexOf(a.length?Ue(a):Ue(e)):!d&&c>=0?c:d&&Math.abs(d)>1?c:l<=f?i-1:l>h?0:d?Math.abs(d)>1?c:(i+c+d)%i:void 0}}(d,u,n,t,d.filter((l=function(e){return e.reduce(function(e,t){return e.concat(je(t))},[])}(r),function(e){return!!e.autofocus||e.dataset&&!!e.dataset.autofocus||l.indexOf(e)>=0})));return void 0===f?f:c[f]}},We=function(e){return e===document.activeElement},qe=function(e){var t=document&&document.activeElement;return!(!t||t.dataset&&t.dataset.focusGuard)&&Be(e).reduce(function(e,n){return e||n.contains(t)||function(e){return t=we(e.querySelectorAll("iframe")),n=We,!!t.filter(function(e){return e===n})[0];var t,n}(n)},!1)},Ge=function(){return document&&we(document.querySelectorAll("["+ke+"]")).some(function(e){return e.contains(document.activeElement)})},Ye=0,Ze=!1,Xe=function(e,t){var n,r=Ve(e,t);if(!Ze&&r){if(Ye>2)return console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),Ze=!0,void setTimeout(function(){Ze=!1},1);Ye++,(n=r.node).focus(),n.contentWindow&&n.contentWindow.focus(),Ye--}},Ke=n(31),$e=n.n(Ke);function Je(e){var t=window.setImmediate;"undefined"!==typeof t?t(e):setTimeout(e,1)}var Qe=function(){return document&&document.activeElement===document.body||Ge()},et=null,tt=null,nt=null;function rt(e,t,n,r){var a=null,i=e;do{var o=r[i];if(o.guard)o.node.dataset.focusAutoGuard&&(a=o);else{if(!o.lockItem)break;if(i!==e)return;a=null}}while((i+=n)!==t);a&&(a.node.tabIndex=0)}var at=function(e){return e&&"current"in e?e.current:e},it=function(){var e,t=!1;if(et){var n=et,r=n.observed,a=n.persistentFocus,i=n.autoFocus,o=n.shards,s=r||nt&&nt.portaledElement,l=document&&document.activeElement;if(s){var u=[s].concat(o.map(at).filter(Boolean));if(l&&!function(e){return(et.whiteList||function(){return!0})(e)}(l)||(a||!Qe()||!tt&&i)&&(!s||qe(u)||(e=l,nt&&nt.portaledElement===e)||(document&&!tt&&l&&!i?(l.blur(),document.body.focus()):(t=Xe(u,tt),nt={})),tt=document&&document.activeElement),document){var c=document&&document.activeElement,d=function(e){var t=Be(e).filter(He),n=ze(e,e,t),r=Re([n],!0),a=Re(t).filter(function(e){var t=e.node;return He(t)}).map(function(e){return e.node});return r.map(function(e){var t=e.node;return{node:t,index:e.index,lockItem:a.indexOf(t)>=0,guard:!He(t)}})}(u),f=d.find(function(e){return e.node===c});if(f){d.filter(function(e){var t=e.guard,n=e.node;return t&&n.dataset.focusAutoGuard}).forEach(function(e){return e.node.removeAttribute("tabIndex")});var h=d.indexOf(f);rt(h,d.length,1,d),rt(h,-1,-1,d)}}}}return t},ot=function(e){it()&&e&&(e.stopPropagation(),e.preventDefault())},st=function(){return Je(it)},lt=function(e){var t=e.target,n=e.currentTarget;n.contains(t)||(nt={observerNode:n,portaledElement:t})},ut=function(){document.addEventListener("focusin",ot,!0),document.addEventListener("focusout",st)},ct=function(){document.removeEventListener("focusin",ot,!0),document.removeEventListener("focusout",st)};var dt=function(e,t){return function(n){var r,a=[];function i(){r=e(a.map(function(e){return e.props})),t(r)}var o=function(e){function t(){return e.apply(this,arguments)||this}me()(t,e),t.peek=function(){return r};var o=t.prototype;return o.shouldComponentUpdate=function(e){return!$e()(e,this.props)},o.componentDidMount=function(){a.push(this),i()},o.componentDidUpdate=function(){i()},o.componentWillUnmount=function(){var e=a.indexOf(this);a.splice(e,1),i()},o.render=function(){return p.a.createElement(n,this.props)},t}(h.Component);return be()(o,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(n)+")"),o}}(function(e){return e.filter(function(e){return!e.disabled}).slice(-1)[0]},function(e){e&&!et&&ut();var t=et,n=t&&e&&e.onActivation===t.onActivation;et=e,t&&!n&&t.onDeactivation(),e?(tt=null,n&&t.observed===e.observed||e.onActivation(),it(!0),Je(it)):(ct(),tt=null)})(function(){return null}),ft={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},ht=function(e){var t=e.children;return p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{key:"guard-first","data-focus-guard":!0,"data-focus-auto-guard":!0,style:ft}),t,t&&p.a.createElement("div",{key:"guard-last","data-focus-guard":!0,"data-focus-auto-guard":!0,style:ft}))};ht.propTypes={},ht.defaultProps={children:null};var pt=function(e){var t=e.children;return p.a.createElement("div",null,t)};pt.propTypes={};var mt=p.a.Fragment?p.a.Fragment:pt,gt=[],vt=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,be()(ve()(ve()(t)),"state",{observed:void 0}),be()(ve()(ve()(t)),"onActivation",function(){t.originalFocusedElement=t.originalFocusedElement||document&&document.activeElement,t.state.observed&&t.props.onActivation&&t.props.onActivation(t.state.observed),t.isActive=!0}),be()(ve()(ve()(t)),"onDeactivation",function(){t.isActive=!1,t.props.returnFocus&&t.originalFocusedElement&&t.originalFocusedElement.focus&&(t.originalFocusedElement.focus(),t.originalFocusedElement=null),t.props.onDeactivation&&t.props.onDeactivation(t.state.observed)}),be()(ve()(ve()(t)),"onFocus",function(e){t.isActive&&lt(e)}),be()(ve()(ve()(t)),"onBlur",st),be()(ve()(ve()(t)),"setObserveNode",function(e){return t.setState({observed:e})}),be()(ve()(ve()(t)),"isActive",!1),be()(ve()(ve()(t)),"update",function(){return t.setState(function(e){return{escapeAttempts:e.escapeAttempts+1}})}),be()(ve()(ve()(t)),"originalFocusedElement",null),t}return me()(t,e),t.prototype.render=function(){var e,t=this.props,n=t.children,a=t.disabled,i=t.noFocusGuards,o=t.persistentFocus,s=t.autoFocus,l=(t.allowTextSelection,t.group),u=t.className,c=t.whiteList,d=t.shards,f=void 0===d?gt:d,h=t.as,m=void 0===h?"div":h,g=t.lockProps,v=void 0===g?{}:g,y=this.state.observed;var b=he()(((e={})[r.FOCUS_DISABLED]=a&&"disabled",e[r.FOCUS_GROUP]=l,e),v);return p.a.createElement(mt,null,!i&&[p.a.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:a?-1:0,style:ft}),p.a.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:a?-1:1,style:ft})],p.a.createElement(m,he()({ref:this.setObserveNode},b,{className:u,onBlur:this.onBlur,onFocus:this.onFocus}),p.a.createElement(dt,{observed:y,disabled:a,persistentFocus:o,autoFocus:s,whiteList:c,shards:f,onActivation:this.onActivation,onDeactivation:this.onDeactivation}),n),!i&&p.a.createElement("div",{"data-focus-guard":!0,tabIndex:a?-1:0,style:ft}))},t}(h.Component);vt.propTypes={},vt.defaultProps={disabled:!1,returnFocus:!1,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};var yt=function(e,t){return(yt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function bt(e,t){function n(){this.constructor=e}yt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var wt=function(){return(wt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};var xt=function(){var e=0,t=null;return{add:function(n){var r,a;0==e&&(t=function(){if(!document)return null;var e=document.createElement("style");return e.type="text/css",e}())&&(a=n,(r=t).styleSheet?r.styleSheet.cssText=a:r.appendChild(document.createTextNode(a)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){!--e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Et={left:0,top:0,right:0,gap:0},Tt=function(e){if(void 0===e&&(e="margin"),"undefined"===typeof window)return Et;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],a=t["padding"===e?"paddingRight":"marginRight"];return[parseInt(n||"",10)||0,parseInt(r||"",10)||0,parseInt(a||"",10)||0]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},_t=function(){var e=xt();return function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return bt(n,t),n.prototype.componentDidMount=function(){e.add(this.props.styles)},n.prototype.componentWillUnmount=function(){e.remove()},n.prototype.render=function(){return null},n}(h.PureComponent)}(),St=function(e,t,n,r){var a=e.left,i=e.top,o=e.right,s=e.gap;return void 0===n&&(n="margin"),"\n  body {\n    overflow: hidden "+r+";\n    "+[t&&"position: relative "+r+";","margin"==n&&"\n    padding-left: "+a+"px;\n    padding-top: "+i+"px;\n    padding-right: "+o+"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: "+s+"px "+r+";\n    ","padding"==n&&"padding-right: "+s+"px "+r+";"].filter(Boolean).join("")+"\n  }\n  \n  .right-scroll-bar-position {\n    right: "+s+"px "+r+";\n  }\n  \n  .width-before-scroll-bar {\n    margin-right: "+s+"px "+r+";\n  }\n  \n  .right-scroll-bar-position .right-scroll-bar-position {\n    right: 0 "+r+";\n  }\n  \n  .width-before-scroll-bar .width-before-scroll-bar {\n    margin-right: 0 "+r+";\n  }\n"},Ct=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={gap:Tt(t.props.gapMode)},t.onResize=function(){t.forceUpdate(),t.state.gap&&t.props.dynamic&&window.innerHeight>document.body.offsetHeight&&t.setState({gap:Et})},t}return bt(t,e),t.prototype.componentDidMount=function(){var e=Tt(this.props.gapMode);e!==this.state.gap&&this.setState({gap:e}),"undefined"!==typeof window&&window.addEventListener("resize",this.onResize)},t.prototype.componentWillUnmount=function(){"undefined"!==typeof window&&window.removeEventListener("resize",this.onResize)},t.prototype.componentDidUpdate=function(){if(!this.state.gap){var e=Tt(this.props.gapMode);e!==this.state.gap&&this.setState({gap:e})}},t.prototype.render=function(){var e=this.props,t=e.noRelative,n=e.noImportant,r=e.gapMode,a=void 0===r?"margin":r,i=this.state.gap;return i.gap?h.createElement(_t,{styles:St(i,!t,a,n?"":"!important")}):null},t}(h.Component),kt=function(e,t,n){var r,a=n,i=t.target,o=e.contains(i),s=!1,l=a>0,u=0,c=0;do{var d=i.scrollTop,f=i.scrollHeight-i.clientHeight-d;(d||f)&&(r=i,"hidden"!==window.getComputedStyle(r).overflowX&&(u+=f,c+=d)),i=i.parentNode}while(!o&&i!==document.body||o&&(e.contains(i)||e===i));return l&&a>u?s=!0:!l&&-a>c&&(s=!0),s},Pt=!1;if("undefined"!==typeof window)try{var It=Object.defineProperty({},"passive",{get:function(){return Pt=!0,!0}});window.addEventListener("test",It,It),window.removeEventListener("test",It,It)}catch(lr){Pt=!1}var Mt=!!Pt&&{passive:!1},Ot=function(e){return e.changedTouches?e.changedTouches[0].clientY:0},Dt={fullWidth:"width-before-scroll-bar",zeroRight:"right-scroll-bar-position"},At=function(e){return e&&"current"in e?e.current:e};!function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.shouldPreventQueue=[],n.touchStart=0,n.ref=h.createRef(),n.shouldPrevent=function(e){var r=t.stack.filter(function(e){return e.props.enabled});if(r.length&&r[r.length-1]===n){var a=e.deltaY||Ot(e),i=n.shouldPreventQueue.filter(function(t){return t.name===e.type&&t.delta===a&&t.target===e.target})[0];if(i&&i.should)e.preventDefault();else if(!i){var o=(n.props.shards||[]).map(At).filter(Boolean).filter(function(t){return t.contains(e.target)});(o.length>0?n.shouldCancelEvent(e,o[0]):!n.props.noIsolation)&&e.preventDefault()}}},n.shouldCancel=function(e,t,r,a){var i={name:e,delta:t,target:r,should:a};n.shouldPreventQueue.push(i),setTimeout(function(){n.shouldPreventQueue=n.shouldPreventQueue.filter(function(e){return e!==i})},1)},n.scrollTouchStart=function(e){n.touchStart=Ot(e)},n.scrollWheel=function(e){n.shouldCancel(e.type,e.deltaY,e.target,n.shouldCancelEvent(e,n.ref.current))},n.scrollTouchMove=function(e){n.shouldCancel(e.type,Ot(e),e.target,n.shouldCancelEvent(e,n.ref.current))},n}bt(t,e),t.prototype.componentDidMount=function(){t.stack.push(this),this.componentDidUpdate({enabled:!1})},t.prototype.componentWillUnmount=function(){var e=this;t.stack=t.stack.filter(function(t){return t!==e}),this.disable()},t.prototype.componentDidUpdate=function(e){e.enabled!==this.props.enabled&&(this.props.enabled?this.enable():this.disable())},t.prototype.enable=function(){"undefined"!==typeof document&&(document.addEventListener("wheel",this.shouldPrevent,Mt),document.addEventListener("touchmove",this.shouldPrevent,Mt),document.addEventListener("touchstart",this.scrollTouchStart,Mt))},t.prototype.disable=function(){"undefined"!==typeof window&&(document.removeEventListener("wheel",this.shouldPrevent,Mt),document.removeEventListener("touchmove",this.shouldPrevent,Mt),document.removeEventListener("touchstart",this.scrollTouchStart,Mt))},t.prototype.shouldCancelEvent=function(e,t){switch(e.type){case"wheel":case"scroll":return kt(t,e,e.deltaY);case"touchmove":return kt(t,e,this.touchStart-Ot(e))}return!1},t.prototype.render=function(){var e=this.props,t=e.forwardProps,n=e.children,r=e.className,a=e.removeScrollBar,i=e.enabled,o={ref:this.ref,onScrollCapture:this.scrollWheel,onWheelCapture:this.scrollWheel,onTouchMoveCapture:this.scrollTouchMove};return h.createElement(h.Fragment,null,a&&i&&h.createElement(Ct,{gapMode:"margin"}),t?h.cloneElement(h.Children.only(n),o):h.createElement("div",wt({},o,{className:r}),n))},t.classNames=Dt,t.defaultProps={enabled:!0,removeScrollBar:!0},t.stack=[]}(h.Component);var Lt=n(7),Rt=n.n(Lt);function jt(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function Nt(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function Ut(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}jt.__suppressDeprecationWarning=!0,Nt.__suppressDeprecationWarning=!0,Ut.__suppressDeprecationWarning=!0;var Ft="unmounted",Bt="exited",zt="entering",Ht="entered",Vt=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var a,i=n.transitionGroup,o=i&&!i.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(a=Bt,r.appearStatus=zt):a=Ht:a=t.unmountOnExit||t.mountOnEnter?Ft:Bt,r.state={status:a},r.nextCallback=null,r}s(t,e);var n=t.prototype;return n.getChildContext=function(){return{transitionGroup:null}},t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Ft?{status:Bt}:null},n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==zt&&n!==Ht&&(t=zt):n!==zt&&n!==Ht||(t="exiting")}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=Rt.a.findDOMNode(this);t===zt?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===Bt&&this.setState({status:Ft})},n.performEnter=function(e,t){var n=this,r=this.props.enter,a=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,i=this.getTimeouts(),o=a?i.appear:i.enter;t||r?(this.props.onEnter(e,a),this.safeSetState({status:zt},function(){n.props.onEntering(e,a),n.onTransitionEnd(e,o,function(){n.safeSetState({status:Ht},function(){n.props.onEntered(e,a)})})})):this.safeSetState({status:Ht},function(){n.props.onEntered(e)})},n.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:"exiting"},function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,function(){t.safeSetState({status:Bt},function(){t.props.onExited(e)})})})):this.safeSetState({status:Bt},function(){t.props.onExited(e)})},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===Ft)return null;var t=this.props,n=t.children,r=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"===typeof n)return n(e,r);var a=p.a.Children.only(n);return p.a.cloneElement(a,r)},t}(p.a.Component);function Wt(){}Vt.contextTypes={transitionGroup:a.object},Vt.childContextTypes={transitionGroup:function(){}},Vt.propTypes={},Vt.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Wt,onEntering:Wt,onEntered:Wt,onExit:Wt,onExiting:Wt,onExited:Wt},Vt.UNMOUNTED=0,Vt.EXITED=1,Vt.ENTERING=2,Vt.ENTERED=3,Vt.EXITING=4;(function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,r=null,a=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?r="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?a="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(a="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==a){var i=e.displayName||e.name,o="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+i+" uses "+o+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==a?"\n  "+a:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=jt,t.componentWillReceiveProps=Nt),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=Ut;var s=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;s.call(this,e,t,r)}}})(Vt),n(27);n.d(t,"a",function(){return Xn}),n.d(t,"b",function(){return nr}),n.d(t,"c",function(){return or}),n.d(t,"d",function(){return ar}),n.d(t,"e",function(){return sr});var qt=function(e){return"@media (min-width: "+e+"px)"};function Gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yt(){return(Yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Gt(e,t,n[t])})}return e}function Xt(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}var Kt=function(e){return void 0!==e&&null!==e},$t=function(e){return"number"===typeof e&&!Number.isNaN(e)},Jt=function(e){return"function"===typeof e},Qt=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.join(".").split(".").reduce(function(e,t){return e&&Kt(e[t])?e[t]:void 0},e)},en=function e(t){if(!Jt(t))return t;for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];var i=t.apply(void 0,r);return e.apply(void 0,[i].concat(r))},tn=function(e,t){for(var n=Zt({},e),r=0;r<t.length;r+=1){delete n[t[r]]}return n},nn=function(e){var t=e.theme;return void 0===t?{}:t},rn=function(e,t,n){var r=function(r){var a=en(function(t){return Qt(nn(t),e)},r);return void 0===a?en(t,r):n?n(a):a};return r.default=t,r};function an(e){for(var t={},n=Object.keys(e),r=0;r<n.length;r++){var a=n[r],i=e[a];t[a]=i&&void 0!==i.default?i.default:i}return t}var on=rn("black","#000"),sn=rn("white","#fff"),ln=rn("gray100","#f8f9fa"),un=rn("gray200","#e9ecef"),cn=rn("gray300","#dee2e6"),dn=rn("gray400","#ced4da"),fn=rn("gray500","#adb5bd"),hn=rn("gray600","#6c757d"),pn=rn("gray700","#495057"),mn=rn("gray800","#343a40"),gn=rn("gray900","#212529"),vn=rn("blue","#007bff"),yn=rn("indigo","#6610f2"),bn=rn("purple","#6f42c1"),wn=rn("pink","#e83e8c"),xn=rn("red","#dc3545"),En=rn("brick","#bd4932"),Tn=rn("orange","#fd7e14"),_n=rn("yellow","#ffc107"),Sn=rn("green","#28a745"),Cn=rn("teal","#20c997"),kn=rn("cyan","#17a2b8"),Pn=rn("primary",En),In=rn("secondary",hn),Mn=rn("success",Sn),On=rn("info",kn),Dn=rn("warning",_n),An=rn("danger",xn),Ln=rn("light",ln),Rn=rn("dark",mn),jn=rn("colors",{black:on,white:sn,gray100:ln,gray200:un,gray300:cn,gray400:dn,gray500:fn,gray600:hn,gray700:pn,gray800:mn,gray900:gn,blue:vn,indigo:yn,purple:bn,pink:wn,red:xn,brick:En,orange:Tn,yellow:_n,green:Sn,teal:Cn,cyan:kn,primary:Pn,secondary:In,success:Mn,info:On,warning:Dn,danger:An,light:Ln,dark:Rn}),Nn=rn("fontSizes",[12,14,16,20,24,32,48,64,72]),Un=rn("fontFamily",'-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif'),Fn=rn("fontSizeBase","1rem"),Bn=rn("lineHeightBase",1.5),zn=rn("gridColumns",12),Hn=rn("gridGutter",1),Vn=rn("gridMaxWidths",{sm:"540px",md:"720px",lg:"960px",xl:"1140px"}),Wn=rn("breakpoints",{xs:0,sm:576,md:768,lg:992,xl:1200}),qn=rn("spaces",[0,8,16,24,32,40,48,56,64,72]);function Gn(e){return e?e.meta.props.reduce(function(e,t){return e[t]=i.a.oneOfType([i.a.number,i.a.string,i.a.object]),e},{}):{}}var Yn=an(Object.freeze({colors:jn,fontSizes:Nn,spaces:qn}));function Zn(e){var t=e(),n=t.name,r=t.style,a=t.omitProps,s=void 0===a?[]:a,l=t.defaultProps,u=void 0===l?{}:l,c=t.propTypes,d=void 0===c?{}:c,f=t.render,h=void 0===f?function(e){var t=e.Component,n=Xt(e,["Component"]);return p.a.createElement(t,n)}:f,m=t.defaultComponent,g=void 0===m?"div":m,v=t.system,y=void 0===v?de:v,b=t.applySystem,w=void 0===b?function(e){return function(t){return{"&&":e.props(t)}}}:b,x=t.InnerComponent,E=["theme"].concat(y?y.meta.props:{},s),T="sui-"+n,_=x||function(e){var t=e.className,n=e.as,r=e.forwardedRef,a=Xt(e,["className","as","forwardedRef"]),i=n||g,o=Zt({ref:r,Component:i,className:t?T+" "+t:T},tn(a,E));return h(o)};function S(e,t){return p.a.createElement(_,Yt({},e,{forwardedRef:t}))}_.displayName="sui-"+n,S.displayName=_.displayName;var C=p.a.forwardRef(S);C.displayName=_.displayName;var k=Object(o.c)(C)(function(e){var t=[],n=function(e,t){var n=Zt({},Yn,nn(e));return Zt({},t,e,{theme:n})}(e,u);return Jt(r)&&t.push(r(n)),Jt(w)&&t.push(w(y)(n)),t});return k.propTypes=Zt({theme:i.a.object},Gn(y),d),k.defaultProps=Zt({},u),k}var Xn=Zn(function(){return{name:"box"}});var Kn={position:"relative",width:"100%",minHeight:"1px"};function $n(e){return e||0===e}function Jn(e,t){return Math.round(e/t*Math.pow(10,6))/Math.pow(10,4)+"%"}function Qn(e,t,n){var r=n[e];if(!$n(r))return null;var a=zn(n),i=qt(t),o=function(e){var n;return 0===t?e:((n={})[i]=e,n)};if(!0===r)return Zt({},Kn,o({flexBasis:0,flexGrow:1,maxWidth:"100%"}));if("auto"===r)return Zt({},Kn,o({flex:"0 0 auto",maxWidth:"none",width:"auto"}));var s=Jn(r,a);return Zt({},Kn,o(Zt({flex:"0 0 "+s,maxWidth:s},function(e,t){return $n(e)?{marginLeft:Jn(e,t)}:null}(n["o"+e],a))))}function er(e){for(var t=e.gutter,n=void 0===t?Hn(e):t,r=Wn(e),a=Object.keys(r),i=Zt({boxSizing:"border-box"},se({pr:n})(e),ue({pl:n})(e),{flexBasis:0,flexGrow:1,maxWidth:"100%"}),o=-1;++o<a.length;){var s=a[o];Object.assign(i,Qn(s,r[s],e))}return i}function tr(){var e=Zn(function(){return{name:"col",omitProps:["xs","sm","md","lg","xl","oxs","osm","omd","olg","oxl"],style:er,propTypes:{children:i.a.node,gutter:Gn(se).pr,xs:i.a.oneOfType([i.a.bool,i.a.string,i.a.number]),sm:i.a.oneOfType([i.a.bool,i.a.string,i.a.number]),md:i.a.oneOfType([i.a.bool,i.a.string,i.a.number]),lg:i.a.oneOfType([i.a.bool,i.a.string,i.a.number]),xl:i.a.oneOfType([i.a.bool,i.a.string,i.a.number]),oxs:i.a.oneOfType([i.a.string,i.a.number]),osm:i.a.oneOfType([i.a.string,i.a.number]),omd:i.a.oneOfType([i.a.string,i.a.number]),olg:i.a.oneOfType([i.a.string,i.a.number]),oxl:i.a.oneOfType([i.a.string,i.a.number])}}}),t=Zn(function(){return{name:"col-split",style:function(){return Object(o.b)(["width:100% !important;"])}}});return e.Split=t,e}var nr=tr();function rr(){var e,t,n=(e=["\n  ","\n  html,\n  body {\n    font-family: ",";\n    font-size: ",";\n    line-height: ",";\n    -webkit-font-smoothing: antialiased;\n  }\n\n  * {\n    box-sizing: border-box;\n  }\n"],t||(t=e.slice(0)),e.raw=t,e);return rr=function(){return n},n}var ar=Object(o.a)(rr(),f(),Un,Fn,Bn),ir=function(e){var t=Wn(e),n=Vn(e);return Object.keys(t).reduce(function(e,r){return Object.assign(e,function(e){var r=t[e];return function(e){var t;return 0===r?e:((t={})[qt(r)]=e,t)}({maxWidth:n[e]})}(r))},{})},or=Zn(function(){return{name:"grid",omitProps:["gutter","fluid"],style:function(e){var t=e.gutter,n=void 0===t?Hn(e):t;return Zt({width:"100%"},se({pr:n})(e),ue({pl:n})(e),{marginRight:"auto",marginLeft:"auto"},e.fluid?null:ir(e))},propTypes:{children:i.a.node,gutter:Gn(se).pr,fluid:i.a.bool}}});var sr=Zn(function(){return{name:"row",omitProps:["gutter"],style:function(e){var t,n=e.gutter,r=void 0===n?Hn(e):n,a=$t(t=r)?-t:"-"+t;return Object(o.b)(["box-sizing:border-box;flex-grow:1;flex-wrap:wrap;display:flex;"," ",""],ne({ml:a})(e),ee({mr:a})(e))},propTypes:{children:i.a.node,gutter:Gn(ne).ml}}})},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(42)},function(e,t,n){var r;window,r=function(){return function(e){var t=window.webpackHotUpdate;window.webpackHotUpdate=function(e,n){!function(e,t){if(!x[e]||!w[e])return;for(var n in w[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(m[n]=t[n]);0===--v&&0===y&&S()}(e,n),t&&t(e,n)};var n,r=!0,a="72ed982d5a0046aad5fa",i=1e4,o={},s=[],l=[];function u(e){var t=k[e];if(!t)return P;var r=function(r){return t.hot.active?(k[r]?-1===k[r].parents.indexOf(e)&&k[r].parents.push(e):(s=[e],n=r),-1===t.children.indexOf(r)&&t.children.push(r)):(console.warn("[HMR] unexpected require("+r+") from disposed module "+e),s=[]),P(r)},a=function(e){return{configurable:!0,enumerable:!0,get:function(){return P[e]},set:function(t){P[e]=t}}};for(var i in P)Object.prototype.hasOwnProperty.call(P,i)&&"e"!==i&&"t"!==i&&Object.defineProperty(r,i,a(i));return r.e=function(e){return"ready"===f&&h("prepare"),y++,P.e(e).then(t,function(e){throw t(),e});function t(){y--,"prepare"===f&&(b[e]||_(e),0===y&&0===v&&S())}},r.t=function(e,t){return 1&t&&(e=r(e)),P.t(e,-2&t)},r}function c(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:n!==e,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"===typeof e)t._selfAccepted=e;else if("object"===typeof e)for(var r=0;r<e.length;r++)t._acceptedDependencies[e[r]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"===typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:T,apply:C,status:function(e){if(!e)return f;d.push(e)},addStatusHandler:function(e){d.push(e)},removeStatusHandler:function(e){var t=d.indexOf(e);t>=0&&d.splice(t,1)},data:o[e]};return n=void 0,t}var d=[],f="idle";function h(e){f=e;for(var t=0;t<d.length;t++)d[t].call(null,e)}var p,m,g,v=0,y=0,b={},w={},x={};function E(e){return+e+""===e?+e:e}function T(e){if("idle"!==f)throw new Error("check() is only allowed in idle status");return r=e,h("check"),(t=i,t=t||1e4,new Promise(function(e,n){if("undefined"===typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,i=P.p+""+a+".hot-update.json";r.open("GET",i,!0),r.timeout=t,r.send(null)}catch(o){return n(o)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+i+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+i+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(a){return void n(a)}e(t)}}})).then(function(e){if(!e)return h("idle"),null;w={},b={},x=e.c,g=e.h,h("prepare");var t=new Promise(function(e,t){p={resolve:e,reject:t}});m={};return _("cornerstone"),"prepare"===f&&0===y&&0===v&&S(),t});var t}function _(e){x[e]?(w[e]=!0,v++,function(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.charset="utf-8",n.src=P.p+""+e+"."+a+".hot-update.js",t.appendChild(n)}(e)):b[e]=!0}function S(){h("ready");var e=p;if(p=null,e)if(r)Promise.resolve().then(function(){return C(r)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var n in m)Object.prototype.hasOwnProperty.call(m,n)&&t.push(E(n));e.resolve(t)}}function C(t){if("ready"!==f)throw new Error("apply() is only allowed in ready status");var n,r,i,l,u;function c(e){for(var t=[e],n={},r=t.slice().map(function(e){return{chain:[e],id:e}});r.length>0;){var a=r.pop(),i=a.id,o=a.chain;if((l=k[i])&&!l.hot._selfAccepted){if(l.hot._selfDeclined)return{type:"self-declined",chain:o,moduleId:i};if(l.hot._main)return{type:"unaccepted",chain:o,moduleId:i};for(var s=0;s<l.parents.length;s++){var u=l.parents[s],c=k[u];if(c){if(c.hot._declinedDependencies[i])return{type:"declined",chain:o.concat([u]),moduleId:i,parentId:u};-1===t.indexOf(u)&&(c.hot._acceptedDependencies[i]?(n[u]||(n[u]=[]),d(n[u],[i])):(delete n[u],t.push(u),r.push({chain:o.concat([u]),id:u})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}t=t||{};var p={},v=[],y={},b=function(){console.warn("[HMR] unexpected require("+T.moduleId+") to disposed module")};for(var w in m)if(Object.prototype.hasOwnProperty.call(m,w)){var T;u=E(w);var _=!1,S=!1,C=!1,I="";switch((T=m[w]?c(u):{type:"disposed",moduleId:w}).chain&&(I="\nUpdate propagation: "+T.chain.join(" -> ")),T.type){case"self-declined":t.onDeclined&&t.onDeclined(T),t.ignoreDeclined||(_=new Error("Aborted because of self decline: "+T.moduleId+I));break;case"declined":t.onDeclined&&t.onDeclined(T),t.ignoreDeclined||(_=new Error("Aborted because of declined dependency: "+T.moduleId+" in "+T.parentId+I));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(T),t.ignoreUnaccepted||(_=new Error("Aborted because "+u+" is not accepted"+I));break;case"accepted":t.onAccepted&&t.onAccepted(T),S=!0;break;case"disposed":t.onDisposed&&t.onDisposed(T),C=!0;break;default:throw new Error("Unexception type "+T.type)}if(_)return h("abort"),Promise.reject(_);if(S)for(u in y[u]=m[u],d(v,T.outdatedModules),T.outdatedDependencies)Object.prototype.hasOwnProperty.call(T.outdatedDependencies,u)&&(p[u]||(p[u]=[]),d(p[u],T.outdatedDependencies[u]));C&&(d(v,[T.moduleId]),y[u]=b)}var M,O=[];for(r=0;r<v.length;r++)u=v[r],k[u]&&k[u].hot._selfAccepted&&O.push({module:u,errorHandler:k[u].hot._selfAccepted});h("dispose"),Object.keys(x).forEach(function(e){!1===x[e]&&function(e){delete installedChunks[e]}(e)});for(var D,A,L=v.slice();L.length>0;)if(u=L.pop(),l=k[u]){var R={},j=l.hot._disposeHandlers;for(i=0;i<j.length;i++)(n=j[i])(R);for(o[u]=R,l.hot.active=!1,delete k[u],delete p[u],i=0;i<l.children.length;i++){var N=k[l.children[i]];N&&((M=N.parents.indexOf(u))>=0&&N.parents.splice(M,1))}}for(u in p)if(Object.prototype.hasOwnProperty.call(p,u)&&(l=k[u]))for(A=p[u],i=0;i<A.length;i++)D=A[i],(M=l.children.indexOf(D))>=0&&l.children.splice(M,1);for(u in h("apply"),a=g,y)Object.prototype.hasOwnProperty.call(y,u)&&(e[u]=y[u]);var U=null;for(u in p)if(Object.prototype.hasOwnProperty.call(p,u)&&(l=k[u])){A=p[u];var F=[];for(r=0;r<A.length;r++)if(D=A[r],n=l.hot._acceptedDependencies[D]){if(-1!==F.indexOf(n))continue;F.push(n)}for(r=0;r<F.length;r++){n=F[r];try{n(A)}catch(z){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:u,dependencyId:A[r],error:z}),t.ignoreErrored||U||(U=z)}}}for(r=0;r<O.length;r++){var B=O[r];u=B.module,s=[u];try{P(u)}catch(z){if("function"===typeof B.errorHandler)try{B.errorHandler(z)}catch(H){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:u,error:H,originalError:z}),t.ignoreErrored||U||(U=H),U||(U=z)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:u,error:z}),t.ignoreErrored||U||(U=z)}}return U?(h("fail"),Promise.reject(U)):(h("idle"),new Promise(function(e){e(v)}))}var k={};function P(t){if(k[t])return k[t].exports;var n=k[t]={i:t,l:!1,exports:{},hot:c(t),parents:(l=s,s=[],l),children:[]};return e[t].call(n.exports,n,n.exports,u(t)),n.l=!0,n.exports}return P.m=e,P.c=k,P.d=function(e,t,n){P.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},P.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},P.t=function(e,t){if(1&t&&(e=P(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(P.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)P.d(n,r,function(t){return e[t]}.bind(null,r));return n},P.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return P.d(t,"a",t),t},P.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},P.p="",P.h=function(){return a},u("./index.js")(P.s="./index.js")}({"./canvasToPixel.js":function(e,t,n){"use strict";n.r(t);var r=n("./enabledElements.js"),a=n("./internal/getTransform.js");t.default=function(e,t){var n=Object(r.getEnabledElement)(e),i=Object(a.default)(n);return i.invert(),i.transformPoint(t.x,t.y)}},"./colors/colormap.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getColormapsList",function(){return l}),n.d(t,"getColormap",function(){return u});var r=n("./colors/lookupTable.js"),a=[0,0,0,0],i={hotIron:{name:"Hot Iron",numOfColors:256,colors:[[0,0,0,255],[2,0,0,255],[4,0,0,255],[6,0,0,255],[8,0,0,255],[10,0,0,255],[12,0,0,255],[14,0,0,255],[16,0,0,255],[18,0,0,255],[20,0,0,255],[22,0,0,255],[24,0,0,255],[26,0,0,255],[28,0,0,255],[30,0,0,255],[32,0,0,255],[34,0,0,255],[36,0,0,255],[38,0,0,255],[40,0,0,255],[42,0,0,255],[44,0,0,255],[46,0,0,255],[48,0,0,255],[50,0,0,255],[52,0,0,255],[54,0,0,255],[56,0,0,255],[58,0,0,255],[60,0,0,255],[62,0,0,255],[64,0,0,255],[66,0,0,255],[68,0,0,255],[70,0,0,255],[72,0,0,255],[74,0,0,255],[76,0,0,255],[78,0,0,255],[80,0,0,255],[82,0,0,255],[84,0,0,255],[86,0,0,255],[88,0,0,255],[90,0,0,255],[92,0,0,255],[94,0,0,255],[96,0,0,255],[98,0,0,255],[100,0,0,255],[102,0,0,255],[104,0,0,255],[106,0,0,255],[108,0,0,255],[110,0,0,255],[112,0,0,255],[114,0,0,255],[116,0,0,255],[118,0,0,255],[120,0,0,255],[122,0,0,255],[124,0,0,255],[126,0,0,255],[128,0,0,255],[130,0,0,255],[132,0,0,255],[134,0,0,255],[136,0,0,255],[138,0,0,255],[140,0,0,255],[142,0,0,255],[144,0,0,255],[146,0,0,255],[148,0,0,255],[150,0,0,255],[152,0,0,255],[154,0,0,255],[156,0,0,255],[158,0,0,255],[160,0,0,255],[162,0,0,255],[164,0,0,255],[166,0,0,255],[168,0,0,255],[170,0,0,255],[172,0,0,255],[174,0,0,255],[176,0,0,255],[178,0,0,255],[180,0,0,255],[182,0,0,255],[184,0,0,255],[186,0,0,255],[188,0,0,255],[190,0,0,255],[192,0,0,255],[194,0,0,255],[196,0,0,255],[198,0,0,255],[200,0,0,255],[202,0,0,255],[204,0,0,255],[206,0,0,255],[208,0,0,255],[210,0,0,255],[212,0,0,255],[214,0,0,255],[216,0,0,255],[218,0,0,255],[220,0,0,255],[222,0,0,255],[224,0,0,255],[226,0,0,255],[228,0,0,255],[230,0,0,255],[232,0,0,255],[234,0,0,255],[236,0,0,255],[238,0,0,255],[240,0,0,255],[242,0,0,255],[244,0,0,255],[246,0,0,255],[248,0,0,255],[250,0,0,255],[252,0,0,255],[254,0,0,255],[255,0,0,255],[255,2,0,255],[255,4,0,255],[255,6,0,255],[255,8,0,255],[255,10,0,255],[255,12,0,255],[255,14,0,255],[255,16,0,255],[255,18,0,255],[255,20,0,255],[255,22,0,255],[255,24,0,255],[255,26,0,255],[255,28,0,255],[255,30,0,255],[255,32,0,255],[255,34,0,255],[255,36,0,255],[255,38,0,255],[255,40,0,255],[255,42,0,255],[255,44,0,255],[255,46,0,255],[255,48,0,255],[255,50,0,255],[255,52,0,255],[255,54,0,255],[255,56,0,255],[255,58,0,255],[255,60,0,255],[255,62,0,255],[255,64,0,255],[255,66,0,255],[255,68,0,255],[255,70,0,255],[255,72,0,255],[255,74,0,255],[255,76,0,255],[255,78,0,255],[255,80,0,255],[255,82,0,255],[255,84,0,255],[255,86,0,255],[255,88,0,255],[255,90,0,255],[255,92,0,255],[255,94,0,255],[255,96,0,255],[255,98,0,255],[255,100,0,255],[255,102,0,255],[255,104,0,255],[255,106,0,255],[255,108,0,255],[255,110,0,255],[255,112,0,255],[255,114,0,255],[255,116,0,255],[255,118,0,255],[255,120,0,255],[255,122,0,255],[255,124,0,255],[255,126,0,255],[255,128,4,255],[255,130,8,255],[255,132,12,255],[255,134,16,255],[255,136,20,255],[255,138,24,255],[255,140,28,255],[255,142,32,255],[255,144,36,255],[255,146,40,255],[255,148,44,255],[255,150,48,255],[255,152,52,255],[255,154,56,255],[255,156,60,255],[255,158,64,255],[255,160,68,255],[255,162,72,255],[255,164,76,255],[255,166,80,255],[255,168,84,255],[255,170,88,255],[255,172,92,255],[255,174,96,255],[255,176,100,255],[255,178,104,255],[255,180,108,255],[255,182,112,255],[255,184,116,255],[255,186,120,255],[255,188,124,255],[255,190,128,255],[255,192,132,255],[255,194,136,255],[255,196,140,255],[255,198,144,255],[255,200,148,255],[255,202,152,255],[255,204,156,255],[255,206,160,255],[255,208,164,255],[255,210,168,255],[255,212,172,255],[255,214,176,255],[255,216,180,255],[255,218,184,255],[255,220,188,255],[255,222,192,255],[255,224,196,255],[255,226,200,255],[255,228,204,255],[255,230,208,255],[255,232,212,255],[255,234,216,255],[255,236,220,255],[255,238,224,255],[255,240,228,255],[255,242,232,255],[255,244,236,255],[255,246,240,255],[255,248,244,255],[255,250,248,255],[255,252,252,255],[255,255,255,255]]},pet:{name:"PET",numColors:256,colors:[[0,0,0,255],[0,2,1,255],[0,4,3,255],[0,6,5,255],[0,8,7,255],[0,10,9,255],[0,12,11,255],[0,14,13,255],[0,16,15,255],[0,18,17,255],[0,20,19,255],[0,22,21,255],[0,24,23,255],[0,26,25,255],[0,28,27,255],[0,30,29,255],[0,32,31,255],[0,34,33,255],[0,36,35,255],[0,38,37,255],[0,40,39,255],[0,42,41,255],[0,44,43,255],[0,46,45,255],[0,48,47,255],[0,50,49,255],[0,52,51,255],[0,54,53,255],[0,56,55,255],[0,58,57,255],[0,60,59,255],[0,62,61,255],[0,65,63,255],[0,67,65,255],[0,69,67,255],[0,71,69,255],[0,73,71,255],[0,75,73,255],[0,77,75,255],[0,79,77,255],[0,81,79,255],[0,83,81,255],[0,85,83,255],[0,87,85,255],[0,89,87,255],[0,91,89,255],[0,93,91,255],[0,95,93,255],[0,97,95,255],[0,99,97,255],[0,101,99,255],[0,103,101,255],[0,105,103,255],[0,107,105,255],[0,109,107,255],[0,111,109,255],[0,113,111,255],[0,115,113,255],[0,117,115,255],[0,119,117,255],[0,121,119,255],[0,123,121,255],[0,125,123,255],[0,128,125,255],[1,126,127,255],[3,124,129,255],[5,122,131,255],[7,120,133,255],[9,118,135,255],[11,116,137,255],[13,114,139,255],[15,112,141,255],[17,110,143,255],[19,108,145,255],[21,106,147,255],[23,104,149,255],[25,102,151,255],[27,100,153,255],[29,98,155,255],[31,96,157,255],[33,94,159,255],[35,92,161,255],[37,90,163,255],[39,88,165,255],[41,86,167,255],[43,84,169,255],[45,82,171,255],[47,80,173,255],[49,78,175,255],[51,76,177,255],[53,74,179,255],[55,72,181,255],[57,70,183,255],[59,68,185,255],[61,66,187,255],[63,64,189,255],[65,63,191,255],[67,61,193,255],[69,59,195,255],[71,57,197,255],[73,55,199,255],[75,53,201,255],[77,51,203,255],[79,49,205,255],[81,47,207,255],[83,45,209,255],[85,43,211,255],[86,41,213,255],[88,39,215,255],[90,37,217,255],[92,35,219,255],[94,33,221,255],[96,31,223,255],[98,29,225,255],[100,27,227,255],[102,25,229,255],[104,23,231,255],[106,21,233,255],[108,19,235,255],[110,17,237,255],[112,15,239,255],[114,13,241,255],[116,11,243,255],[118,9,245,255],[120,7,247,255],[122,5,249,255],[124,3,251,255],[126,1,253,255],[128,0,255,255],[130,2,252,255],[132,4,248,255],[134,6,244,255],[136,8,240,255],[138,10,236,255],[140,12,232,255],[142,14,228,255],[144,16,224,255],[146,18,220,255],[148,20,216,255],[150,22,212,255],[152,24,208,255],[154,26,204,255],[156,28,200,255],[158,30,196,255],[160,32,192,255],[162,34,188,255],[164,36,184,255],[166,38,180,255],[168,40,176,255],[170,42,172,255],[171,44,168,255],[173,46,164,255],[175,48,160,255],[177,50,156,255],[179,52,152,255],[181,54,148,255],[183,56,144,255],[185,58,140,255],[187,60,136,255],[189,62,132,255],[191,64,128,255],[193,66,124,255],[195,68,120,255],[197,70,116,255],[199,72,112,255],[201,74,108,255],[203,76,104,255],[205,78,100,255],[207,80,96,255],[209,82,92,255],[211,84,88,255],[213,86,84,255],[215,88,80,255],[217,90,76,255],[219,92,72,255],[221,94,68,255],[223,96,64,255],[225,98,60,255],[227,100,56,255],[229,102,52,255],[231,104,48,255],[233,106,44,255],[235,108,40,255],[237,110,36,255],[239,112,32,255],[241,114,28,255],[243,116,24,255],[245,118,20,255],[247,120,16,255],[249,122,12,255],[251,124,8,255],[253,126,4,255],[255,128,0,255],[255,130,4,255],[255,132,8,255],[255,134,12,255],[255,136,16,255],[255,138,20,255],[255,140,24,255],[255,142,28,255],[255,144,32,255],[255,146,36,255],[255,148,40,255],[255,150,44,255],[255,152,48,255],[255,154,52,255],[255,156,56,255],[255,158,60,255],[255,160,64,255],[255,162,68,255],[255,164,72,255],[255,166,76,255],[255,168,80,255],[255,170,85,255],[255,172,89,255],[255,174,93,255],[255,176,97,255],[255,178,101,255],[255,180,105,255],[255,182,109,255],[255,184,113,255],[255,186,117,255],[255,188,121,255],[255,190,125,255],[255,192,129,255],[255,194,133,255],[255,196,137,255],[255,198,141,255],[255,200,145,255],[255,202,149,255],[255,204,153,255],[255,206,157,255],[255,208,161,255],[255,210,165,255],[255,212,170,255],[255,214,174,255],[255,216,178,255],[255,218,182,255],[255,220,186,255],[255,222,190,255],[255,224,194,255],[255,226,198,255],[255,228,202,255],[255,230,206,255],[255,232,210,255],[255,234,214,255],[255,236,218,255],[255,238,222,255],[255,240,226,255],[255,242,230,255],[255,244,234,255],[255,246,238,255],[255,248,242,255],[255,250,246,255],[255,252,250,255],[255,255,255,255]]},hotMetalBlue:{name:"Hot Metal Blue",numColors:256,colors:[[0,0,0,255],[0,0,2,255],[0,0,4,255],[0,0,6,255],[0,0,8,255],[0,0,10,255],[0,0,12,255],[0,0,14,255],[0,0,16,255],[0,0,17,255],[0,0,19,255],[0,0,21,255],[0,0,23,255],[0,0,25,255],[0,0,27,255],[0,0,29,255],[0,0,31,255],[0,0,33,255],[0,0,35,255],[0,0,37,255],[0,0,39,255],[0,0,41,255],[0,0,43,255],[0,0,45,255],[0,0,47,255],[0,0,49,255],[0,0,51,255],[0,0,53,255],[0,0,55,255],[0,0,57,255],[0,0,59,255],[0,0,61,255],[0,0,63,255],[0,0,65,255],[0,0,67,255],[0,0,69,255],[0,0,71,255],[0,0,73,255],[0,0,75,255],[0,0,77,255],[0,0,79,255],[0,0,81,255],[0,0,83,255],[0,0,84,255],[0,0,86,255],[0,0,88,255],[0,0,90,255],[0,0,92,255],[0,0,94,255],[0,0,96,255],[0,0,98,255],[0,0,100,255],[0,0,102,255],[0,0,104,255],[0,0,106,255],[0,0,108,255],[0,0,110,255],[0,0,112,255],[0,0,114,255],[0,0,116,255],[0,0,117,255],[0,0,119,255],[0,0,121,255],[0,0,123,255],[0,0,125,255],[0,0,127,255],[0,0,129,255],[0,0,131,255],[0,0,133,255],[0,0,135,255],[0,0,137,255],[0,0,139,255],[0,0,141,255],[0,0,143,255],[0,0,145,255],[0,0,147,255],[0,0,149,255],[0,0,151,255],[0,0,153,255],[0,0,155,255],[0,0,157,255],[0,0,159,255],[0,0,161,255],[0,0,163,255],[0,0,165,255],[0,0,167,255],[3,0,169,255],[6,0,171,255],[9,0,173,255],[12,0,175,255],[15,0,177,255],[18,0,179,255],[21,0,181,255],[24,0,183,255],[26,0,184,255],[29,0,186,255],[32,0,188,255],[35,0,190,255],[38,0,192,255],[41,0,194,255],[44,0,196,255],[47,0,198,255],[50,0,200,255],[52,0,197,255],[55,0,194,255],[57,0,191,255],[59,0,188,255],[62,0,185,255],[64,0,182,255],[66,0,179,255],[69,0,176,255],[71,0,174,255],[74,0,171,255],[76,0,168,255],[78,0,165,255],[81,0,162,255],[83,0,159,255],[85,0,156,255],[88,0,153,255],[90,0,150,255],[93,2,144,255],[96,4,138,255],[99,6,132,255],[102,8,126,255],[105,9,121,255],[108,11,115,255],[111,13,109,255],[114,15,103,255],[116,17,97,255],[119,19,91,255],[122,21,85,255],[125,23,79,255],[128,24,74,255],[131,26,68,255],[134,28,62,255],[137,30,56,255],[140,32,50,255],[143,34,47,255],[146,36,44,255],[149,38,41,255],[152,40,38,255],[155,41,35,255],[158,43,32,255],[161,45,29,255],[164,47,26,255],[166,49,24,255],[169,51,21,255],[172,53,18,255],[175,55,15,255],[178,56,12,255],[181,58,9,255],[184,60,6,255],[187,62,3,255],[190,64,0,255],[194,66,0,255],[198,68,0,255],[201,70,0,255],[205,72,0,255],[209,73,0,255],[213,75,0,255],[217,77,0,255],[221,79,0,255],[224,81,0,255],[228,83,0,255],[232,85,0,255],[236,87,0,255],[240,88,0,255],[244,90,0,255],[247,92,0,255],[251,94,0,255],[255,96,0,255],[255,98,3,255],[255,100,6,255],[255,102,9,255],[255,104,12,255],[255,105,15,255],[255,107,18,255],[255,109,21,255],[255,111,24,255],[255,113,26,255],[255,115,29,255],[255,117,32,255],[255,119,35,255],[255,120,38,255],[255,122,41,255],[255,124,44,255],[255,126,47,255],[255,128,50,255],[255,130,53,255],[255,132,56,255],[255,134,59,255],[255,136,62,255],[255,137,65,255],[255,139,68,255],[255,141,71,255],[255,143,74,255],[255,145,76,255],[255,147,79,255],[255,149,82,255],[255,151,85,255],[255,152,88,255],[255,154,91,255],[255,156,94,255],[255,158,97,255],[255,160,100,255],[255,162,103,255],[255,164,106,255],[255,166,109,255],[255,168,112,255],[255,169,115,255],[255,171,118,255],[255,173,121,255],[255,175,124,255],[255,177,126,255],[255,179,129,255],[255,181,132,255],[255,183,135,255],[255,184,138,255],[255,186,141,255],[255,188,144,255],[255,190,147,255],[255,192,150,255],[255,194,153,255],[255,196,156,255],[255,198,159,255],[255,200,162,255],[255,201,165,255],[255,203,168,255],[255,205,171,255],[255,207,174,255],[255,209,176,255],[255,211,179,255],[255,213,182,255],[255,215,185,255],[255,216,188,255],[255,218,191,255],[255,220,194,255],[255,222,197,255],[255,224,200,255],[255,226,203,255],[255,228,206,255],[255,229,210,255],[255,231,213,255],[255,233,216,255],[255,235,219,255],[255,237,223,255],[255,239,226,255],[255,240,229,255],[255,242,232,255],[255,244,236,255],[255,246,239,255],[255,248,242,255],[255,250,245,255],[255,251,249,255],[255,253,252,255],[255,255,255,255]]},pet20Step:{name:"PET 20 Step",numColors:256,colors:[[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255]]},gray:{name:"Gray",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[1,1,1]],green:[[0,0,0],[1,1,1]],blue:[[0,0,0],[1,1,1]]}},jet:{name:"Jet",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[.35,0,0],[.66,1,1],[.89,1,1],[1,.5,.5]],green:[[0,0,0],[.125,0,0],[.375,1,1],[.64,1,1],[.91,0,0],[1,0,0]],blue:[[0,.5,.5],[.11,1,1],[.34,1,1],[.65,0,0],[1,0,0]]}},hsv:{name:"HSV",numColors:256,gamma:1,segmentedData:{red:[[0,1,1],[.15873,1,1],[.174603,.96875,.96875],[.333333,.03125,.03125],[.349206,0,0],[.666667,0,0],[.68254,.03125,.03125],[.84127,.96875,.96875],[.857143,1,1],[1,1,1]],green:[[0,0,0],[.15873,.9375,.9375],[.174603,1,1],[.507937,1,1],[.666667,.0625,.0625],[.68254,0,0],[1,0,0]],blue:[[0,0,0],[.333333,0,0],[.349206,.0625,.0625],[.507937,1,1],[.84127,1,1],[.857143,.9375,.9375],[1,.09375,.09375]]}},hot:{name:"Hot",numColors:256,gamma:1,segmentedData:{red:[[0,.0416,.0416],[.365079,1,1],[1,1,1]],green:[[0,0,0],[.365079,0,0],[.746032,1,1],[1,1,1]],blue:[[0,0,0],[.746032,0,0],[1,1,1]]}},cool:{name:"Cool",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[1,1,1]],green:[[0,1,1],[1,0,0]],blue:[[0,1,1],[1,1,1]]}},spring:{name:"Spring",numColors:256,gamma:1,segmentedData:{red:[[0,1,1],[1,1,1]],green:[[0,0,0],[1,1,1]],blue:[[0,1,1],[1,0,0]]}},summer:{name:"Summer",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[1,1,1]],green:[[0,.5,.5],[1,1,1]],blue:[[0,.4,.4],[1,.4,.4]]}},autumn:{name:"Autumn",numColors:256,gamma:1,segmentedData:{red:[[0,1,1],[1,1,1]],green:[[0,0,0],[1,1,1]],blue:[[0,0,0],[1,0,0]]}},winter:{name:"Winter",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[1,0,0]],green:[[0,0,0],[1,1,1]],blue:[[0,1,1],[1,.5,.5]]}},bone:{name:"Bone",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[.746032,.652778,.652778],[1,1,1]],green:[[0,0,0],[.365079,.319444,.319444],[.746032,.777778,.777778],[1,1,1]],blue:[[0,0,0],[.365079,.444444,.444444],[1,1,1]]}},copper:{name:"Copper",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[.809524,1,1],[1,1,1]],green:[[0,0,0],[1,.7812,.7812]],blue:[[0,0,0],[1,.4975,.4975]]}},spectral:{name:"Spectral",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[.05,.4667,.4667],[.1,.5333,.5333],[.15,0,0],[.2,0,0],[.25,0,0],[.3,0,0],[.35,0,0],[.4,0,0],[.45,0,0],[.5,0,0],[.55,0,0],[.6,0,0],[.65,.7333,.7333],[.7,.9333,.9333],[.75,1,1],[.8,1,1],[.85,1,1],[.9,.8667,.8667],[.95,.8,.8],[1,.8,.8]],green:[[0,0,0],[.05,0,0],[.1,0,0],[.15,0,0],[.2,0,0],[.25,.4667,.4667],[.3,.6,.6],[.35,.6667,.6667],[.4,.6667,.6667],[.45,.6,.6],[.5,.7333,.7333],[.55,.8667,.8667],[.6,1,1],[.65,1,1],[.7,.9333,.9333],[.75,.8,.8],[.8,.6,.6],[.85,0,0],[.9,0,0],[.95,0,0],[1,.8,.8]],blue:[[0,0,0],[.05,.5333,.5333],[.1,.6,.6],[.15,.6667,.6667],[.2,.8667,.8667],[.25,.8667,.8667],[.3,.8667,.8667],[.35,.6667,.6667],[.4,.5333,.5333],[.45,0,0],[.5,0,0],[.55,0,0],[.6,0,0],[.65,0,0],[.7,0,0],[.75,0,0],[.8,0,0],[.85,0,0],[.9,0,0],[.95,0,0],[1,.8,.8]]}},coolwarm:{name:"CoolWarm",numColors:256,gamma:1,segmentedData:{red:[[0,.2298057,.2298057],[.03125,.26623388,.26623388],[.0625,.30386891,.30386891],[.09375,.342804478,.342804478],[.125,.38301334,.38301334],[.15625,.424369608,.424369608],[.1875,.46666708,.46666708],[.21875,.509635204,.509635204],[.25,.552953156,.552953156],[.28125,.596262162,.596262162],[.3125,.639176211,.639176211],[.34375,.681291281,.681291281],[.375,.722193294,.722193294],[.40625,.761464949,.761464949],[.4375,.798691636,.798691636],[.46875,.833466556,.833466556],[.5,.865395197,.865395197],[.53125,.897787179,.897787179],[.5625,.924127593,.924127593],[.59375,.944468518,.944468518],[.625,.958852946,.958852946],[.65625,.96732803,.96732803],[.6875,.969954137,.969954137],[.71875,.966811177,.966811177],[.75,.958003065,.958003065],[.78125,.943660866,.943660866],[.8125,.923944917,.923944917],[.84375,.89904617,.89904617],[.875,.869186849,.869186849],[.90625,.834620542,.834620542],[.9375,.795631745,.795631745],[.96875,.752534934,.752534934],[1,.705673158,.705673158]],green:[[0,.298717966,.298717966],[.03125,.353094838,.353094838],[.0625,.406535296,.406535296],[.09375,.458757618,.458757618],[.125,.50941904,.50941904],[.15625,.558148092,.558148092],[.1875,.604562568,.604562568],[.21875,.648280772,.648280772],[.25,.688929332,.688929332],[.28125,.726149107,.726149107],[.3125,.759599947,.759599947],[.34375,.788964712,.788964712],[.375,.813952739,.813952739],[.40625,.834302879,.834302879],[.4375,.849786142,.849786142],[.46875,.860207984,.860207984],[.5,.86541021,.86541021],[.53125,.848937047,.848937047],[.5625,.827384882,.827384882],[.59375,.800927443,.800927443],[.625,.769767752,.769767752],[.65625,.734132809,.734132809],[.6875,.694266682,.694266682],[.71875,.650421156,.650421156],[.75,.602842431,.602842431],[.78125,.551750968,.551750968],[.8125,.49730856,.49730856],[.84375,.439559467,.439559467],[.875,.378313092,.378313092],[.90625,.312874446,.312874446],[.9375,.24128379,.24128379],[.96875,.157246067,.157246067],[1,.01555616,.01555616]],blue:[[0,.753683153,.753683153],[.03125,.801466763,.801466763],[.0625,.84495867,.84495867],[.09375,.883725899,.883725899],[.125,.917387822,.917387822],[.15625,.945619588,.945619588],[.1875,.968154911,.968154911],[.21875,.98478814,.98478814],[.25,.995375608,.995375608],[.28125,.999836203,.999836203],[.3125,.998151185,.998151185],[.34375,.990363227,.990363227],[.375,.976574709,.976574709],[.40625,.956945269,.956945269],[.4375,.931688648,.931688648],[.46875,.901068838,.901068838],[.5,.865395561,.865395561],[.53125,.820880546,.820880546],[.5625,.774508472,.774508472],[.59375,.726736146,.726736146],[.625,.678007945,.678007945],[.65625,.628751763,.628751763],[.6875,.579375448,.579375448],[.71875,.530263762,.530263762],[.75,.481775914,.481775914],[.78125,.434243684,.434243684],[.8125,.387970225,.387970225],[.84375,.343229596,.343229596],[.875,.300267182,.300267182],[.90625,.259301199,.259301199],[.9375,.220525627,.220525627],[.96875,.184115123,.184115123],[1,.150232812,.150232812]]}},blues:{name:"Blues",numColors:256,gamma:1,segmentedData:{red:[[0,.9686274528503418,.9686274528503418],[.125,.8705882430076599,.8705882430076599],[.25,.7764706015586853,.7764706015586853],[.375,.6196078658103943,.6196078658103943],[.5,.41960784792900085,.41960784792900085],[.625,.25882354378700256,.25882354378700256],[.75,.12941177189350128,.12941177189350128],[.875,.0313725508749485,.0313725508749485],[1,.0313725508749485,.0313725508749485]],green:[[0,.9843137264251709,.9843137264251709],[.125,.9215686321258545,.9215686321258545],[.25,.8588235378265381,.8588235378265381],[.375,.7921568751335144,.7921568751335144],[.5,.6823529601097107,.6823529601097107],[.625,.572549045085907,.572549045085907],[.75,.4431372582912445,.4431372582912445],[.875,.3176470696926117,.3176470696926117],[1,.1882352977991104,.1882352977991104]],blue:[[0,1,1],[.125,.9686274528503418,.9686274528503418],[.25,.9372549057006836,.9372549057006836],[.375,.8823529481887817,.8823529481887817],[.5,.8392156958580017,.8392156958580017],[.625,.7764706015586853,.7764706015586853],[.75,.7098039388656616,.7098039388656616],[.875,.6117647290229797,.6117647290229797],[1,.41960784792900085,.41960784792900085]]}}};function o(e,t){for(var n=0,r=e.length-1;n<=r;){var a=n+Math.floor((r-n)/2),i=e[a];if(i===t)return a;t<i?r=a-1:n=a+1}return n}function s(e,t,n){var r,a=[],i=[],s=[],l=[];for(n=null===n?1:n,r=0;r<t.length;r++){var u=t[r];a.push((e-1)*u[0]),i.push(u[1]),s.push(u[1])}var c=function(e,t,n){for(var r=(t-e)/((n=null===n?100:n)-1),a=[];n-- >0;)a.push(e),e+=r;return a[a.length-1]=t,a}(0,1,e);for(r=0;r<e;r++)c[r]=(e-1)*Math.pow(c[r],n);var d=function(e,t){var n,r=[],a=t.length;for(e.sort(function(e,t){return e-t}),n=0;n<a;n++)r[n]=o(e,t[n]);return r}(a,c);for(r=1;r<e-1;r++){var f=d[r],h=(c[r]-a[f-1])/(a[f]-a[f-1]),p=i[f]-s[f-1];l[r]=h*p+s[f-1]}return l[0]=s[0],l[e-1]=i[t.length-1],l}function l(){var e=[];return Object.keys(i).forEach(function(t){if(i.hasOwnProperty(t)){var n=i[t];e.push({id:t,name:n.name})}}),e.sort(function(e,t){var n=e.name.toLowerCase(),r=t.name.toLowerCase();return n===r?0:n<r?-1:1}),e}function u(e,t){var n=i[e];return n||(n=i[e]=t||{name:"",colors:[]}),!n.colors&&n.segmentedData&&(n.colors=function(e,t,n){var r,a=[];n=null===n?1:n;var i=s(t=null===t?256:t,e.red,n),o=s(t,e.green,n),l=s(t,e.blue,n);for(r=0;r<t;r++){var u=[Math.round(255*i[r]),Math.round(255*o[r]),Math.round(255*l[r]),255];a.push(u)}return a}(n.segmentedData,n.numColors,n.gamma)),{getId:function(){return e},getColorSchemeName:function(){return n.name},setColorSchemeName:function(e){n.name=e},getNumberOfColors:function(){return n.colors.length},setNumberOfColors:function(e){for(;n.colors.length<e;)n.colors.push(a);n.colors.length=e},getColor:function(e){return this.isValidIndex(e)?n.colors[e]:a},getColorRepeating:function(e){var t=n.colors.length;return e=t?e%t:0,this.getColor(e)},setColor:function(e,t){this.isValidIndex(e)&&(n.colors[e]=t)},addColor:function(e){n.colors.push(e)},insertColor:function(e,t){this.isValidIndex(e)&&n.colors.splice(e,1,t)},removeColor:function(e){this.isValidIndex(e)&&n.colors.splice(e,1)},clearColors:function(){n.colors=[]},buildLookupTable:function(e){if(e){var t=n.colors.length;e.setNumberOfTableValues(t);for(var r=0;r<t;r++)e.setTableValue(r,n.colors[r])}},createLookupTable:function(){var e=new r.default;return this.buildLookupTable(e),e},isValidIndex:function(e){return e>=0&&e<n.colors.length}}}},"./colors/index.js":function(e,t,n){"use strict";n.r(t);var r=n("./colors/colormap.js"),a=n("./colors/lookupTable.js");t.default={getColormap:r.getColormap,getColormapsList:r.getColormapsList,LookupTable:a.default}},"./colors/lookupTable.js":function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(t);var a=0,i=1;function o(e,t,n){if(e>1)throw new Error("HSVToRGB expects hue < 1");var r=[];if(0===t)return r[0]=n,r[1]=n,r[2]=n,r;var a=Math.floor(6*e),i=6*e-a,o=n*(1-t),s=n*(1-t*i),l=n*(1-t*(1-i));switch(a){case 0:case 6:r[0]=n,r[1]=l,r[2]=o;break;case 1:r[0]=s,r[1]=n,r[2]=o;break;case 2:r[0]=o,r[1]=n,r[2]=l;break;case 3:r[0]=o,r[1]=s,r[2]=n;break;case 4:r[0]=l,r[1]=o,r[2]=n;break;case 5:r[0]=n,r[1]=o,r[2]=s}return r}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.NumberOfColors=256,this.Ramp="linear",this.TableRange=[0,255],this.HueRange=[0,.66667],this.SaturationRange=[1,1],this.ValueRange=[1,1],this.AlphaRange=[1,1],this.NaNColor=[128,0,0,255],this.BelowRangeColor=[0,0,0,255],this.UseBelowRangeColor=!0,this.AboveRangeColor=[255,255,255,255],this.UseAboveRangeColor=!0,this.InputRange=[0,255],this.Table=[]}var t,n,s;return t=e,(n=[{key:"setNumberOfTableValues",value:function(e){this.NumberOfColors=e}},{key:"setRamp",value:function(e){this.Ramp=e}},{key:"setTableRange",value:function(e,t){this.TableRange[0]=e,this.TableRange[1]=t}},{key:"setHueRange",value:function(e,t){this.HueRange[0]=e,this.HueRange[1]=t}},{key:"setSaturationRange",value:function(e,t){this.SaturationRange[0]=e,this.SaturationRange[1]=t}},{key:"setValueRange",value:function(e,t){this.ValueRange[0]=e,this.ValueRange[1]=t}},{key:"setRange",value:function(e,t){this.InputRange[0]=e,this.InputRange[1]=t}},{key:"setAlphaRange",value:function(e,t){this.AlphaRange[0]=e,this.AlphaRange[1]=t}},{key:"getColor",value:function(e){return this.mapValue(e)}},{key:"build",value:function(e){if(!(this.Table.length>1)||e){this.Table=[];var t,n,r,a,i=this.NumberOfColors-1;i?(t=(this.HueRange[1]-this.HueRange[0])/i,n=(this.SaturationRange[1]-this.SaturationRange[0])/i,r=(this.ValueRange[1]-this.ValueRange[0])/i,a=(this.AlphaRange[1]-this.AlphaRange[0])/i):t=n=r=a=0;for(var s=0;s<=i;s++){var l=this.HueRange[0]+s*t,u=this.SaturationRange[0]+s*n,c=this.ValueRange[0]+s*r,d=this.AlphaRange[0]+s*a,f=o(l,u,c),h=[];switch(this.Ramp){case"scurve":h[0]=Math.floor(127.5*(1+Math.cos((1-f[0])*Math.PI))),h[1]=Math.floor(127.5*(1+Math.cos((1-f[1])*Math.PI))),h[2]=Math.floor(127.5*(1+Math.cos((1-f[2])*Math.PI))),h[3]=Math.floor(255*d);break;case"linear":h[0]=Math.floor(255*f[0]+.5),h[1]=Math.floor(255*f[1]+.5),h[2]=Math.floor(255*f[2]+.5),h[3]=Math.floor(255*d+.5);break;case"sqrt":h[0]=Math.floor(255*Math.sqrt(f[0])+.5),h[1]=Math.floor(255*Math.sqrt(f[1])+.5),h[2]=Math.floor(255*Math.sqrt(f[2])+.5),h[3]=Math.floor(255*Math.sqrt(d)+.5);break;default:throw new Error("Invalid Ramp value (".concat(this.Ramp,")"))}this.Table.push(h)}this.buildSpecialColors()}}},{key:"buildSpecialColors",value:function(){var e=this.NumberOfColors,t=e+a,n=e+i,r=e+2;this.UseBelowRangeColor||0===e?this.Table[t]=this.BelowRangeColor:this.Table[t]=this.Table[0],this.UseAboveRangeColor||0===e?this.Table[n]=this.AboveRangeColor:this.Table[n]=this.Table[e-1],this.Table[r]=this.NaNColor}},{key:"mapValue",value:function(e){var t=this.getIndex(e);if(t<0)return this.NaNColor;if(0===t){if(this.UseBelowRangeColor&&e<this.TableRange[0])return this.BelowRangeColor}else if(t===this.NumberOfColors-1&&this.UseAboveRangeColor&&e>this.TableRange[1])return this.AboveRangeColor;return this.Table[t]}},{key:"getIndex",value:function(e){var t={Range:[]};if(t.MaxIndex=this.NumberOfColors-1,t.Shift=-this.TableRange[0],this.TableRange[1]<=this.TableRange[0]?t.Scale=Number.MAX_VALUE:t.Scale=t.MaxIndex/(this.TableRange[1]-this.TableRange[0]),t.Range[0]=this.TableRange[0],t.Range[1]=this.TableRange[1],isNaN(e))return-1;var n=function(e,t){var n;return n=e<t.Range[0]?t.MaxIndex+a+1.5:e>t.Range[1]?t.MaxIndex+i+1.5:(e+t.Shift)*t.Scale,Math.floor(n)}(e,t);return n===this.NumberOfColors+a?n=0:n===this.NumberOfColors+i&&(n=this.NumberOfColors-1),n}},{key:"setTableValue",value:function(e,t){if(5===arguments.length&&(t=Array.prototype.slice.call(arguments,1)),e<0)throw new Error("Can't set the table value for negative index (".concat(e,")"));e>=this.NumberOfColors&&new Error("Index ".concat(e," is greater than the number of colors ").concat(this.NumberOfColors)),this.Table[e]=t,0!==e&&e!==this.NumberOfColors-1||this.buildSpecialColors()}}])&&r(t.prototype,n),s&&r(t,s),e}();t.default=s},"./disable.js":function(e,t,n){"use strict";n.r(t);var r=n("./enabledElements.js"),a=n("./triggerEvent.js"),i=n("./events.js");t.default=function(e){if(void 0===e)throw new Error("disable: element must not be undefined");for(var t=Object(r.getEnabledElements)(),n=0;n<t.length;n++)if(t[n].element===e){var o={element:e};Object(a.default)(e,i.default.ELEMENT_DISABLED,o),Object(a.default)(i.events,i.default.ELEMENT_DISABLED,o),t[n].element.removeChild(t[n].canvas),t[n].canvas=void 0,t.splice(n,1);break}}},"./displayImage.js":function(e,t,n){"use strict";n.r(t);var r=n("./enabledElements.js"),a=n("./internal/getDefaultViewport.js"),i=n("./updateImage.js"),o=n("./internal/now.js"),s=n("./layers.js"),l=n("./triggerEvent.js"),u=n("./events.js");t.default=function(e,t,n){if(void 0===e)throw new Error("displayImage: parameter element must not be undefined");if(void 0===t)throw new Error("displayImage: parameter image must not be undefined");var c,d=Object(r.getEnabledElement)(e),f=d.image;if(d.image=t,d.layers&&d.layers.length&&Object(s.setLayerImage)(e,t),void 0===d.viewport&&(d.viewport=Object(a.default)(d.canvas,t)),n)for(var h in n)null!==n[h]&&(d.viewport[h]=n[h]);void 0!==d.lastImageTimeStamp&&(c=(1e3/(Object(o.default)()-d.lastImageTimeStamp)).toFixed());d.lastImageTimeStamp=Object(o.default)();var p={viewport:d.viewport,element:d.element,image:d.image,oldImage:f,enabledElement:d,frameRate:c};Object(l.default)(d.element,u.default.NEW_IMAGE,p),Object(i.default)(e)}},"./draw.js":function(e,t,n){"use strict";n.r(t);var r=n("./enabledElements.js"),a=n("./internal/drawImage.js");t.default=function(e){var t=Object(r.getEnabledElement)(e);if(void 0===t.image)throw new Error("draw: image has not been loaded yet");Object(a.default)(t)}},"./drawInvalidated.js":function(e,t,n){"use strict";n.r(t);var r=n("./enabledElements.js"),a=n("./internal/drawImage.js");t.default=function(){for(var e=Object(r.getEnabledElements)(),t=0;t<e.length;t++){var n=e[t];!0===n.invalid&&Object(a.default)(n,!0)}}},"./enable.js":function(e,t,n){"use strict";n.r(t);var r=n("./enabledElements.js"),a=n("./resize.js"),i=n("./internal/drawImageSync.js"),o=n("./internal/requestAnimationFrame.js"),s=n("./internal/tryEnableWebgl.js"),l=n("./triggerEvent.js"),u=n("./generateUUID.js"),c=n("./events.js"),d=n("./internal/getCanvas.js");t.default=function(e,t){if(void 0===e)throw new Error("enable: parameter element cannot be undefined");t&&t.renderer&&"webgl"===t.renderer.toLowerCase()&&Object(s.default)(t);var n={element:e,canvas:Object(d.default)(e),image:void 0,invalid:!1,needsRedraw:!0,options:t,layers:[],data:{},renderingTools:{},uuid:Object(u.default)()};Object(r.addEnabledElement)(n),Object(l.default)(c.events,c.default.ELEMENT_ENABLED,n),Object(a.default)(e,!0),function e(t){if(void 0!==n.canvas){var r={enabledElement:n,timestamp:t};Object(l.default)(n.element,c.default.PRE_RENDER,r),n.needsRedraw&&function(e){return void 0!==e.image||e.layers.length>0}(n)&&Object(i.default)(n,n.invalid),Object(o.default)(e)}}()}},"./enabledElementData.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getElementData",function(){return a}),n.d(t,"removeElementData",function(){return i});var r=n("./enabledElements.js");function a(e,t){var n=Object(r.getEnabledElement)(e);return!1===n.data.hasOwnProperty(t)&&(n.data[t]={}),n.data[t]}function i(e,t){delete Object(r.getEnabledElement)(e).data[t]}},"./enabledElements.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getEnabledElement",function(){return a}),n.d(t,"addEnabledElement",function(){return i}),n.d(t,"getEnabledElementsByImageId",function(){return o}),n.d(t,"getEnabledElements",function(){return s});var r=[];function a(e){if(void 0===e)throw new Error("getEnabledElement: parameter element must not be undefined");for(var t=0;t<r.length;t++)if(r[t].element===e)return r[t];throw new Error("element not enabled")}function i(e){if(void 0===e)throw new Error("getEnabledElement: enabledElement element must not be undefined");r.push(e)}function o(e){var t=[];return r.forEach(function(n){n.image&&n.image.imageId===e&&t.push(n)}),t}function s(){return r}},"./events.js":function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(t),n.d(t,"events",function(){return a});t.default={NEW_IMAGE:"cornerstonenewimage",INVALIDATED:"cornerstoneinvalidated",PRE_RENDER:"cornerstoneprerender",IMAGE_CACHE_MAXIMUM_SIZE_CHANGED:"cornerstoneimagecachemaximumsizechanged",IMAGE_CACHE_PROMISE_REMOVED:"cornerstoneimagecachepromiseremoved",IMAGE_CACHE_FULL:"cornerstoneimagecachefull",IMAGE_CACHE_CHANGED:"cornerstoneimagecachechanged",WEBGL_TEXTURE_REMOVED:"cornerstonewebgltextureremoved",WEBGL_TEXTURE_CACHE_FULL:"cornerstonewebgltexturecachefull",IMAGE_LOADED:"cornerstoneimageloaded",IMAGE_LOAD_FAILED:"cornerstoneimageloadfailed",ELEMENT_RESIZED:"cornerstoneelementresized",IMAGE_RENDERED:"cornerstoneimagerendered",LAYER_ADDED:"cornerstonelayeradded",LAYER_REMOVED:"cornerstonelayerremoved",ACTIVE_LAYER_CHANGED:"cornerstoneactivelayerchanged",ELEMENT_DISABLED:"cornerstoneelementdisabled",ELEMENT_ENABLED:"cornerstoneelementenabled"};var a=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.listeners={},this.namespaces={}}var t,n,a;return t=e,(n=[{key:"addEventNamespaceListener",value:function(e,t){e.indexOf(".")<=0||(this.namespaces[e]=t,this.addEventListener(e.split(".")[0],t))}},{key:"removeEventNamespaceListener",value:function(e){e.indexOf(".")<=0||!this.namespaces[e]||(this.removeEventListener(e.split(".")[0],this.namespaces[e]),delete this.namespaces[e])}},{key:"addEventListener",value:function(e,t){e.indexOf(".")>0?this.addEventNamespaceListener(e,t):(e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t))}},{key:"removeEventListener",value:function(e,t){if(e.indexOf(".")>0)this.removeEventNamespaceListener(e);else if(e in this.listeners)for(var n=this.listeners[e],r=0,a=n.length;r<a;r++)if(n[r]===t)return void n.splice(r,1)}},{key:"dispatchEvent",value:function(e){if(!(e.type in this.listeners))return!0;for(var t=this.listeners[e.type],n=0,r=t.length;n<r;n++)t[n].call(this,e);return!e.defaultPrevented}}])&&r(t.prototype,n),a&&r(t,a),e}())},"./falseColorMapping.js":function(e,t,n){"use strict";n.r(t),n.d(t,"convertImageToFalseColorImage",function(){return s}),n.d(t,"convertToFalseColorImage",function(){return l}),n.d(t,"restoreImage",function(){return o});var r=n("./enabledElements.js"),a=n("./pixelDataToFalseColorData.js"),i=n("./colors/colormap.js");function o(e){return!(!e.restore||"function"!==typeof e.restore)&&(e.restore(),!0)}function s(e,t){if(e.color&&!e.falseColor)throw new Error("Color transforms are not implemented yet");var n=(t=function(e){return e&&"string"===typeof e&&(e=Object(i.getColormap)(e)),e}(t)).getId();if(e.colormapId===n)return!1;if(o(e),n){var r=e.minPixelValue||0,s=e.maxPixelValue||255;e.restore=function(e){if(e.restore)return e.restore;var t=e.color,n=e.rgba,r=e.cachedLut,a=e.slope,i=e.windowWidth,o=e.windowCenter,s=e.minPixelValue,l=e.maxPixelValue;return function(){if(e.color=t,e.rgba=n,e.cachedLut=r,e.slope=a,e.windowWidth=i,e.windowCenter=o,e.minPixelValue=s,e.maxPixelValue=l,e.origPixelData){var u=e.origPixelData;e.getPixelData=function(){return u}}e.origPixelData=void 0,e.colormapId=void 0,e.falseColor=void 0}}(e);var l=t.createLookupTable();l.setTableRange(r,s),Object(a.default)(e,l);var u=function(e){for(var t,n=Number.MAX_VALUE,r=Number.MIN_VALUE,a=e.length,i=0;i<a;i++)n=n<(t=e[i])?n:t,r=r>t?r:t;return{minPixelValue:n,maxPixelValue:r}}(e.getPixelData());e.minPixelValue=u.minPixelValue,e.maxPixelValue=u.maxPixelValue,e.windowWidth=255,e.windowCenter=128,e.colormapId=n}return!0}function l(e,t){return s(Object(r.getEnabledElement)(e).image,t)}},"./fitToWindow.js":function(e,t,n){"use strict";n.r(t);var r=n("./enabledElements.js"),a=n("./updateImage.js"),i=n("./internal/getImageFitScale.js");t.default=function(e){var t=Object(r.getEnabledElement)(e),n=t.image;t.viewport.scale=Object(i.default)(t.canvas,n,t.viewport.rotation).scaleFactor,t.viewport.translation.x=0,t.viewport.translation.y=0,Object(a.default)(e)}},"./generateUUID.js":function(e,t,n){"use strict";n.r(t),t.default=function(){var e=(new Date).getTime();return"undefined"!==typeof performance&&"function"===typeof performance.now&&(e+=performance.now()),"x.x.x.x.x.x.xxxx.xxx.x.x.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)})}},"./getDefaultViewportForImage.js":function(e,t,n){"use strict";n.r(t);var r=n("./enabledElements.js"),a=n("./internal/getDefaultViewport.js");t.default=function(e,t){var n=Object(r.getEnabledElement)(e);return Object(a.default)(n.canvas,t)}},"./getImage.js":function(e,t,n){"use strict";n.r(t);var r=n("./enabledElements.js");t.default=function(e){return Object(r.getEnabledElement)(e).image}},"./getPixels.js":function(e,t,n){"use strict";n.r(t);var r=n("./enabledElements.js"),a=n("./getStoredPixels.js"),i=n("./internal/getModalityLUT.js");t.default=function(e,t,n,o,s){var l=Object(a.default)(e,t,n,o,s),u=Object(r.getEnabledElement)(e),c=Object(i.default)(u.image.slope,u.image.intercept,u.viewport.modalityLUT);return l.map(c)}},"./getStoredPixels.js":function(e,t,n){"use strict";n.r(t);var r=n("./enabledElements.js");t.default=function(e,t,n,a,i){if(void 0===e)throw new Error("getStoredPixels: parameter element must not be undefined");t=Math.round(t),n=Math.round(n);for(var o=Object(r.getEnabledElement)(e),s=[],l=0,u=o.image.getPixelData(),c=0;c<i;c++)for(var d=0;d<a;d++){var f=(c+n)*o.image.columns+(d+t);s[l++]=u[f]}return s}},"./getViewport.js":function(e,t,n){"use strict";n.r(t);var r=n("./enabledElements.js");t.default=function(e){var t=Object(r.getEnabledElement)(e).viewport;if(void 0!==t)return Object.assign({},t)}},"./imageCache.js":function(e,t,n){"use strict";n.r(t),n.d(t,"cachedImages",function(){return l}),n.d(t,"setMaximumSizeBytes",function(){return u}),n.d(t,"putImageLoadObject",function(){return d}),n.d(t,"getImageLoadObject",function(){return f}),n.d(t,"removeImageLoadObject",function(){return h}),n.d(t,"getCacheInfo",function(){return p}),n.d(t,"purgeCache",function(){return m}),n.d(t,"changeImageIdCacheSize",function(){return g});var r=n("./events.js"),a=n("./triggerEvent.js"),i=1073741824,o=0,s={},l=[];function u(e){if(void 0===e)throw new Error("setMaximumSizeBytes: parameter numBytes must not be undefined");if(void 0===e.toFixed)throw new Error("setMaximumSizeBytes: parameter numBytes must be a number");i=e,Object(a.default)(r.events,r.default.IMAGE_CACHE_MAXIMUM_SIZE_CHANGED),c()}function c(){if(!(o<=i)){for(l.sort(function(e,t){return e.timeStamp>t.timeStamp?-1:e.timeStamp<t.timeStamp?1:0});o>i;){var e=l[l.length-1].imageId;h(e),Object(a.default)(r.events,r.default.IMAGE_CACHE_PROMISE_REMOVED,{imageId:e})}var t=p();Object(a.default)(r.events,r.default.IMAGE_CACHE_FULL,t)}}function d(e,t){if(void 0===e)throw new Error("putImageLoadObject: imageId must not be undefined");if(void 0===t.promise)throw new Error("putImageLoadObject: imageLoadObject.promise must not be undefined");if(!0===s.hasOwnProperty(e))throw new Error("putImageLoadObject: imageId already in cache");if(t.cancelFn&&"function"!==typeof t.cancelFn)throw new Error("putImageLoadObject: imageLoadObject.cancelFn must be a function");var n={loaded:!1,imageId:e,sharedCacheKey:void 0,imageLoadObject:t,timeStamp:Date.now(),sizeInBytes:0};s[e]=n,l.push(n),t.promise.then(function(e){if(-1!==l.indexOf(n)){if(n.loaded=!0,n.image=e,void 0===e.sizeInBytes)throw new Error("putImageLoadObject: image.sizeInBytes must not be undefined");if(void 0===e.sizeInBytes.toFixed)throw new Error("putImageLoadObject: image.sizeInBytes is not a number");n.sizeInBytes=e.sizeInBytes,o+=n.sizeInBytes;var t={action:"addImage",image:n};Object(a.default)(r.events,r.default.IMAGE_CACHE_CHANGED,t),n.sharedCacheKey=e.sharedCacheKey,c()}},function(){var t=s[e];l.splice(l.indexOf(t),1),delete s[e]})}function f(e){if(void 0===e)throw new Error("getImageLoadObject: imageId must not be undefined");var t=s[e];if(void 0!==t)return t.timeStamp=Date.now(),t.imageLoadObject}function h(e){if(void 0===e)throw new Error("removeImageLoadObject: imageId must not be undefined");var t=s[e];if(void 0===t)throw new Error("removeImageLoadObject: imageId was not present in imageCache");l.splice(l.indexOf(t),1),o-=t.sizeInBytes;var n,i={action:"deleteImage",image:t};Object(a.default)(r.events,r.default.IMAGE_CACHE_CHANGED,i),(n=t.imageLoadObject).promise.then(function(){n.decache&&n.decache()},function(){n.decache&&n.decache()}),delete s[e]}function p(){return{maximumSizeInBytes:i,cacheSizeInBytes:o,numberOfImagesCached:l.length}}function m(){for(;l.length>0;){h(l[0].imageId)}}function g(e,t){var n=s[e];n&&n.imageLoadObject.promise.then(function(e){var i=t-e.sizeInBytes;e.sizeInBytes=t,n.sizeInBytes=t,o+=i;var s={action:"changeImageSize",image:e};Object(a.default)(r.events,r.default.IMAGE_CACHE_CHANGED,s)})}t.default={imageCache:s,cachedImages:l,setMaximumSizeBytes:u,putImageLoadObject:d,getImageLoadObject:f,removeImageLoadObject:h,getCacheInfo:p,purgeCache:m,changeImageIdCacheSize:g}},"./imageLoader.js":function(e,t,n){"use strict";n.r(t),n.d(t,"loadImage",function(){return u}),n.d(t,"loadAndCacheImage",function(){return c}),n.d(t,"registerImageLoader",function(){return d}),n.d(t,"registerUnknownImageLoader",function(){return f});var r,a=n("./imageCache.js"),i=n("./events.js"),o=n("./triggerEvent.js"),s={};function l(e,t){var n=e.indexOf(":"),a=e.substring(0,n),l=s[a];if(void 0===l||null===l){if(void 0!==r)return r(e);throw new Error("loadImageFromImageLoader: no image loader for imageId")}var u=l(e,t);return u.promise.then(function(e){Object(o.default)(i.events,i.default.IMAGE_LOADED,{image:e})},function(t){var n={imageId:e,error:t};Object(o.default)(i.events,i.default.IMAGE_LOAD_FAILED,n)}),u}function u(e,t){if(void 0===e)throw new Error("loadImage: parameter imageId must not be undefined");var n=Object(a.getImageLoadObject)(e);return void 0!==n?n.promise:l(e,t).promise}function c(e,t){if(void 0===e)throw new Error("loadAndCacheImage: parameter imageId must not be undefined");var n=Object(a.getImageLoadObject)(e);return void 0!==n?n.promise:(n=l(e,t),Object(a.putImageLoadObject)(e,n),n.promise)}function d(e,t){s[e]=t}function f(e){var t=r;return r=e,t}},"./index.js":function(e,t,n){"use strict";n.r(t);var r=n("./internal/drawImage.js");n.d(t,"drawImage",function(){return r.default});var a=n("./internal/generateLut.js");n.d(t,"generateLut",function(){return a.default});var i=n("./internal/getDefaultViewport.js");n.d(t,"getDefaultViewport",function(){return i.default});var o=n("./internal/requestAnimationFrame.js");n.d(t,"requestAnimationFrame",function(){return o.default});var s=n("./internal/storedPixelDataToCanvasImageData.js");n.d(t,"storedPixelDataToCanvasImageData",function(){return s.default});var l=n("./internal/storedColorPixelDataToCanvasImageData.js");n.d(t,"storedColorPixelDataToCanvasImageData",function(){return l.default});var u=n("./internal/storedPixelDataToCanvasImageDataColorLUT.js");n.d(t,"storedPixelDataToCanvasImageDataColorLUT",function(){return u.default});var c=n("./internal/storedPixelDataToCanvasImageDataPseudocolorLUT.js");n.d(t,"storedPixelDataToCanvasImageDataPseudocolorLUT",function(){return c.default});var d=n("./internal/index.js");n.d(t,"internal",function(){return d.default});var f=n("./rendering/renderLabelMapImage.js");n.d(t,"renderLabelMapImage",function(){return f.renderLabelMapImage});var h=n("./rendering/renderPseudoColorImage.js");n.d(t,"renderPseudoColorImage",function(){return h.renderPseudoColorImage});var p=n("./rendering/renderColorImage.js");n.d(t,"renderColorImage",function(){return p.renderColorImage});var m=n("./rendering/renderGrayscaleImage.js");n.d(t,"renderGrayscaleImage",function(){return m.renderGrayscaleImage});var g=n("./rendering/renderWebImage.js");n.d(t,"renderWebImage",function(){return g.renderWebImage});var v=n("./rendering/renderToCanvas.js");n.d(t,"renderToCanvas",function(){return v.default});var y=n("./canvasToPixel.js");n.d(t,"canvasToPixel",function(){return y.default});var b=n("./disable.js");n.d(t,"disable",function(){return b.default});var w=n("./displayImage.js");n.d(t,"displayImage",function(){return w.default});var x=n("./draw.js");n.d(t,"draw",function(){return x.default});var E=n("./drawInvalidated.js");n.d(t,"drawInvalidated",function(){return E.default});var T=n("./enable.js");n.d(t,"enable",function(){return T.default});var _=n("./enabledElementData.js");n.d(t,"getElementData",function(){return _.getElementData}),n.d(t,"removeElementData",function(){return _.removeElementData});var S=n("./enabledElements.js");n.d(t,"getEnabledElement",function(){return S.getEnabledElement}),n.d(t,"addEnabledElement",function(){return S.addEnabledElement}),n.d(t,"getEnabledElementsByImageId",function(){return S.getEnabledElementsByImageId}),n.d(t,"getEnabledElements",function(){return S.getEnabledElements});var C=n("./layers.js");n.d(t,"addLayer",function(){return C.addLayer}),n.d(t,"removeLayer",function(){return C.removeLayer}),n.d(t,"getLayer",function(){return C.getLayer}),n.d(t,"getLayers",function(){return C.getLayers}),n.d(t,"getVisibleLayers",function(){return C.getVisibleLayers}),n.d(t,"setActiveLayer",function(){return C.setActiveLayer}),n.d(t,"getActiveLayer",function(){return C.getActiveLayer}),n.d(t,"purgeLayers",function(){return C.purgeLayers}),n.d(t,"setLayerImage",function(){return C.setLayerImage});var k=n("./fitToWindow.js");n.d(t,"fitToWindow",function(){return k.default});var P=n("./getDefaultViewportForImage.js");n.d(t,"getDefaultViewportForImage",function(){return P.default});var I=n("./getImage.js");n.d(t,"getImage",function(){return I.default});var M=n("./getPixels.js");n.d(t,"getPixels",function(){return M.default});var O=n("./getStoredPixels.js");n.d(t,"getStoredPixels",function(){return O.default});var D=n("./getViewport.js");n.d(t,"getViewport",function(){return D.default});var A=n("./imageLoader.js");n.d(t,"loadImage",function(){return A.loadImage}),n.d(t,"loadAndCacheImage",function(){return A.loadAndCacheImage}),n.d(t,"registerImageLoader",function(){return A.registerImageLoader}),n.d(t,"registerUnknownImageLoader",function(){return A.registerUnknownImageLoader});var L=n("./invalidate.js");n.d(t,"invalidate",function(){return L.default});var R=n("./invalidateImageId.js");n.d(t,"invalidateImageId",function(){return R.default});var j=n("./pageToPixel.js");n.d(t,"pageToPixel",function(){return j.default});var N=n("./pixelToCanvas.js");n.d(t,"pixelToCanvas",function(){return N.default});var U=n("./reset.js");n.d(t,"reset",function(){return U.default});var F=n("./resize.js");n.d(t,"resize",function(){return F.default});var B=n("./setToPixelCoordinateSystem.js");n.d(t,"setToPixelCoordinateSystem",function(){return B.default});var z=n("./setViewport.js");n.d(t,"setViewport",function(){return z.default});var H=n("./updateImage.js");n.d(t,"updateImage",function(){return H.default});var V=n("./pixelDataToFalseColorData.js");n.d(t,"pixelDataToFalseColorData",function(){return V.default});var W=n("./rendering/index.js");n.d(t,"rendering",function(){return W.default});var q=n("./imageCache.js");n.d(t,"imageCache",function(){return q.default});var G=n("./metaData.js");n.d(t,"metaData",function(){return G.default});var Y=n("./webgl/index.js");n.d(t,"webGL",function(){return Y.default});var Z=n("./colors/index.js");n.d(t,"colors",function(){return Z.default});var X=n("./falseColorMapping.js");n.d(t,"convertImageToFalseColorImage",function(){return X.convertImageToFalseColorImage}),n.d(t,"convertToFalseColorImage",function(){return X.convertToFalseColorImage}),n.d(t,"restoreImage",function(){return X.restoreImage});var K=n("./events.js");n.d(t,"EVENTS",function(){return K.default}),n.d(t,"events",function(){return K.events});var $=n("./triggerEvent.js");n.d(t,"triggerEvent",function(){return $.default});var J={drawImage:r.default,generateLut:a.default,getDefaultViewport:i.default,requestAnimationFrame:o.default,storedPixelDataToCanvasImageData:s.default,storedColorPixelDataToCanvasImageData:l.default,storedPixelDataToCanvasImageDataColorLUT:u.default,storedPixelDataToCanvasImageDataPseudocolorLUT:c.default,internal:d.default,renderLabelMapImage:f.renderLabelMapImage,renderPseudoColorImage:h.renderPseudoColorImage,renderColorImage:p.renderColorImage,renderGrayscaleImage:m.renderGrayscaleImage,renderWebImage:g.renderWebImage,renderToCanvas:v.default,canvasToPixel:y.default,disable:b.default,displayImage:w.default,draw:x.default,drawInvalidated:E.default,enable:T.default,getElementData:_.getElementData,removeElementData:_.removeElementData,getEnabledElement:S.getEnabledElement,addEnabledElement:S.addEnabledElement,getEnabledElementsByImageId:S.getEnabledElementsByImageId,getEnabledElements:S.getEnabledElements,addLayer:C.addLayer,removeLayer:C.removeLayer,getLayer:C.getLayer,getLayers:C.getLayers,getVisibleLayers:C.getVisibleLayers,setActiveLayer:C.setActiveLayer,getActiveLayer:C.getActiveLayer,purgeLayers:C.purgeLayers,setLayerImage:C.setLayerImage,fitToWindow:k.default,getDefaultViewportForImage:P.default,getImage:I.default,getPixels:M.default,getStoredPixels:O.default,getViewport:D.default,loadImage:A.loadImage,loadAndCacheImage:A.loadAndCacheImage,registerImageLoader:A.registerImageLoader,registerUnknownImageLoader:A.registerUnknownImageLoader,invalidate:L.default,invalidateImageId:R.default,pageToPixel:j.default,pixelToCanvas:N.default,reset:U.default,resize:F.default,setToPixelCoordinateSystem:B.default,setViewport:z.default,updateImage:H.default,pixelDataToFalseColorData:V.default,rendering:W.default,imageCache:q.default,metaData:G.default,webGL:Y.default,colors:Z.default,convertImageToFalseColorImage:X.convertImageToFalseColorImage,convertToFalseColorImage:X.convertToFalseColorImage,restoreImage:X.restoreImage,EVENTS:K.default,events:K.events,triggerEvent:$.default};t.default=J},"./internal/calculateTransform.js":function(e,t,n){"use strict";n.r(t);var r=n("./internal/transform.js");t.default=function(e,t){var n=new r.Transform;n.translate(e.canvas.width/2,e.canvas.height/2);var a=e.viewport.rotation;0!==a&&n.rotate(a*Math.PI/180);var i=e.viewport.scale,o=e.viewport.scale,s=e.viewport.displayedArea.brhc.x-(e.viewport.displayedArea.tlhc.x-1),l=e.viewport.displayedArea.brhc.y-(e.viewport.displayedArea.tlhc.y-1);if("NONE"===e.viewport.displayedArea.presentationSizeMode)e.image.rowPixelSpacing<e.image.columnPixelSpacing?i*=e.image.columnPixelSpacing/e.image.rowPixelSpacing:e.image.columnPixelSpacing<e.image.rowPixelSpacing&&(o*=e.image.rowPixelSpacing/e.image.columnPixelSpacing);else if(i=e.viewport.displayedArea.columnPixelSpacing,o=e.viewport.displayedArea.rowPixelSpacing,"SCALE TO FIT"===e.viewport.displayedArea.presentationSizeMode){var u=e.canvas.height/(l*o),c=e.canvas.width/(s*i);i=o=Math.min(c,u),e.viewport.displayedArea.rowPixelSpacing<e.viewport.displayedArea.columnPixelSpacing?i*=e.viewport.displayedArea.columnPixelSpacing/e.viewport.displayedArea.rowPixelSpacing:e.viewport.displayedArea.columnPixelSpacing<e.viewport.displayedArea.rowPixelSpacing&&(o*=e.viewport.displayedArea.rowPixelSpacing/e.viewport.displayedArea.columnPixelSpacing)}return n.scale(i,o),0!==a&&n.rotate(-a*Math.PI/180),n.translate(e.viewport.translation.x,e.viewport.translation.y),0!==a&&n.rotate(a*Math.PI/180),void 0!==t&&n.scale(t,t),e.viewport.hflip&&n.scale(-1,1),e.viewport.vflip&&n.scale(1,-1),n.translate(-s/2,-l/2),n}},"./internal/computeAutoVoi.js":function(e,t,n){"use strict";function r(e,t){if(!function(e){return e.voiLUT&&e.voiLUT.lut&&e.voiLUT.lut.length>0||void 0!==e.voi.windowWidth&&void 0!==e.voi.windowCenter}(e)){var n=t.maxPixelValue*t.slope+t.intercept,r=t.minPixelValue*t.slope+t.intercept,a=n-r,i=(n+r)/2;void 0===e.voi?e.voi={windowWidth:a,windowCenter:i}:(e.voi.windowWidth=a,e.voi.windowCenter=i)}}n.r(t),n.d(t,"default",function(){return r})},"./internal/drawCompositeImage.js":function(e,t,n){"use strict";n.r(t);var r=n("./layers.js"),a=n("./rendering/renderGrayscaleImage.js"),i=n("./rendering/renderColorImage.js"),o=n("./rendering/renderPseudoColorImage.js"),s=n("./rendering/renderLabelMapImage.js"),l=n("./setToPixelCoordinateSystem.js");function u(e){var t=e.syncProps||{};t.originalScale=e.viewport.scale,e.syncProps=t}function c(e,t){e.forEach(function(e){if(e!==t&&e.viewport&&t.viewport){e.syncProps||u(e);var n,r,a=(r=e,(n=t).syncProps||u(n),r.syncProps||u(r),r.syncProps.originalScale/n.syncProps.originalScale);e.viewport.scale=t.viewport.scale*a,e.viewport.rotation=t.viewport.rotation,e.viewport.translation={x:t.viewport.translation.x/a,y:t.viewport.translation.y/a},e.viewport.hflip=t.viewport.hflip,e.viewport.vflip=t.viewport.vflip}})}t.default=function(e,t){var n=e.element,d=Object(r.getLayers)(n),f=Object(r.getActiveLayer)(n),h=Object(r.getVisibleLayers)(n),p=!e.lastSyncViewportsState&&e.syncViewports;e.lastSyncViewportsState=e.syncViewports,p&&d.forEach(function(e){e.viewport&&u(e)}),!0===e.syncViewports&&c(h,f);var m=e.canvas.getContext("2d");m.setTransform(1,0,0,1,0,0),m.fillStyle="black",m.fillRect(0,0,e.canvas.width,e.canvas.height),function(e,t,n){t.forEach(function(t,r){if(t.image){e.save(),t.canvas=e.canvas,Object(l.default)(t,e);var u=t.viewport.colormap||t.options.colormap,c=t.viewport.labelmap,d=t.invalid||n;if(u&&""!==u&&!0===c)Object(s.addLabelMapLayer)(t,d);else if(u&&""!==u)Object(o.addPseudoColorLayer)(t,d);else if(!0===t.image.color)Object(i.addColorLayer)(t,d);else{var f=0===r;Object(a.addGrayscaleLayer)(t,d,f)}t.options&&t.options.opacity?e.globalAlpha=t.options.opacity:e.globalAlpha=1,t.options&&t.options.fillStyle&&(e.fillStyle=t.options.fillStyle),e.imageSmoothingEnabled=!t.viewport.pixelReplication,e.mozImageSmoothingEnabled=e.imageSmoothingEnabled;var h=t.viewport.displayedArea.tlhc.x-1,p=t.viewport.displayedArea.tlhc.y-1,m=t.viewport.displayedArea.brhc.x-h,g=t.viewport.displayedArea.brhc.y-p;e.drawImage(t.canvas,h,p,m,g,0,0,m,g),e.restore(),t.invalid=!1}})}(m,h,t)}},"./internal/drawImage.js":function(e,t,n){"use strict";n.r(t),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.needsRedraw=!0,t&&(e.invalid=!0)}},"./internal/drawImageSync.js":function(e,t,n){"use strict";n.r(t);var r=n("./internal/now.js"),a=n("./internal/drawCompositeImage.js"),i=n("./rendering/renderColorImage.js"),o=n("./rendering/renderGrayscaleImage.js"),s=n("./rendering/renderPseudoColorImage.js"),l=n("./rendering/renderLabelMapImage.js"),u=n("./triggerEvent.js"),c=n("./events.js");t.default=function(e,t){var n=e.image,d=e.element,f=e.layers||[];if(e.canvas&&(e.image||f.length)){var h=Object(r.default)();if(n.stats={lastGetPixelDataTime:-1,lastStoredPixelDataToCanvasImageDataTime:-1,lastPutImageDataTime:-1,lastRenderTime:-1,lastLutGenerateTime:-1},f&&f.length)Object(a.default)(e,t);else if(n){var p=n.render;p||(p=e.viewport.colormap&&""!==e.viewport.colormap&&!0===e.image.labelmap?l.renderLabelMapImage:e.viewport.colormap&&""!==e.viewport.colormap?s.renderPseudoColorImage:n.color?i.renderColorImage:o.renderGrayscaleImage),p(e,t)}var m=Object(r.default)()-h,g={viewport:e.viewport,element:d,image:n,enabledElement:e,canvasContext:e.canvas.getContext("2d"),renderTimeInMs:m};n.stats.lastRenderTime=m,e.invalid=!1,e.needsRedraw=!1,Object(u.default)(d,c.default.IMAGE_RENDERED,g)}}},"./internal/generateColorLut.js":function(e,t,n){"use strict";n.r(t);var r=n("./internal/getVOILut.js");t.default=function(e,t,n,a,i){var o=e.maxPixelValue,s=e.minPixelValue,l=Math.min(s,0);if(void 0===e.cachedLut){var u=o-l+1;e.cachedLut={},e.cachedLut.lutArray=new Uint8ClampedArray(u)}var c=e.cachedLut.lutArray,d=Object(r.default)(t,n,i);if(!0===a)for(var f=s;f<=o;f++)c[f+-l]=255-d(f);else for(var h=s;h<=o;h++)c[h+-l]=d(h);return c}},"./internal/generateLut.js":function(e,t,n){"use strict";n.r(t);var r=n("./internal/getModalityLUT.js"),a=n("./internal/getVOILut.js");t.default=function(e,t,n,i,o,s){var l=e.maxPixelValue,u=e.minPixelValue,c=Math.min(u,0);if(void 0===e.cachedLut){var d=l-c+1;e.cachedLut={},e.cachedLut.lutArray=new Uint8ClampedArray(d)}var f=e.cachedLut.lutArray,h=Object(r.default)(e.slope,e.intercept,o),p=Object(a.default)(t,n,s);if(!0===i)for(var m=u;m<=l;m++)f[m+-c]=255-p(h(m));else for(var g=u;g<=l;g++)f[g+-c]=p(h(g));return f}},"./internal/getCanvas.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return a});var r="cornerstone-canvas";function a(e){var t="canvas.".concat(r);return e.querySelector(t)||function(e){var t=document.createElement("canvas");return t.style.display="block",t.classList.add(r),e.appendChild(t),t}(e)}},"./internal/getDefaultViewport.js":function(e,t,n){"use strict";n.r(t);var r=n("./internal/getImageFitScale.js");t.default=function(e,t){if(void 0===e)throw new Error("getDefaultViewport: parameter canvas must not be undefined");return void 0===t?{scale:1,translation:{x:0,y:0},voi:{windowWidth:void 0,windowCenter:void 0},invert:!1,pixelReplication:!1,rotation:0,hflip:!1,vflip:!1,modalityLUT:void 0,voiLUT:void 0,colormap:void 0,labelmap:!1,displayedArea:{tlhc:{x:1,y:1},brhc:{x:1,y:1},rowPixelSpacing:1,columnPixelSpacing:1,presentationSizeMode:"NONE"}}:{scale:Object(r.default)(e,t,0).scaleFactor,translation:{x:0,y:0},voi:{windowWidth:t.windowWidth,windowCenter:t.windowCenter},invert:t.invert,pixelReplication:!1,rotation:0,hflip:!1,vflip:!1,modalityLUT:t.modalityLUT,voiLUT:t.voiLUT,colormap:t.colormap,labelmap:Boolean(t.labelmap),displayedArea:{tlhc:{x:1,y:1},brhc:{x:t.columns,y:t.rows},rowPixelSpacing:void 0===t.rowPixelSpacing?1:t.rowPixelSpacing,columnPixelSpacing:void 0===t.columnPixelSpacing?1:t.columnPixelSpacing,presentationSizeMode:"NONE"}}}},"./internal/getImageFitScale.js":function(e,t,n){"use strict";n.r(t);var r=n("./internal/validator.js"),a=n("./internal/getImageSize.js");t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(r.validateParameterUndefinedOrNull)(e,"getImageScale: parameter windowSize must not be undefined"),Object(r.validateParameterUndefinedOrNull)(t,"getImageScale: parameter image must not be undefined");var i=Object(a.default)(t,n),o=t.rowPixelSpacing||1,s=t.columnPixelSpacing||1,l=1,u=1;o<s?u=s/o:l=o/s;var c=e.height/i.height/l,d=e.width/i.width/u;return{verticalScale:c,horizontalScale:d,scaleFactor:Math.min(d,c)}}},"./internal/getImageSize.js":function(e,t,n){"use strict";n.r(t);var r=n("./internal/validator.js");t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Object(r.validateParameterUndefinedOrNull)(e,"getImageSize: parameter image must not be undefined"),Object(r.validateParameterUndefinedOrNull)(e.width,"getImageSize: parameter image must have width"),Object(r.validateParameterUndefinedOrNull)(e.height,"getImageSize: parameter image must have height"),function(e){return!(null===e||void 0===e||0===e||180===e)}(t)?{height:e.width,width:e.height}:{width:e.width,height:e.height}}},"./internal/getModalityLUT.js":function(e,t,n){"use strict";n.r(t),t.default=function(e,t,n){return n?function(e){var t=e.lut[0],n=e.lut[e.lut.length-1],r=e.firstValueMapped+e.lut.length;return function(a){return a<e.firstValueMapped?t:a>=r?n:e.lut[a]}}(n):function(e,t){return function(n){return n*e+t}}(e,t)}},"./internal/getTransform.js":function(e,t,n){"use strict";n.r(t);var r=n("./internal/calculateTransform.js");t.default=function(e){return Object(r.default)(e)}},"./internal/getVOILut.js":function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.r(t),t.default=function(e,t,n){return n?function(e){var t=Math.max.apply(Math,r(e.lut)).toString(2).length-8,n=e.lut[0]>>t,a=e.lut[e.lut.length-1]>>t,i=e.firstValueMapped+e.lut.length-1;return function(r){return r<e.firstValueMapped?n:r>=i?a:e.lut[r-e.firstValueMapped]>>t}}(n):function(e,t){return function(n){return 255*((n-t)/e+.5)}}(e,t)}},"./internal/guid.js":function(e,t,n){"use strict";function r(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}n.r(t),t.default=function(){return"".concat(r()+r(),"-").concat(r(),"-").concat(r(),"-").concat(r(),"-").concat(r()).concat(r()).concat(r())}},"./internal/index.js":function(e,t,n){"use strict";n.r(t);var r=n("./internal/drawImage.js"),a=n("./internal/generateLut.js"),i=n("./internal/getDefaultViewport.js"),o=n("./internal/requestAnimationFrame.js"),s=n("./internal/storedPixelDataToCanvasImageData.js"),l=n("./internal/storedPixelDataToCanvasImageDataRGBA.js"),u=n("./internal/storedColorPixelDataToCanvasImageData.js"),c=n("./internal/storedPixelDataToCanvasImageDataColorLUT.js"),d=n("./internal/storedPixelDataToCanvasImageDataPseudocolorLUT.js"),f=n("./internal/getTransform.js"),h=n("./internal/calculateTransform.js"),p=n("./internal/transform.js");t.default={drawImage:r.default,generateLut:a.default,getDefaultViewport:i.default,requestAnimationFrame:o.default,storedPixelDataToCanvasImageData:s.default,storedPixelDataToCanvasImageDataRGBA:l.default,storedPixelDataToCanvasImageDataColorLUT:c.default,storedPixelDataToCanvasImageDataPseudocolorLUT:d.default,storedColorPixelDataToCanvasImageData:u.default,getTransform:f.default,calculateTransform:h.default,Transform:p.Transform}},"./internal/now.js":function(e,t,n){"use strict";n.r(t),t.default=function(){return window.performance?performance.now():Date.now()}},"./internal/requestAnimationFrame.js":function(e,t,n){"use strict";n.r(t),t.default=function(e){return window.requestAnimationFrame(e)||window.webkitRequestAnimationFrame(e)||window.mozRequestAnimationFrame(e)||window.oRequestAnimationFrame(e)||window.msRequestAnimationFrame(e)||function(e){window.setTimeout(e,1e3/60)}(e)}},"./internal/storedColorPixelDataToCanvasImageData.js":function(e,t,n){"use strict";n.r(t);var r=n("./internal/now.js");t.default=function(e,t,n){var a=Object(r.default)(),i=e.getPixelData();e.stats.lastGetPixelDataTime=Object(r.default)()-a;var o=e.minPixelValue,s=0,l=0,u=i.length;if(a=Object(r.default)(),o<0)for(;l<u;)n[s++]=t[i[l++]+-o],n[s++]=t[i[l++]+-o],n[s]=t[i[l]+-o],l+=2,s+=2;else for(;l<u;)n[s++]=t[i[l++]],n[s++]=t[i[l++]],n[s]=t[i[l]],l+=2,s+=2;e.stats.lastStoredPixelDataToCanvasImageDataTime=Object(r.default)()-a}},"./internal/storedPixelDataToCanvasImageData.js":function(e,t,n){"use strict";n.r(t);var r=n("./internal/now.js");t.default=function(e,t,n){var a=Object(r.default)(),i=e.getPixelData();e.stats.lastGetPixelDataTime=Object(r.default)()-a;var o=i.length,s=e.minPixelValue,l=3,u=0;if(a=Object(r.default)(),i instanceof Int16Array)if(s<0)for(;u<o;)n[l]=t[i[u++]+-s],l+=4;else for(;u<o;)n[l]=t[i[u++]],l+=4;else if(i instanceof Uint16Array)for(;u<o;)n[l]=t[i[u++]],l+=4;else if(s<0)for(;u<o;)n[l]=t[i[u++]+-s],l+=4;else for(;u<o;)n[l]=t[i[u++]],l+=4;e.stats.lastStoredPixelDataToCanvasImageDataTime=Object(r.default)()-a}},"./internal/storedPixelDataToCanvasImageDataColorLUT.js":function(e,t,n){"use strict";n.r(t);var r=n("./colors/index.js"),a=n("./internal/now.js");t.default=function(e,t,n){var i=Object(a.default)(),o=e.getPixelData();e.stats.lastGetPixelDataTime=Object(a.default)()-i;var s,l,u=o.length,c=e.minPixelValue,d=0,f=0;if(i=Object(a.default)(),l=t instanceof r.default.LookupTable?t.Table:t,c<0)for(;f<u;)s=l[o[f++]+-c],n[d++]=s[0],n[d++]=s[1],n[d++]=s[2],n[d++]=s[3];else for(;f<u;)s=l[o[f++]],n[d++]=s[0],n[d++]=s[1],n[d++]=s[2],n[d++]=s[3];e.stats.lastStoredPixelDataToCanvasImageDataTime=Object(a.default)()-i}},"./internal/storedPixelDataToCanvasImageDataPseudocolorLUT.js":function(e,t,n){"use strict";n.r(t);var r=n("./colors/index.js"),a=n("./internal/now.js");t.default=function(e,t,n,i){var o=Object(a.default)(),s=e.getPixelData();e.stats.lastGetPixelDataTime=Object(a.default)()-o;var l,u,c=s.length,d=e.minPixelValue,f=0,h=0;if(o=Object(a.default)(),u=n instanceof r.default.LookupTable?n.Table:n,d<0)for(;h<c;)l=u[t[s[h++]+-d]],i[f++]=l[0],i[f++]=l[1],i[f++]=l[2],i[f++]=l[3];else for(;h<c;)l=u[t[s[h++]]],i[f++]=l[0],i[f++]=l[1],i[f++]=l[2],i[f++]=l[3];e.stats.lastStoredPixelDataToCanvasImageDataTime=Object(a.default)()-o}},"./internal/storedPixelDataToCanvasImageDataRGBA.js":function(e,t,n){"use strict";n.r(t);var r=n("./internal/now.js");t.default=function(e,t,n){var a=Object(r.default)(),i=e.getPixelData();e.stats.lastGetPixelDataTime=Object(r.default)()-a;var o,s=i.length,l=e.minPixelValue,u=0,c=0;if(a=Object(r.default)(),i instanceof Int16Array)if(l<0)for(;c<s;)o=t[i[c++]+-l],n[u++]=o,n[u++]=o,n[u++]=o,n[u++]=255;else for(;c<s;)o=t[i[c++]],n[u++]=o,n[u++]=o,n[u++]=o,n[u++]=255;else if(i instanceof Uint16Array)for(;c<s;)o=t[i[c++]],n[u++]=o,n[u++]=o,n[u++]=o,n[u++]=255;else if(l<0)for(;c<s;)o=t[i[c++]+-l],n[u++]=o,n[u++]=o,n[u++]=o,n[u++]=255;else for(;c<s;)o=t[i[c++]],n[u++]=o,n[u++]=o,n[u++]=o,n[u++]=255;e.stats.lastStoredPixelDataToCanvasImageDataTime=Object(r.default)()-a}},"./internal/storedRGBAPixelDataToCanvasImageData.js":function(e,t,n){"use strict";n.r(t);var r=n("./internal/now.js");t.default=function(e,t,n){var a=Object(r.default)(),i=e.getPixelData();e.stats.lastGetPixelDataTime=Object(r.default)()-a;var o=e.minPixelValue,s=0,l=0,u=i.length;if(a=Object(r.default)(),o<0)for(;l<u;)n[s++]=t[i[l++]+-o],n[s++]=t[i[l++]+-o],n[s++]=t[i[l++]+-o],n[s++]=i[l++];else for(;l<u;)n[s++]=t[i[l++]],n[s++]=t[i[l++]],n[s++]=t[i[l++]],n[s++]=i[l++];e.stats.lastStoredPixelDataToCanvasImageDataTime=Object(r.default)()-a}},"./internal/transform.js":function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(t),n.d(t,"Transform",function(){return a});var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.reset()}var t,n,a;return t=e,(n=[{key:"reset",value:function(){this.m=[1,0,0,1,0,0]}},{key:"clone",value:function(){var t=new e;return t.m[0]=this.m[0],t.m[1]=this.m[1],t.m[2]=this.m[2],t.m[3]=this.m[3],t.m[4]=this.m[4],t.m[5]=this.m[5],t}},{key:"multiply",value:function(e){var t=this.m[0]*e.m[0]+this.m[2]*e.m[1],n=this.m[1]*e.m[0]+this.m[3]*e.m[1],r=this.m[0]*e.m[2]+this.m[2]*e.m[3],a=this.m[1]*e.m[2]+this.m[3]*e.m[3],i=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],o=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];this.m[0]=t,this.m[1]=n,this.m[2]=r,this.m[3]=a,this.m[4]=i,this.m[5]=o}},{key:"invert",value:function(){var e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),t=this.m[3]*e,n=-this.m[1]*e,r=-this.m[2]*e,a=this.m[0]*e,i=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),o=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);this.m[0]=t,this.m[1]=n,this.m[2]=r,this.m[3]=a,this.m[4]=i,this.m[5]=o}},{key:"rotate",value:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.m[0]*t+this.m[2]*n,a=this.m[1]*t+this.m[3]*n,i=this.m[0]*-n+this.m[2]*t,o=this.m[1]*-n+this.m[3]*t;this.m[0]=r,this.m[1]=a,this.m[2]=i,this.m[3]=o}},{key:"translate",value:function(e,t){this.m[4]+=this.m[0]*e+this.m[2]*t,this.m[5]+=this.m[1]*e+this.m[3]*t}},{key:"scale",value:function(e,t){this.m[0]*=e,this.m[1]*=e,this.m[2]*=t,this.m[3]*=t}},{key:"transformPoint",value:function(e,t){var n=e,r=t;return{x:e=n*this.m[0]+r*this.m[2]+this.m[4],y:t=n*this.m[1]+r*this.m[3]+this.m[5]}}}])&&r(t.prototype,n),a&&r(t,a),e}()},"./internal/tryEnableWebgl.js":function(e,t,n){"use strict";n.r(t);var r=n("./webgl/index.js");t.default=function(e){return r.default.renderer.isWebGLAvailable()?(r.default.renderer.initRenderer(),e.renderer="webgl",!0):(console.error("WebGL not available, falling back to Canvas renderer"),delete e.renderer,!1)}},"./internal/validator.js":function(e,t,n){"use strict";function r(e,t){if(void 0===e)throw new Error(t)}function a(e,t){if(void 0===e||null===e)throw new Error(t)}n.r(t),n.d(t,"validateParameterUndefined",function(){return r}),n.d(t,"validateParameterUndefinedOrNull",function(){return a})},"./invalidate.js":function(e,t,n){"use strict";n.r(t);var r=n("./enabledElements.js"),a=n("./triggerEvent.js"),i=n("./events.js");t.default=function(e){var t=Object(r.getEnabledElement)(e);t.invalid=!0,t.needsRedraw=!0;var n={element:e};Object(a.default)(e,i.default.INVALIDATED,n)}},"./invalidateImageId.js":function(e,t,n){"use strict";n.r(t);var r=n("./enabledElements.js"),a=n("./internal/drawImage.js");t.default=function(e){Object(r.getEnabledElementsByImageId)(e).forEach(function(e){Object(a.default)(e,!0)})}},"./layers.js":function(e,t,n){"use strict";n.r(t),n.d(t,"rescaleImage",function(){return c}),n.d(t,"addLayer",function(){return d}),n.d(t,"removeLayer",function(){return f}),n.d(t,"getLayer",function(){return h}),n.d(t,"getLayers",function(){return p}),n.d(t,"getVisibleLayers",function(){return m}),n.d(t,"setActiveLayer",function(){return g}),n.d(t,"setLayerImage",function(){return v}),n.d(t,"getActiveLayer",function(){return y}),n.d(t,"purgeLayers",function(){return b});var r=n("./internal/guid.js"),a=n("./enabledElements.js"),i=n("./internal/getDefaultViewport.js"),o=n("./updateImage.js"),s=n("./triggerEvent.js"),l=n("./events.js");function u(e,t,n){var r=t.element,a={viewport:t.viewport,element:t.element,image:t.image,enabledElement:t,layerId:n};Object(s.default)(r,e,a)}function c(e,t){if(e.layerId===t.layerId)throw new Error("rescaleImage: both arguments represent the same layer");var n=e.image,r=t.image;if(n.imageId&&r.imageId){var a=t.viewport.displayedArea.columnPixelSpacing*r.width/(e.viewport.displayedArea.columnPixelSpacing*n.width),i=t.viewport.scale/e.viewport.scale*a;t.viewport.scale=e.viewport.scale*i}}function d(e,t,n){var o,s=Object(r.default)(),d=Object(a.getEnabledElement)(e),f=d.layers;t&&(o=Object(i.default)(d.canvas,t),n&&n.viewport&&(o=Object.assign(o,n.viewport))),!1!==d.syncViewports&&(d.syncViewports=!0);var h={image:t,layerId:s,viewport:o,options:n||{},renderingTools:{}};return f.length&&t&&c(f[0],h),f.push(h),u(l.default.LAYER_ADDED,d,s),1===f.length&&t&&g(e,s),s}function f(e,t){var n=Object(a.getEnabledElement)(e),r=n.layers,i=n.layers.findIndex(function(e){return e.layerId===t});-1!==i&&(r.splice(i,1),t===n.activeLayerId&&r.length&&g(e,r[0].layerId),u(l.default.LAYER_REMOVED,n,t))}function h(e,t){return Object(a.getEnabledElement)(e).layers.find(function(e){return e.layerId===t})}function p(e){return Object(a.getEnabledElement)(e).layers}function m(e){return Object(a.getEnabledElement)(e).layers.filter(function(e){return e.options&&!1!==e.options.visible&&0!==e.options.opacity})}function g(e,t){var n=Object(a.getEnabledElement)(e);if(n.activeLayerId!==t){var r=n.layers.findIndex(function(e){return e.layerId===t});if(-1===r)throw new Error("setActiveLayer: layer not found in layers array");var i=n.layers[r];if(!i.image)throw new Error("setActiveLayer: layer with undefined image cannot be set as active.");n.activeLayerId=t,n.image=i.image,n.viewport=i.viewport,Object(o.default)(e),u(l.default.ACTIVE_LAYER_CHANGED,n,t)}}function v(e,t,n){var r,o=Object(a.getEnabledElement)(e),s=o.layers[0];if(!(r=n?h(e,n):y(e)))throw new Error("setLayerImage: Layer not found");if(r.image=t,t){if(!r.viewport){var l=Object(i.default)(o.canvas,t);r.options&&r.options.viewport&&(r.viewport=Object.assign(l,r.options.viewport)),s.layerId!==n&&c(s,r)}}else r.viewport=void 0}function y(e){var t=Object(a.getEnabledElement)(e);return t.layers.find(function(e){return e.layerId===t.activeLayerId})}function b(e){var t=Object(a.getEnabledElement)(e);t.layers=[],delete t.activeLayerId,delete t.lastSyncViewportsState}},"./metaData.js":function(e,t,n){"use strict";n.r(t),n.d(t,"addProvider",function(){return a}),n.d(t,"removeProvider",function(){return i});var r=[];function a(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(t=0;t<r.length&&!(r[t].priority<=n);t++);r.splice(t,0,{priority:n,provider:e})}function i(e){for(var t=0;t<r.length;t++)if(r[t].provider===e){r.splice(t,1);break}}t.default={addProvider:a,removeProvider:i,get:function(e,t){for(var n=0;n<r.length;n++){var a=r[n].provider(e,t);if(void 0!==a)return a}}}},"./pageToPixel.js":function(e,t,n){"use strict";n.r(t);var r=n("./enabledElements.js"),a=n("./internal/getTransform.js");t.default=function(e,t,n){var i=Object(r.getEnabledElement)(e);if(void 0===i.image)throw new Error("image has not been loaded yet");var o=e.getBoundingClientRect(),s={x:t-o.left-window.pageXOffset,y:n-o.top-window.pageYOffset},l=Object(a.default)(i);return l.invert(),l.transformPoint(s.x,s.y)}},"./pixelDataToFalseColorData.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return a});var r=n("./colors/index.js");function a(e,t){if(e.color&&!e.falseColor)throw new Error("Color transforms are not implemented yet");var n,a,i=e.minPixelValue,o=0,s=0,l=e.width*e.height,u=e.origPixelData||e.getPixelData(),c=new Uint8Array(4*l);if(e.color=!0,e.falseColor=!0,e.origPixelData=u,t instanceof r.default.LookupTable)for(t.build();s<l;)n=u[s++],a=t.mapValue(n),c[o++]=a[0],c[o++]=a[1],c[o++]=a[2],c[o++]=a[3];else if(i<0)for(;s<l;)n=u[s++],c[o++]=t[n+-i][0],c[o++]=t[n+-i][1],c[o++]=t[n+-i][2],c[o++]=t[n+-i][3];else for(;s<l;)n=u[s++],c[o++]=t[n][0],c[o++]=t[n][1],c[o++]=t[n][2],c[o++]=t[n][3];e.rgba=!0,e.cachedLut=void 0,e.render=void 0,e.slope=1,e.intercept=0,e.minPixelValue=0,e.maxPixelValue=255,e.windowWidth=255,e.windowCenter=128,e.getPixelData=function(){return c}}},"./pixelToCanvas.js":function(e,t,n){"use strict";n.r(t);var r=n("./enabledElements.js"),a=n("./internal/getTransform.js");t.default=function(e,t){var n=Object(r.getEnabledElement)(e);return Object(a.default)(n).transformPoint(t.x,t.y)}},"./rendering/doesImageNeedToBeRendered.js":function(e,t,n){"use strict";n.r(t),t.default=function(e,t){var n=e.renderingTools.lastRenderedImageId,r=e.renderingTools.lastRenderedViewport;return t.imageId!==n||!r||r.windowCenter!==e.viewport.voi.windowCenter||r.windowWidth!==e.viewport.voi.windowWidth||r.invert!==e.viewport.invert||r.rotation!==e.viewport.rotation||r.hflip!==e.viewport.hflip||r.vflip!==e.viewport.vflip||r.modalityLUT!==e.viewport.modalityLUT||r.voiLUT!==e.viewport.voiLUT||r.colormap!==e.viewport.colormap}},"./rendering/getLut.js":function(e,t,n){"use strict";n.r(t);var r=n("./internal/computeAutoVoi.js"),a=n("./rendering/lutMatches.js"),i=n("./internal/generateLut.js");t.default=function(e,t,n){return void 0!==e.cachedLut&&e.cachedLut.windowCenter===t.voi.windowCenter&&e.cachedLut.windowWidth===t.voi.windowWidth&&Object(a.default)(e.cachedLut.modalityLUT,t.modalityLUT)&&Object(a.default)(e.cachedLut.voiLUT,t.voiLUT)&&e.cachedLut.invert===t.invert&&!0!==n?e.cachedLut.lutArray:(Object(r.default)(t,e),Object(i.default)(e,t.voi.windowWidth,t.voi.windowCenter,t.invert,t.modalityLUT,t.voiLUT),e.cachedLut.windowWidth=t.voi.windowWidth,e.cachedLut.windowCenter=t.voi.windowCenter,e.cachedLut.invert=t.invert,e.cachedLut.voiLUT=t.voiLUT,e.cachedLut.modalityLUT=t.modalityLUT,e.cachedLut.lutArray)}},"./rendering/index.js":function(e,t,n){"use strict";n.r(t);var r=n("./rendering/renderColorImage.js"),a=n("./rendering/renderGrayscaleImage.js"),i=n("./rendering/renderWebImage.js"),o=n("./rendering/renderPseudoColorImage.js"),s=n("./rendering/renderLabelMapImage.js"),l=n("./rendering/renderToCanvas.js");t.default={colorImage:r.renderColorImage,grayscaleImage:a.renderGrayscaleImage,webImage:i.renderWebImage,pseudoColorImage:o.renderPseudoColorImage,labelMapImage:s.renderLabelMapImage,toCanvas:l.default}},"./rendering/initializeRenderCanvas.js":function(e,t,n){"use strict";n.r(t),t.default=function(e,t){var n=e.renderingTools.renderCanvas;n.width=t.width,n.height=t.height;var r=n.getContext("2d");r.fillStyle="white",r.fillRect(0,0,n.width,n.height);var a=r.getImageData(0,0,t.width,t.height);e.renderingTools.renderCanvasContext=r,e.renderingTools.renderCanvasData=a}},"./rendering/lutMatches.js":function(e,t,n){"use strict";n.r(t),t.default=function(e,t){return!e&&!t||!(!e||!t)&&e.id===t.id}},"./rendering/renderColorImage.js":function(e,t,n){"use strict";n.r(t),n.d(t,"renderColorImage",function(){return h}),n.d(t,"addColorLayer",function(){return p});var r=n("./internal/now.js"),a=n("./internal/generateColorLut.js"),i=n("./internal/storedColorPixelDataToCanvasImageData.js"),o=n("./internal/storedRGBAPixelDataToCanvasImageData.js"),s=n("./setToPixelCoordinateSystem.js"),l=n("./webgl/index.js"),u=n("./rendering/doesImageNeedToBeRendered.js"),c=n("./rendering/initializeRenderCanvas.js"),d=n("./rendering/saveLastRendered.js");function f(e,t,n){var s=!0===e.renderingTools.lastRenderedIsColor;e.renderingTools.renderCanvas&&s||(e.renderingTools.renderCanvas=document.createElement("canvas"));var l=e.renderingTools.renderCanvas;if(255===e.viewport.voi.windowWidth&&128===e.viewport.voi.windowCenter&&!1===e.viewport.invert&&t.getCanvas&&t.getCanvas())return t.getCanvas();if(!1===Object(u.default)(e,t)&&!0!==n)return l;l.width===t.width&&l.height===t.height||Object(c.default)(e,t);var d=Object(r.default)(),f=function(e,t){return void 0!==e.cachedLut&&e.cachedLut.windowCenter===t.voi.windowCenter&&e.cachedLut.windowWidth===t.voi.windowWidth&&e.cachedLut.invert===t.invert?e.cachedLut.lutArray:(Object(a.default)(e,t.voi.windowWidth,t.voi.windowCenter,t.invert),e.cachedLut.windowWidth=t.voi.windowWidth,e.cachedLut.windowCenter=t.voi.windowCenter,e.cachedLut.invert=t.invert,e.cachedLut.lutArray)}(t,e.viewport);t.stats=t.stats||{},t.stats.lastLutGenerateTime=Object(r.default)()-d;var h=e.renderingTools.renderCanvasData,p=e.renderingTools.renderCanvasContext;return t.rgba?Object(o.default)(t,f,h.data):Object(i.default)(t,f,h.data),d=Object(r.default)(),p.putImageData(h,0,0),t.stats.lastPutImageDataTime=Object(r.default)()-d,l}function h(e,t){if(void 0===e)throw new Error("renderColorImage: enabledElement parameter must not be undefined");var n=e.image;if(void 0===n)throw new Error("renderColorImage: image must be loaded before it can be drawn");var r,a=e.canvas.getContext("2d");a.setTransform(1,0,0,1,0,0),a.fillStyle="black",a.fillRect(0,0,e.canvas.width,e.canvas.height),a.imageSmoothingEnabled=!e.viewport.pixelReplication,a.mozImageSmoothingEnabled=a.imageSmoothingEnabled,Object(s.default)(e,a),r=e.options&&e.options.renderer&&"webgl"===e.options.renderer.toLowerCase()?l.default.renderer.render(e):f(e,n,t);var i=e.viewport.displayedArea.tlhc.x-1,o=e.viewport.displayedArea.tlhc.y-1,u=e.viewport.displayedArea.brhc.x-i,c=e.viewport.displayedArea.brhc.y-o;a.drawImage(r,i,o,u,c,0,0,u,c),e.renderingTools=Object(d.default)(e)}function p(e,t){if(void 0===e)throw new Error("addColorLayer: layer parameter must not be undefined");var n=e.image;if(void 0===n)throw new Error("addColorLayer: image must be loaded before it can be drawn");n.rgba=!0,e.canvas=f(e,n,t);var r=e.canvas.getContext("2d");r.imageSmoothingEnabled=!e.viewport.pixelReplication,r.mozImageSmoothingEnabled=r.imageSmoothingEnabled,e.renderingTools=Object(d.default)(e)}},"./rendering/renderGrayscaleImage.js":function(e,t,n){"use strict";n.r(t),n.d(t,"renderGrayscaleImage",function(){return h}),n.d(t,"addGrayscaleLayer",function(){return p});var r=n("./internal/storedPixelDataToCanvasImageData.js"),a=n("./internal/storedPixelDataToCanvasImageDataRGBA.js"),i=n("./setToPixelCoordinateSystem.js"),o=n("./internal/now.js"),s=n("./webgl/index.js"),l=n("./rendering/getLut.js"),u=n("./rendering/doesImageNeedToBeRendered.js"),c=n("./rendering/initializeRenderCanvas.js"),d=n("./rendering/saveLastRendered.js");function f(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=!0===e.renderingTools.lastRenderedIsColor;e.renderingTools.renderCanvas&&!s||(e.renderingTools.renderCanvas=document.createElement("canvas"),Object(c.default)(e,t));var d=e.renderingTools.renderCanvas;if(!1===Object(u.default)(e,t)&&!0!==n)return d;d.width===t.width&&d.height===t.height||Object(c.default)(e,t);var f=Object(o.default)(),h=Object(l.default)(t,e.viewport,n);t.stats=t.stats||{},t.stats.lastLutGenerateTime=Object(o.default)()-f;var p=e.renderingTools.renderCanvasData,m=e.renderingTools.renderCanvasContext;return i?Object(r.default)(t,h,p.data):Object(a.default)(t,h,p.data),f=Object(o.default)(),m.putImageData(p,0,0),t.stats.lastPutImageDataTime=Object(o.default)()-f,d}function h(e,t){if(void 0===e)throw new Error("drawImage: enabledElement parameter must not be undefined");var n=e.image;if(void 0===n)throw new Error("drawImage: image must be loaded before it can be drawn");var r,a=e.canvas.getContext("2d");a.setTransform(1,0,0,1,0,0),a.fillStyle="black",a.fillRect(0,0,e.canvas.width,e.canvas.height),a.imageSmoothingEnabled=!e.viewport.pixelReplication,a.mozImageSmoothingEnabled=a.imageSmoothingEnabled,Object(i.default)(e,a),r=e.options&&e.options.renderer&&"webgl"===e.options.renderer.toLowerCase()?s.default.renderer.render(e):f(e,n,t);var o=e.viewport.displayedArea.tlhc.x-1,l=e.viewport.displayedArea.tlhc.y-1,u=e.viewport.displayedArea.brhc.x-o,c=e.viewport.displayedArea.brhc.y-l;a.drawImage(r,o,l,u,c,0,0,u,c),e.renderingTools=Object(d.default)(e)}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(void 0===e)throw new Error("addGrayscaleLayer: layer parameter must not be undefined");var r=e.image;if(void 0===r)throw new Error("addGrayscaleLayer: image must be loaded before it can be drawn");e.canvas=f(e,r,t,n);var a=e.canvas.getContext("2d");a.imageSmoothingEnabled=!e.viewport.pixelReplication,a.mozImageSmoothingEnabled=a.imageSmoothingEnabled,e.renderingTools=Object(d.default)(e)}},"./rendering/renderLabelMapImage.js":function(e,t,n){"use strict";n.r(t),n.d(t,"renderLabelMapImage",function(){return d}),n.d(t,"addLabelMapLayer",function(){return f});var r=n("./setToPixelCoordinateSystem.js"),a=n("./internal/now.js"),i=n("./rendering/initializeRenderCanvas.js"),o=n("./rendering/saveLastRendered.js"),s=n("./rendering/doesImageNeedToBeRendered.js"),l=n("./internal/storedPixelDataToCanvasImageDataColorLUT.js"),u=n("./colors/index.js");function c(e,t,n){e.renderingTools.renderCanvas||(e.renderingTools.renderCanvas=document.createElement("canvas"));var r=e.renderingTools.renderCanvas,o=e.viewport.colormap||e.options.colormap;if(e.options.colormap&&console.warn("enabledElement.options.colormap is deprecated. Use enabledElement.viewport.colormap instead"),o&&"string"===typeof o&&(o=u.default.getColormap(o)),!o)throw new Error("renderLabelMapImage: colormap not found.");var c=o.getId();if(!1===Object(s.default)(e,t)&&!0!==n&&e.renderingTools.colormapId===c)return r;r.width===t.width&&r.height===t.height||Object(i.default)(e,t);var d=Object(a.default)();e.renderingTools.colorLut&&!n&&e.renderingTools.colormapId===c||(e.renderingTools.colorLut=o.createLookupTable(),e.renderingTools.colormapId=c),t.stats=t.stats||{},t.stats.lastLutGenerateTime=Object(a.default)()-d;var f=e.renderingTools.colorLut,h=e.renderingTools.renderCanvasData,p=e.renderingTools.renderCanvasContext;return Object(l.default)(t,f,h.data),d=Object(a.default)(),p.putImageData(h,0,0),t.stats.lastPutImageDataTime=Object(a.default)()-d,r}function d(e,t){if(void 0===e)throw new Error("renderLabelMapImage: enabledElement parameter must not be undefined");var n=e.image;if(void 0===n)throw new Error("renderLabelMapImage: image must be loaded before it can be drawn");var a=e.canvas.getContext("2d");a.setTransform(1,0,0,1,0,0),a.fillStyle="black",a.fillRect(0,0,e.canvas.width,e.canvas.height),a.imageSmoothingEnabled=!e.viewport.pixelReplication,a.mozImageSmoothingEnabled=a.imageSmoothingEnabled,Object(r.default)(e,a);var i=c(e,n,t),s=e.viewport.displayedArea.tlhc.x-1,l=e.viewport.displayedArea.tlhc.y-1,u=e.viewport.displayedArea.brhc.x-s,d=e.viewport.displayedArea.brhc.y-l;a.drawImage(i,s,l,u,d,0,0,u,d),e.renderingTools=Object(o.default)(e)}function f(e,t){if(void 0===e)throw new Error("addLabelMapLayer: layer parameter must not be undefined");var n=e.image;if(void 0===n)throw new Error("addLabelMapLayer: image must be loaded before it can be drawn");e.canvas=c(e,n,t);var r=e.canvas.getContext("2d");r.imageSmoothingEnabled=!e.viewport.pixelReplication,r.mozImageSmoothingEnabled=r.imageSmoothingEnabled,e.renderingTools=Object(o.default)(e)}},"./rendering/renderPseudoColorImage.js":function(e,t,n){"use strict";n.r(t),n.d(t,"renderPseudoColorImage",function(){return f}),n.d(t,"addPseudoColorLayer",function(){return h});var r=n("./setToPixelCoordinateSystem.js"),a=n("./internal/now.js"),i=n("./rendering/initializeRenderCanvas.js"),o=n("./rendering/getLut.js"),s=n("./rendering/saveLastRendered.js"),l=n("./rendering/doesImageNeedToBeRendered.js"),u=n("./internal/storedPixelDataToCanvasImageDataPseudocolorLUT.js"),c=n("./colors/index.js");function d(e,t,n){e.renderingTools.renderCanvas||(e.renderingTools.renderCanvas=document.createElement("canvas"));var r=e.renderingTools.renderCanvas,s=e.viewport.colormap||e.options.colormap;if(e.options.colormap&&console.warn("enabledElement.options.colormap is deprecated. Use enabledElement.viewport.colormap instead"),s&&"string"===typeof s&&(s=c.default.getColormap(s)),!s)throw new Error("renderPseudoColorImage: colormap not found.");var d=s.getId();if(!1===Object(l.default)(e,t)&&!0!==n&&e.renderingTools.colormapId===d)return r;r.width===t.width&&r.height===t.height||Object(i.default)(e,t);var f=Object(a.default)();e.renderingTools.colorLut&&!n&&e.renderingTools.colormapId===d||(s.setNumberOfColors(256),e.renderingTools.colorLut=s.createLookupTable(),e.renderingTools.colormapId=d);var h=Object(o.default)(t,e.viewport,n);t.stats=t.stats||{},t.stats.lastLutGenerateTime=Object(a.default)()-f;var p=e.renderingTools.colorLut,m=e.renderingTools.renderCanvasData,g=e.renderingTools.renderCanvasContext;return Object(u.default)(t,h,p,m.data),f=Object(a.default)(),g.putImageData(m,0,0),t.stats.lastPutImageDataTime=Object(a.default)()-f,r}function f(e,t){if(void 0===e)throw new Error("drawImage: enabledElement parameter must not be undefined");var n=e.image;if(void 0===n)throw new Error("drawImage: image must be loaded before it can be drawn");var a=e.canvas.getContext("2d");a.setTransform(1,0,0,1,0,0),a.fillStyle="black",a.fillRect(0,0,e.canvas.width,e.canvas.height),a.imageSmoothingEnabled=!e.viewport.pixelReplication,a.mozImageSmoothingEnabled=a.imageSmoothingEnabled,Object(r.default)(e,a);var i=d(e,n,t),o=e.viewport.displayedArea.tlhc.x-1,l=e.viewport.displayedArea.tlhc.y-1,u=e.viewport.displayedArea.brhc.x-o,c=e.viewport.displayedArea.brhc.y-l;a.drawImage(i,o,l,u,c,0,0,u,c),e.renderingTools=Object(s.default)(e)}function h(e,t){if(void 0===e)throw new Error("addPseudoColorLayer: layer parameter must not be undefined");var n=e.image;if(void 0===n)throw new Error("addPseudoColorLayer: image must be loaded before it can be drawn");e.canvas=d(e,n,t);var r=e.canvas.getContext("2d");r.imageSmoothingEnabled=!e.viewport.pixelReplication,r.mozImageSmoothingEnabled=r.imageSmoothingEnabled,e.renderingTools=Object(s.default)(e)}},"./rendering/renderToCanvas.js":function(e,t,n){"use strict";n.r(t);var r=n("./triggerEvent.js"),a=n("./events.js"),i=n("./internal/drawImageSync.js"),o=n("./internal/getDefaultViewport.js"),s=n("./internal/tryEnableWebgl.js");t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(void 0===e)throw new Error("renderToCanvas: parameter canvas cannot be undefined");l&&l.renderer&&"webgl"===l.renderer.toLowerCase()&&Object(s.default)(l);var u=Object(o.default)(e,t);n&&Object.assign(u,n);var c=function(e,t,n,r){return{element:e,canvas:e,image:t,invalid:!0,needsRedraw:!0,options:n,layers:[],data:{},renderingTools:{},viewport:r}}(e,t,l,u),d={enabledElement:c,timestamp:Date.now()};Object(r.default)(c.element,a.default.PRE_RENDER,d),Object(i.default)(c,c.invalid)}},"./rendering/renderWebImage.js":function(e,t,n){"use strict";n.r(t),n.d(t,"renderWebImage",function(){return i});var r=n("./setToPixelCoordinateSystem.js"),a=n("./rendering/renderColorImage.js");function i(e,t){if(void 0===e)throw new Error("renderWebImage: enabledElement parameter must not be undefined");var n=e.image;if(void 0===n)throw new Error("renderWebImage: image must be loaded before it can be drawn");if(e.viewport.voi.windowWidth===e.image.windowWidth&&e.viewport.voi.windowCenter===e.image.windowCenter&&!1===e.viewport.invert){var i=e.canvas.getContext("2d");i.setTransform(1,0,0,1,0,0),i.fillStyle="black",i.fillRect(0,0,e.canvas.width,e.canvas.height),i.imageSmoothingEnabled=!e.viewport.pixelReplication,i.mozImageSmoothingEnabled=i.imageSmoothingEnabled,Object(r.default)(e,i);var o=e.viewport.displayedArea.tlhc.x-1,s=e.viewport.displayedArea.tlhc.y-1,l=e.viewport.displayedArea.brhc.x-o,u=e.viewport.displayedArea.brhc.y-s;i.drawImage(n.getImage(),o,s,l,u,0,0,l,u)}else Object(a.renderColorImage)(e,t)}},"./rendering/saveLastRendered.js":function(e,t,n){"use strict";n.r(t),t.default=function(e){var t=e.image.imageId,n=e.viewport,r=e.image.color;return e.renderingTools.lastRenderedImageId=t,e.renderingTools.lastRenderedIsColor=r,e.renderingTools.lastRenderedViewport={windowCenter:n.voi.windowCenter,windowWidth:n.voi.windowWidth,invert:n.invert,rotation:n.rotation,hflip:n.hflip,vflip:n.vflip,modalityLUT:n.modalityLUT,voiLUT:n.voiLUT,colormap:n.colormap},e.renderingTools}},"./reset.js":function(e,t,n){"use strict";n.r(t);var r=n("./enabledElements.js"),a=n("./internal/getDefaultViewport.js"),i=n("./updateImage.js");t.default=function(e){var t=Object(r.getEnabledElement)(e);t.viewport=Object(a.default)(t.canvas,t.image),Object(i.default)(e)}},"./resize.js":function(e,t,n){"use strict";n.r(t);var r=n("./enabledElements.js"),a=n("./fitToWindow.js"),i=n("./updateImage.js"),o=n("./triggerEvent.js"),s=n("./internal/getImageSize.js"),l=n("./events.js");t.default=function(e,t){var n=Object(r.getEnabledElement)(e),u=n.canvas.width,c=n.canvas.height;!function(e,t){t.width!==e.clientWidth&&(t.width=e.clientWidth,t.style.width="".concat(e.clientWidth,"px")),t.height!==e.clientHeight&&(t.height=e.clientHeight,t.style.height="".concat(e.clientHeight,"px"))}(e,n.canvas);var d={element:e};Object(o.default)(e,l.default.ELEMENT_RESIZED,d),void 0!==n.image&&(t||function(e,t,n){var r=e.viewport.scale,a=Object(s.default)(e.image,e.viewport.rotation),i=Math.round(a.width*r),o=Math.round(a.height*r),l=e.viewport.translation.x,u=e.viewport.translation.y;return i===t&&o<=n||i<=t&&o===n&&0===l&&0===u}(n,u,c)?Object(a.default)(e):(!function(e,t,n){var r=e.viewport.scale,a=e.canvas.width/t,i=e.canvas.height/n,o=Math.sqrt(a*i);e.viewport.scale=o*r}(n,u,c),Object(i.default)(e)))}},"./setToPixelCoordinateSystem.js":function(e,t,n){"use strict";n.r(t);var r=n("./internal/calculateTransform.js");t.default=function(e,t,n){if(void 0===e)throw new Error("setToPixelCoordinateSystem: parameter enabledElement must not be undefined");if(void 0===t)throw new Error("setToPixelCoordinateSystem: parameter context must not be undefined");var a=Object(r.default)(e,n);t.setTransform(a.m[0],a.m[1],a.m[2],a.m[3],a.m[4],a.m[5])}},"./setViewport.js":function(e,t,n){"use strict";n.r(t);var r=n("./internal/getDefaultViewport.js"),a=n("./enabledElements.js"),i=n("./updateImage.js");t.default=function(e,t){var n=Object(a.getEnabledElement)(e);if(void 0===n.viewport&&(n.viewport=Object(r.default)(n.canvas)),t)for(var o in t)null!==t[o]&&(n.viewport[o]=t[o]);n.viewport.voi.windowWidth&&(n.viewport.voi.windowWidth=Math.max(t.voi.windowWidth,1e-6)),n.viewport.scale&&(n.viewport.scale=Math.max(t.scale,1e-4)),n.viewport.rotation%=360,n.viewport.rotation<0&&(n.viewport.rotation+=360),n.image&&Object(i.default)(e)}},"./triggerEvent.js":function(e,t,n){"use strict";function r(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return"function"===typeof window.CustomEvent?n=new CustomEvent(t,{detail:r,cancelable:!0}):(n=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,r),e.dispatchEvent(n)}n.r(t),n.d(t,"default",function(){return r})},"./updateImage.js":function(e,t,n){"use strict";n.r(t);var r=n("./enabledElements.js"),a=n("./internal/drawImage.js");t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(r.getEnabledElement)(e);if(void 0===n.image&&!n.layers.length)throw new Error("updateImage: image has not been loaded yet");Object(a.default)(n,t)}},"./webgl/createProgramFromString.js":function(e,t,n){"use strict";function r(e,t,n){var r=e.createShader(n);if(e.shaderSource(r,t),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS)&&!e.isContextLost()){var a=e.getShaderInfoLog(r);console.error("Could not compile shader:\n".concat(a))}return r}n.r(t),t.default=function(e,t,n){return function(e,t,n){var r=e.createProgram();if(e.attachShader(r,t),e.attachShader(r,n),e.linkProgram(r),!e.getProgramParameter(r,e.LINK_STATUS)&&!e.isContextLost()){var a=e.getProgramInfoLog(r);console.error("WebGL program filed to link:\n".concat(a))}return r}(e,r(e,t,e.VERTEX_SHADER),r(e,n,e.FRAGMENT_SHADER))}},"./webgl/index.js":function(e,t,n){"use strict";n.r(t);var r=n("./webgl/renderer.js"),a=n("./webgl/createProgramFromString.js"),i=n("./webgl/textureCache.js"),o={createProgramFromString:a.default,renderer:{render:r.render,initRenderer:r.initRenderer,getRenderCanvas:r.getRenderCanvas,isWebGLAvailable:r.isWebGLAvailable},textureCache:i.default};Object.defineProperty(o,"isWebGLInitialized",{enumerable:!0,configurable:!1,get:function(){return r.isWebGLInitialized}}),t.default=o},"./webgl/renderer.js":function(e,t,n){"use strict";n.r(t),n.d(t,"isWebGLInitialized",function(){return d}),n.d(t,"getRenderCanvas",function(){return f}),n.d(t,"initRenderer",function(){return h}),n.d(t,"render",function(){return b}),n.d(t,"isWebGLAvailable",function(){return w});var r,a,i,o=n("./webgl/shaders/index.js"),s=n("./webgl/vertexShader.js"),l=n("./webgl/textureCache.js"),u=n("./webgl/createProgramFromString.js"),c=document.createElement("canvas"),d=!1;function f(){return c}function h(){!0!==d&&function(e){r=null;try{var t={preserveDrawingBuffer:!0};r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),e.removeEventListener("webglcontextlost",p,!1),e.addEventListener("webglcontextlost",p,!1),e.removeEventListener("webglcontextrestored",m,!1),e.addEventListener("webglcontextrestored",m,!1)}catch(n){throw new Error("Error creating WebGL context")}r||(console.error("Unable to initialize WebGL. Your browser may not support it."),r=null);return r}(c)&&(i=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,i),r.bufferData(r.ARRAY_BUFFER,new Float32Array([1,1,0,1,1,0,0,0]),r.STATIC_DRAW),a=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,a),r.bufferData(r.ARRAY_BUFFER,new Float32Array([1,1,0,1,1,0,0,0]),r.STATIC_DRAW),function(){for(var e in o.shaders){var t=o.shaders[e];t.attributes={},t.uniforms={},t.vert=s.vertexShader,t.program=Object(u.default)(r,t.vert,t.frag),t.attributes.texCoordLocation=r.getAttribLocation(t.program,"a_texCoord"),r.enableVertexAttribArray(t.attributes.texCoordLocation),t.attributes.positionLocation=r.getAttribLocation(t.program,"a_position"),r.enableVertexAttribArray(t.attributes.positionLocation),t.uniforms.resolutionLocation=r.getUniformLocation(t.program,"u_resolution")}}(),d=!0)}function p(e){e.preventDefault(),console.warn("WebGL Context Lost!")}function m(e){e.preventDefault(),d=!1,l.default.purgeCache(),h()}function g(e){if(e.color)return"rgb";var t=e.getPixelData();return t instanceof Int16Array?"int16":t instanceof Uint16Array?"uint16":t instanceof Int8Array?"int8":"uint8"}function v(e){var t=l.default.getImageTexture(e.imageId);return t||(t=function(e){var t={uint8:r.LUMINANCE,int8:r.LUMINANCE_ALPHA,uint16:r.LUMINANCE_ALPHA,int16:r.RGB,rgb:r.RGB},n=g(e),a=t[n],i=r.createTexture();r.bindTexture(r.TEXTURE_2D,i),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.pixelStorei(r.UNPACK_ALIGNMENT,1);var s=o.dataUtilities[n].storedPixelDataToImageData(e,e.width,e.height);return r.texImage2D(r.TEXTURE_2D,0,a,e.width,e.height,0,a,r.UNSIGNED_BYTE,s),{texture:i,sizeInBytes:e.width*e.height*{int8:1,uint16:2,int16:3,rgb:3}[n]}}(e),l.default.putImageTexture(e,t)),t.texture}function y(e,t,n,o,s){for(var l in r.clearColor(1,0,0,1),r.viewport(0,0,o,s),r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT),r.useProgram(e.program),r.bindBuffer(r.ARRAY_BUFFER,a),r.vertexAttribPointer(e.attributes.texCoordLocation,2,r.FLOAT,!1,0,0),r.bindBuffer(r.ARRAY_BUFFER,i),r.vertexAttribPointer(e.attributes.positionLocation,2,r.FLOAT,!1,0,0),t){var u=r.getUniformLocation(e.program,l);if(u){var c=t[l],d=c.type,f=c.value;"i"===d?r.uniform1i(u,f):"f"===d?r.uniform1f(u,f):"2f"===d&&r.uniform2f(u,f[0],f[1])}}!function(e,t,n){e.bufferData(e.ARRAY_BUFFER,new Float32Array([t,n,0,n,t,0,0,0]),e.STATIC_DRAW)}(r,o,s),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,n),r.drawArrays(r.TRIANGLE_STRIP,0,4)}function b(e){var t=e.image;c.width=t.width,c.height=t.height;var n=e.viewport,r=function(e){var t=g(e);return o.shaders.hasOwnProperty(t)?o.shaders[t]:o.shaders.rgb}(t),a=v(t);return y(r,{u_resolution:{type:"2f",value:[t.width,t.height]},wc:{type:"f",value:n.voi.windowCenter},ww:{type:"f",value:n.voi.windowWidth},slope:{type:"f",value:t.slope},intercept:{type:"f",value:t.intercept},minPixelValue:{type:"f",value:t.minPixelValue},invert:{type:"i",value:n.invert?1:0}},a,t.width,t.height),c}function w(){var e={failIfMajorPerformanceCaveat:!0};try{var t=document.createElement("canvas");return Boolean(window.WebGLRenderingContext)&&(t.getContext("webgl",e)||t.getContext("experimental-webgl",e))}catch(n){return!1}}},"./webgl/shaders/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,"shaders",function(){return l}),n.d(t,"dataUtilities",function(){return u});var r=n("./webgl/shaders/int16.js"),a=n("./webgl/shaders/int8.js"),i=n("./webgl/shaders/rgb.js"),o=n("./webgl/shaders/uint16.js"),s=n("./webgl/shaders/uint8.js"),l={int16:r.int16Shader,int8:a.int8Shader,rgb:i.rgbShader,uint16:o.uint16Shader,uint8:s.uint8Shader},u={int16:r.int16DataUtilities,int8:a.int8DataUtilities,rgb:i.rgbDataUtilities,uint16:o.uint16DataUtilities,uint8:s.uint8DataUtilities}},"./webgl/shaders/int16.js":function(e,t,n){"use strict";n.r(t),n.d(t,"int16DataUtilities",function(){return a}),n.d(t,"int16Shader",function(){return r});var r={};var a={storedPixelDataToImageData:function(e){for(var t=e.getPixelData(),n=new Uint8Array(e.width*e.height*3),r=0,a=0;a<t.length;a++){var i=Math.abs(t[a]);n[r++]=255&i,n[r++]=i>>8,n[r++]=t[a]<0?0:1}return n}};r.frag="precision mediump float;uniform sampler2D u_image;uniform float ww;uniform float wc;uniform float slope;uniform float intercept;uniform int invert;varying vec2 v_texCoord;void main() {vec4 color = texture2D(u_image, v_texCoord);float intensity = color.r*256.0 + color.g*65536.0;if (color.b == 0.0)intensity = -intensity;intensity = intensity * slope + intercept;float center0 = wc - 0.5;float width0 = max(ww, 1.0);intensity = (intensity - center0) / width0 + 0.5;intensity = clamp(intensity, 0.0, 1.0);gl_FragColor = vec4(intensity, intensity, intensity, 1.0);if (invert == 1)gl_FragColor.rgb = 1.0 - gl_FragColor.rgb;}"},"./webgl/shaders/int8.js":function(e,t,n){"use strict";n.r(t),n.d(t,"int8DataUtilities",function(){return a}),n.d(t,"int8Shader",function(){return r});var r={};var a={storedPixelDataToImageData:function(e){for(var t=e.getPixelData(),n=new Uint8Array(e.width*e.height*2),r=0,a=0;a<t.length;a++)n[r++]=t[a],n[r++]=t[a]<0?0:1;return n}};r.frag="precision mediump float;uniform sampler2D u_image;uniform float ww;uniform float wc;uniform float slope;uniform float intercept;uniform int invert;varying vec2 v_texCoord;void main() {vec4 color = texture2D(u_image, v_texCoord);float intensity = color.r*256.;if (color.a == 0.0)intensity = -intensity;intensity = intensity * slope + intercept;float center0 = wc - 0.5;float width0 = max(ww, 1.0);intensity = (intensity - center0) / width0 + 0.5;intensity = clamp(intensity, 0.0, 1.0);gl_FragColor = vec4(intensity, intensity, intensity, 1.0);if (invert == 1)gl_FragColor.rgb = 1.0 - gl_FragColor.rgb;}"},"./webgl/shaders/rgb.js":function(e,t,n){"use strict";n.r(t),n.d(t,"rgbDataUtilities",function(){return a}),n.d(t,"rgbShader",function(){return r});var r={};var a={storedPixelDataToImageData:function(e){var t=e.minPixelValue,n=0,r=0,a=e.width*e.height*4,i=e.width*e.height*3,o=e.getPixelData(),s=new Uint8Array(i);if(t<0)for(;r<a;)s[n++]=o[r++]+-t,s[n++]=o[r++]+-t,s[n++]=o[r++]+-t,r+=1;else for(;r<a;)s[n++]=o[r++],s[n++]=o[r++],s[n++]=o[r++],r+=1;return s}};r.frag="precision mediump float;uniform sampler2D u_image;uniform float ww;uniform float wc;uniform float slope;uniform float intercept;uniform float minPixelValue;uniform int invert;varying vec2 v_texCoord;void main() {vec3 color = texture2D(u_image, v_texCoord).xyz;color = color * 256.0 * slope + intercept;float center0 = wc - 0.5 - minPixelValue;float width0 = max(ww, 1.0);color = (color - center0) / width0 + 0.5;gl_FragColor = vec4(color, 1);if (invert == 1)gl_FragColor.rgb = 1. - gl_FragColor.rgb;}"},"./webgl/shaders/uint16.js":function(e,t,n){"use strict";n.r(t),n.d(t,"uint16DataUtilities",function(){return a}),n.d(t,"uint16Shader",function(){return r});var r={};var a={storedPixelDataToImageData:function(e){for(var t=e.getPixelData(),n=new Uint8Array(e.width*e.height*2),r=0,a=0;a<t.length;a++){var i=t[a];n[r++]=255&i,n[r++]=i>>8}return n}};r.frag="precision mediump float;uniform sampler2D u_image;uniform float ww;uniform float wc;uniform float slope;uniform float intercept;uniform int invert;varying vec2 v_texCoord;void main() {vec4 color = texture2D(u_image, v_texCoord);float intensity = color.r*256.0 + color.a*65536.0;intensity = intensity * slope + intercept;float center0 = wc - 0.5;float width0 = max(ww, 1.0);intensity = (intensity - center0) / width0 + 0.5;intensity = clamp(intensity, 0.0, 1.0);gl_FragColor = vec4(intensity, intensity, intensity, 1.0);if (invert == 1)gl_FragColor.rgb = 1.0 - gl_FragColor.rgb;}"},"./webgl/shaders/uint8.js":function(e,t,n){"use strict";n.r(t),n.d(t,"uint8DataUtilities",function(){return a}),n.d(t,"uint8Shader",function(){return r});var r={};var a={storedPixelDataToImageData:function(e){return e.getPixelData()}};r.frag="precision mediump float;uniform sampler2D u_image;uniform float ww;uniform float wc;uniform float slope;uniform float intercept;uniform int invert;varying vec2 v_texCoord;void main() {vec4 color = texture2D(u_image, v_texCoord);float intensity = color.r*256.0;intensity = intensity * slope + intercept;float center0 = wc - 0.5;float width0 = max(ww, 1.0);intensity = (intensity - center0) / width0 + 0.5;intensity = clamp(intensity, 0.0, 1.0);gl_FragColor = vec4(intensity, intensity, intensity, 1.0);if (invert == 1)gl_FragColor.rgb = 1.0 - gl_FragColor.rgb;}"},"./webgl/textureCache.js":function(e,t,n){"use strict";n.r(t);var r=n("./events.js"),a=n("./triggerEvent.js"),i={},o=[],s=268435456,l=0;function u(){if(!(l<=s)){for(o.sort(function(e,t){return e.timeStamp>t.timeStamp?-1:e.timeStamp<t.timeStamp?1:0});l>s;){var e=o[o.length-1];l-=e.sizeInBytes,delete i[e.imageId],o.pop(),Object(a.default)(r.events,r.default.WEBGL_TEXTURE_REMOVED,{imageId:e.imageId})}var t={maximumSizeInBytes:s,cacheSizeInBytes:l,numberOfImagesCached:o.length};Object(a.default)(r.events,r.default.WEBGL_TEXTURE_CACHE_FULL,t)}}t.default={purgeCache:function(){for(;o.length>0;){var e=o.pop();delete i[e.imageId]}l=0},getImageTexture:function(e){if(void 0===e)throw new Error("getImageTexture: imageId must not be undefined");var t=i[e];if(void 0!==t)return t.timeStamp=new Date,t.imageTexture},putImageTexture:function(e,t){var n=e.imageId;if(void 0===e)throw new Error("putImageTexture: image must not be undefined");if(void 0===n)throw new Error("putImageTexture: imageId must not be undefined");if(void 0===t)throw new Error("putImageTexture: imageTexture must not be undefined");if(!0===Object.prototype.hasOwnProperty.call(i,n))throw new Error("putImageTexture: imageId already in cache");var r={imageId:n,imageTexture:t,timeStamp:new Date,sizeInBytes:t.sizeInBytes};if(i[n]=r,o.push(r),void 0===t.sizeInBytes)throw new Error("putImageTexture: imageTexture.sizeInBytes must not be undefined");if(void 0===t.sizeInBytes.toFixed)throw new Error("putImageTexture: imageTexture.sizeInBytes is not a number");l+=r.sizeInBytes,u()},removeImageTexture:function(e){if(void 0===e)throw new Error("removeImageTexture: imageId must not be undefined");var t=i[e];if(void 0===t)throw new Error("removeImageTexture: imageId must not be undefined");return o.splice(o.indexOf(t),1),l-=t.sizeInBytes,delete i[e],t.imageTexture},setMaximumSizeBytes:function(e){if(void 0===e)throw new Error("setMaximumSizeBytes: parameter numBytes must not be undefined");if(void 0===e.toFixed)throw new Error("setMaximumSizeBytes: parameter numBytes must be a number");s=e,u()}}},"./webgl/vertexShader.js":function(e,t,n){"use strict";n.r(t),n.d(t,"vertexShader",function(){return r});var r="attribute vec2 a_position;attribute vec2 a_texCoord;uniform vec2 u_resolution;varying vec2 v_texCoord;void main() {vec2 zeroToOne = a_position / u_resolution;vec2 zeroToTwo = zeroToOne * 2.0;vec2 clipSpace = zeroToTwo - 1.0;gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);v_texCoord = a_texCoord;}"}})},e.exports=r()},function(e,t,n){"use strict";var r=/^#?[a-fA-F0-9]+$/;e.exports=function(e,t){if(!r.test(e))throw Error("hex2rgba: first argument has invalid hexadecimal characters");if("#"===e[0]&&(e=e.slice(1)),3===e.length&&((e=e.split("")).splice(2,0,e[2]),e.splice(1,0,e[1]),e.splice(0,0,e[0]),e=e.join("")),6!==e.length)throw Error("hex2rgba: first argument has invalid hexadecimal length");var n=[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)];return(t="number"===typeof t?t:parseFloat(t))>=0&&t<=1?n.push(t):n.push(1),"rgba("+n.join(",")+")"}},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){"use strict";t.a=function(e){for(var t,n=e[0],r=e[0],a=e.length,i=1;i<a;i++)t=e[i],n=Math.min(n,t),r=Math.max(r,t);return{min:n,max:r}}},function(e,t,n){"use strict";var r;function a(){if("undefined"==typeof CharLS)throw new Error("No JPEG-LS decoder loaded");if(!(r||(r=CharLS())&&r._jpegls_decode))throw new Error("JPEG-LS failed to initialize")}n.d(t,"b",function(){return a}),t.a=function(e,t){a();var n=function(e,t){var n=r._malloc(e.length);r.writeArrayToMemory(e,n);var a=r._malloc(4),i=r._malloc(4),o=r._malloc(4),s=r._malloc(4),l=r._malloc(4),u=r._malloc(4),c=r._malloc(4),d=r._malloc(4),f=r._malloc(4),h={result:r.ccall("jpegls_decode","number",["number","number","number","number","number","number","number","number","number","number","number"],[n,e.length,a,i,o,s,l,u,d,c,f]),width:r.getValue(o,"i32"),height:r.getValue(s,"i32"),bitsPerSample:r.getValue(l,"i32"),stride:r.getValue(u,"i32"),components:r.getValue(d,"i32"),allowedLossyError:r.getValue(c,"i32"),interleaveMode:r.getValue(f,"i32"),pixelData:void 0},p=r.getValue(a,"*");return h.bitsPerSample<=8?(h.pixelData=new Uint8Array(h.width*h.height*h.components),h.pixelData.set(new Uint8Array(r.HEAP8.buffer,p,h.pixelData.length))):t?(h.pixelData=new Int16Array(h.width*h.height*h.components),h.pixelData.set(new Int16Array(r.HEAP16.buffer,p,h.pixelData.length))):(h.pixelData=new Uint16Array(h.width*h.height*h.components),h.pixelData.set(new Uint16Array(r.HEAP16.buffer,p,h.pixelData.length))),r._free(n),r._free(p),r._free(a),r._free(i),r._free(o),r._free(s),r._free(l),r._free(u),r._free(d),r._free(f),h}(t,1===e.pixelRepresentation);if(0!==n.result&&6!==n.result)throw new Error("JPEG-LS decoder failed to decode frame (error code ".concat(n.result,")"));return e.columns=n.width,e.rows=n.height,e.pixelData=n.pixelData,e}},function(e,t,n){"use strict";var r;function a(e){if(!e.usePDFJS&&"undefined"==typeof OpenJPEG)throw new Error("OpenJPEG decoder not loaded");if(!(r||(r=OpenJPEG())&&r._jp2_decode))throw new Error("OpenJPEG failed to initialize")}n.d(t,"b",function(){return a}),t.a=function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return a(n),i.usePDFJS||n.usePDFJS?function(e,t){var n=new JpxImage;n.parse(t);var r=n.tiles.length;if(1!==r)throw new Error("JPEG2000 decoder returned a tileCount of ".concat(r,", when 1 is expected"));return e.columns=n.width,e.rows=n.height,e.pixelData=n.tiles[0].items,e}(e,t):function(e,t){var n=function(e,t,n){var a=r._malloc(e.length);r.writeArrayToMemory(e,a);var i=r._malloc(4),o=r._malloc(4),s=r._malloc(4),l=r._malloc(4),u=r._malloc(4),c=(new Date).getTime();if(0!==r.ccall("jp2_decode","number",["number","number","number","number","number","number","number"],[a,e.length,i,o,s,l,u]))return console.log("[opj_decode] decoding failed!"),r._free(a),r._free(r.getValue(i,"*")),r._free(s),r._free(l),r._free(o),void r._free(u);var d=r.getValue(i,"*"),f={length:r.getValue(o,"i32"),sx:r.getValue(s,"i32"),sy:r.getValue(l,"i32"),nbChannels:r.getValue(u,"i32"),perf_timetodecode:void 0,pixelData:void 0},h=f.sx*f.sy*f.nbChannels,p=new Int32Array(r.HEAP32.buffer,d,h);if(1===t)if(Uint8Array.from)f.pixelData=Uint8Array.from(p);else{f.pixelData=new Uint8Array(h);for(var m=0;m<h;m++)f.pixelData[m]=p[m]}else if(n)if(Int16Array.from)f.pixelData=Int16Array.from(p);else{f.pixelData=new Int16Array(h);for(var g=0;g<h;g++)f.pixelData[g]=p[g]}else if(Uint16Array.from)f.pixelData=Uint16Array.from(p);else{f.pixelData=new Uint16Array(h);for(var v=0;v<h;v++)f.pixelData[v]=p[v]}var y=(new Date).getTime();return f.perf_timetodecode=y-c,r._free(a),r._free(i),r._free(d),r._free(o),r._free(s),r._free(l),r._free(u),f}(t,e.bitsAllocated<=8?1:2,1===e.pixelRepresentation);return e.columns=n.sx,e.rows=n.sy,e.pixelData=n.pixelData,1<n.nbChannels&&(e.photometricInterpretation="RGB"),e}(e,t)}},function(e,t,n){"use strict";t.a="2.2.2"},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(0);function a(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=Object(r.a)(e.pixelData),a=!(i(e.smallestPixelValue)&&i(e.largestPixelValue));!0!==t||a?(e.smallestPixelValue=n.min,e.largestPixelValue=n.max):(e.smallestPixelValue!==n.min&&console.warn("Image smallestPixelValue tag is incorrect. Rendering performance will suffer considerably."),e.largestPixelValue!==n.max&&console.warn("Image largestPixelValue tag is incorrect. Rendering performance will suffer considerably."))}function i(e){return"number"==typeof e}},function(e,t,n){"use strict";var r=function(e,t){var n=t.buffer,r=t.byteOffset,a=t.length;return 16===e.bitsAllocated?(r%2&&(n=n.slice(r),r=0),0===e.pixelRepresentation?e.pixelData=new Uint16Array(n,r,a/2):e.pixelData=new Int16Array(n,r,a/2)):8===e.bitsAllocated||1===e.bitsAllocated?e.pixelData=t:32===e.bitsAllocated&&(r%2&&(n=n.slice(r),r=0),e.pixelData=new Float32Array(n,r,a/4)),e},a=function(e,t){if("undefined"==typeof JpegImage)throw new Error("No JPEG Baseline decoder loaded");var n=new JpegImage;return n.parse(t),n.colorTransform=!1,8===e.bitsAllocated?(e.pixelData=n.getData(e.columns,e.rows),e):16===e.bitsAllocated?(e.pixelData=n.getData16(e.columns,e.rows),e):void 0},i=function(e,t){if("undefined"==typeof jpeg||void 0===jpeg.lossless||void 0===jpeg.lossless.Decoder)throw new Error("No JPEG Lossless decoder loaded");var n=e.bitsAllocated<=8?1:2,r=t.buffer,a=(new jpeg.lossless.Decoder).decode(r,t.byteOffset,t.length,n);return 0===e.pixelRepresentation?16===e.bitsAllocated?e.pixelData=new Uint16Array(a.buffer):e.pixelData=new Uint8Array(a.buffer):e.pixelData=new Int16Array(a.buffer),e},o=n(1),s=n(2);t.a=function(e,t,n,l,u){var c=(new Date).getTime();if("1.2.840.10008.1.2"===t)e=r(e,n);else if("1.2.840.10008.1.2.1"===t)e=r(e,n);else if("1.2.840.10008.1.2.2"===t)e=function(e,t){if(16===e.bitsAllocated){var n=t.buffer,r=t.byteOffset,a=t.length;r%2&&(n=n.slice(r),r=0),0===e.pixelRepresentation?e.pixelData=new Uint16Array(n,r,a/2):e.pixelData=new Int16Array(n,r,a/2);for(var i=0;i<e.pixelData.length;i++)e.pixelData[i]=(255&(o=e.pixelData[i]))<<8|o>>8&255}else 8===e.bitsAllocated&&(e.pixelData=t);var o;return e}(e,n);else if("1.2.840.10008.1.2.1.99"===t)e=r(e,n);else if("1.2.840.10008.1.2.5"===t)e=function(e,t){if(8===e.bitsAllocated)return e.planarConfiguration?function(e,t){for(var n=t,r=e.rows*e.columns,a=new ArrayBuffer(r*e.samplesPerPixel),i=new DataView(n.buffer,n.byteOffset),o=new Int8Array(n.buffer,n.byteOffset),s=new Int8Array(a),l=0,u=i.getInt32(0,!0),c=0;c<u;++c){l=c*r;var d=i.getInt32(4*(c+1),!0),f=i.getInt32(4*(c+2),!0);0===f&&(f=n.length);for(var h=r*u;d<f;){var p=o[d++];if(0<=p&&p<=127)for(var m=0;m<p+1&&l<h;++m)s[l]=o[d++],l++;else if(p<=-1&&-127<=p)for(var g=o[d++],v=0;v<1-p&&l<h;++v)s[l]=g,l++}}return e.pixelData=new Uint8Array(a),e}(e,t):function(e,t){for(var n=t,r=e.rows*e.columns,a=new ArrayBuffer(r*e.samplesPerPixel),i=new DataView(n.buffer,n.byteOffset),o=new Int8Array(n.buffer,n.byteOffset),s=new Int8Array(a),l=0,u=i.getInt32(0,!0),c=0;c<u;++c){l=c;var d=i.getInt32(4*(c+1),!0),f=i.getInt32(4*(c+2),!0);0===f&&(f=n.length);for(var h=r*u;d<f;){var p=o[d++];if(0<=p&&p<=127)for(var m=0;m<p+1&&l<h;++m)s[l]=o[d++],l+=e.samplesPerPixel;else if(p<=-1&&-127<=p)for(var g=o[d++],v=0;v<1-p&&l<h;++v)s[l]=g,l+=e.samplesPerPixel}}return e.pixelData=new Uint8Array(a),e}(e,t);if(16===e.bitsAllocated)return function(e,t){for(var n=t,r=e.rows*e.columns,a=new ArrayBuffer(r*e.samplesPerPixel*2),i=new DataView(n.buffer,n.byteOffset),o=new Int8Array(n.buffer,n.byteOffset),s=new Int8Array(a),l=i.getInt32(0,!0),u=0;u<l;++u){var c=0,d=0===u?1:0,f=i.getInt32(4*(u+1),!0),h=i.getInt32(4*(u+2),!0);for(0===h&&(h=n.length);f<h;){var p=o[f++];if(0<=p&&p<=127)for(var m=0;m<p+1&&c<r;++m)s[2*c+d]=o[f++],c++;else if(p<=-1&&-127<=p)for(var g=o[f++],v=0;v<1-p&&c<r;++v)s[2*c+d]=g,c++}}return 0===e.pixelRepresentation?e.pixelData=new Uint16Array(a):e.pixelData=new Int16Array(a),e}(e,t);throw new Error("unsupported pixel format for RLE")}(e,n);else if("1.2.840.10008.1.2.4.50"===t)e=a(e,n);else if("1.2.840.10008.1.2.4.51"===t)e=a(e,n);else if("1.2.840.10008.1.2.4.57"===t)e=i(e,n);else if("1.2.840.10008.1.2.4.70"===t)e=i(e,n);else if("1.2.840.10008.1.2.4.80"===t)e=Object(o.a)(e,n);else if("1.2.840.10008.1.2.4.81"===t)e=Object(o.a)(e,n);else if("1.2.840.10008.1.2.4.90"===t)e=Object(s.a)(e,n,l,u);else{if("1.2.840.10008.1.2.4.91"!==t)throw new Error("no decoder for transfer syntax ".concat(t));e=Object(s.a)(e,n,l,u)}var d=void 0!==e.pixelRepresentation&&1===e.pixelRepresentation,f=d&&void 0!==e.bitsStored?32-e.bitsStored:void 0;if(d&&void 0!==f)for(var h=0;h<e.pixelData.length;h++)e.pixelData[h]=e.pixelData[h]<<f>>f;var p=(new Date).getTime();return e.decodeTimeInMS=p-c,e}},function(e,t,n){"use strict";n.r(t);var r=function(e,t){if(void 0===e)throw new Error("decodeRGB: rgbBuffer must not be undefined");if(e.length%3!=0)throw new Error("decodeRGB: rgbBuffer length must be divisible by 3");for(var n=e.length/3,r=0,a=0,i=0;i<n;i++)t[a++]=e[r++],t[a++]=e[r++],t[a++]=e[r++],t[a++]=255},a=function(e,t){if(void 0===e)throw new Error("decodeRGB: rgbBuffer must not be undefined");if(e.length%3!=0)throw new Error("decodeRGB: rgbBuffer length must be divisible by 3");for(var n=e.length/3,r=0,a=0,i=n,o=2*n,s=0;s<n;s++)t[r++]=e[a++],t[r++]=e[i++],t[r++]=e[o++],t[r++]=255},i=function(e,t){if(void 0===e)throw new Error("decodeRGB: ybrBuffer must not be undefined");if(e.length%3!=0)throw new Error("decodeRGB: ybrBuffer length must be divisble by 3");for(var n=e.length/3,r=0,a=0,i=0;i<n;i++){var o=e[r++],s=e[r++],l=e[r++];t[a++]=o+1.402*(l-128),t[a++]=o-.34414*(s-128)-.71414*(l-128),t[a++]=o+1.772*(s-128),t[a++]=255}},o=function(e,t){if(void 0===e)throw new Error("decodeRGB: ybrBuffer must not be undefined");if(e.length%3!=0)throw new Error("decodeRGB: ybrBuffer length must be divisble by 3");for(var n=e.length/3,r=0,a=0,i=n,o=2*n,s=0;s<n;s++){var l=e[a++],u=e[i++],c=e[o++];t[r++]=l+1.402*(c-128),t[r++]=l-.34414*(u-128)-.71414*(c-128),t[r++]=l+1.772*(u-128),t[r++]=255}};function s(e,t){for(var n=e.length,r=new Uint8ClampedArray(n),a=0;a<n;++a)r[a]=e[a]>>t;return r}var l=function(e,t){for(var n=e.columns*e.rows,r=e.pixelData,a=e.redPaletteColorLookupTableData,i=e.greenPaletteColorLookupTableData,o=e.bluePaletteColorLookupTableData,l=e.redPaletteColorLookupTableData.length,u=0,c=0,d=e.redPaletteColorLookupTableDescriptor[1],f=8===e.redPaletteColorLookupTableDescriptor[2]?0:8,h=s(a,f),p=s(i,f),m=s(o,f),g=0;g<n;++g){var v=r[u++];v<d?v=0:d+l-1<v?v=l-1:v-=d,t[c++]=h[v],t[c++]=p[v],t[c++]=m[v],t[c++]=255}};function u(e,t){if(e.elements[t]&&6===e.elements[t].length)return[e.uint16(t,0),e.uint16(t,1),e.uint16(t,2)]}function c(e,t,n){for(var r=[],a=e.elements[t],i=0;i<n[0];i++)16===n[2]?r[i]=e.uint16(t,i):r[i]=e.byteArray[i+a.dataOffset];return r}var d=function(e){var t,n,r,a={samplesPerPixel:e.uint16("x00280002"),photometricInterpretation:e.string("x00280004"),rows:e.uint16("x00280010"),columns:e.uint16("x00280011"),bitsAllocated:e.uint16("x00280100"),bitsStored:e.uint16("x00280101"),highBit:e.uint16("x00280102"),pixelRepresentation:e.uint16("x00280103"),planarConfiguration:e.uint16("x00280006"),pixelAspectRatio:e.string("x00280034")};return n=a,r=(t=e).uint16("x00280103"),n.largestPixelValue=0===r?(n.smallestPixelValue=t.uint16("x00280106"),t.uint16("x00280107")):(n.smallestPixelValue=t.int16("x00280106"),t.int16("x00280107")),"PALETTE COLOR"===a.photometricInterpretation&&e.elements.x00281101&&function(e,t){t.redPaletteColorLookupTableDescriptor=u(e,"x00281101"),t.greenPaletteColorLookupTableDescriptor=u(e,"x00281102"),t.bluePaletteColorLookupTableDescriptor=u(e,"x00281103"),0===t.redPaletteColorLookupTableDescriptor[0]&&(t.redPaletteColorLookupTableDescriptor[0]=65536,t.greenPaletteColorLookupTableDescriptor[0]=65536,t.bluePaletteColorLookupTableDescriptor[0]=65536);var n=t.redPaletteColorLookupTableDescriptor[0],r=e.elements.x00281201.length===n?8:16;t.redPaletteColorLookupTableDescriptor[2]!==r&&(t.redPaletteColorLookupTableDescriptor[2]=r,t.greenPaletteColorLookupTableDescriptor[2]=r,t.bluePaletteColorLookupTableDescriptor[2]=r),t.redPaletteColorLookupTableData=c(e,"x00281201",t.redPaletteColorLookupTableDescriptor),t.greenPaletteColorLookupTableData=c(e,"x00281202",t.greenPaletteColorLookupTableDescriptor),t.bluePaletteColorLookupTableData=c(e,"x00281203",t.bluePaletteColorLookupTableDescriptor)}(e,a),a};function f(e,t){var n=t.uint16("x00283002",0);0===n&&(n=65535);for(var r={id:"1",firstValueMapped:0===e?t.uint16("x00283002",1):t.int16("x00283002",1),numBitsPerEntry:t.uint16("x00283002",2),lut:[]},a=0;a<n;a++)r.lut[a]=0===e?t.uint16("x00283006",a):t.int16("x00283006",a);return r}var h=function(e,t){if(t&&t.items.length){for(var n=[],r=0;r<t.items.length;r++){var a=f(e,t.items[r].dataSet);a&&n.push(a)}return n}},p=function(e){var t=e.string("x00080016");if("1.2.840.10008.5.1.4.1.1.2"===t||"1.2.840.10008.5.1.4.1.1.2.1"===t)return 1;var n,r,a,i=e.floatString("x00281052"),o=e.floatString("x00281053");return void 0===i||void 0===o?e.elements.x00283000&&0<e.elements.x00283000.length?0:e.uint16("x00280103"):(r=(n=e).uint16("x00280103"),a=n.uint16("x00280101"),(0===r?0:-1<<a-1)*o+i<0?1:0)},m=function(e,t,n){var r=[],a=e.string(t);if(a){var i=a.split("\\");if(!(n&&i.length<n)){for(var o=0;o<i.length;o++)r.push(parseFloat(i[o]));return r}}},g=function(e,t,n){return t=t||0,e&&e.Value?e.Value.length<=t?n:e.Value[t]:n},v=function(e,t){var n=g(e,t);if(void 0!==n)return parseFloat(n)},y=function(e,t){if(e&&e.Value&&!(t&&e.Value.length<t)){for(var n=[],r=0;r<e.Value.length;r++)n.push(parseFloat(e.Value[r]));return n}},b=[],w={add:function(e,t){b[e]=t},get:function(e){return b[e]},remove:function(e){b[e]=void 0},purge:function(){b=[]}},x=function(e,t){var n=ue.dicomParser,r=w.get(t);if(r){if("generalSeriesModule"===e)return{modality:g(r["00080060"]),seriesInstanceUID:g(r["0020000e"]),seriesNumber:v(r["00200011"]),studyInstanceUID:g(r["0020000d"]),seriesDate:n.parseDA(g(r["00080021"])),seriesTime:n.parseTM(g(r["00080031"],0,""))};if("patientStudyModule"===e)return{patientAge:v(r["00101010"]),patientSize:v(r["00101020"]),patientWeight:v(r["00101030"])};if("imagePlaneModule"===e){var a=y(r["00200037"],6),i=y(r["00200032"],3),o=y(r["00280030"],2),s=null,l=null;o&&(l=o[0],s=o[1]);var u=null,c=null;return a&&(u=[parseFloat(a[0]),parseFloat(a[1]),parseFloat(a[2])],c=[parseFloat(a[3]),parseFloat(a[4]),parseFloat(a[5])]),{frameOfReferenceUID:g(r["00200052"]),rows:v(r["00280010"]),columns:v(r["00280011"]),imageOrientationPatient:a,rowCosines:u,columnCosines:c,imagePositionPatient:i,sliceThickness:v(r["00180050"]),sliceLocation:v(r["00201041"]),pixelSpacing:o,rowPixelSpacing:l,columnPixelSpacing:s}}if("imagePixelModule"===e)return{samplesPerPixel:v(r["00280002"]),photometricInterpretation:g(r["00280004"]),rows:v(r["00280010"]),columns:v(r["00280011"]),bitsAllocated:v(r["00280100"]),bitsStored:v(r["00280101"]),highBit:g(r["00280102"]),pixelRepresentation:v(r["00280103"]),planarConfiguration:v(r["00280006"]),pixelAspectRatio:g(r["00280034"]),smallestPixelValue:v(r["00280106"]),largestPixelValue:v(r["00280107"]),redPaletteColorLookupTableDescriptor:y(r["00281101"]),greenPaletteColorLookupTableDescriptor:y(r["00281102"]),bluePaletteColorLookupTableDescriptor:y(r["00281103"]),redPaletteColorLookupTableData:y(r["00281201"]),greenPaletteColorLookupTableData:y(r["00281202"]),bluePaletteColorLookupTableData:y(r["00281203"])};if("voiLutModule"===e)return{windowCenter:y(r["00281050"],1),windowWidth:y(r["00281051"],1)};if("modalityLutModule"===e)return{rescaleIntercept:v(r["00281052"]),rescaleSlope:v(r["00281053"]),rescaleType:g(r["00281054"])};if("sopCommonModule"===e)return{sopClassUID:g(r["00080016"]),sopInstanceUID:g(r["00080018"])};if("petIsotopeModule"===e){var d=g(r["00540016"]);if(void 0===d)return;return{radiopharmaceuticalInfo:{radiopharmaceuticalStartTime:n.parseTM(g(d["00181072"],0,"")),radionuclideTotalDose:v(d["00181074"]),radionuclideHalfLife:v(d["00181075"])}}}}};function E(e,t,n){if(n+e.length>t.length)return!1;for(var r=n,a=0;a<e.length;a++)if(e[a]!==t[r++])return!1;return!0}var T=function(e,t,n){n=n||0;for(var r=function(e){for(var t=new Uint8Array(e.length),n=0,r=e.length;n<r;n++)t[n]=e.charCodeAt(n);return t}(t),a=n;a<e.length;a++)if(r[0]===e[a]&&E(r,e,a))return a;return-1},_={beforeSend:function(){},imageCreated:function(){},strict:!1,useWebWorkers:!0,decodeConfig:{usePDFJS:!1}};function S(e){_=Object.assign(_,e)}function C(){return _}var k,P=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},a=ue.cornerstone,i=C();return new Promise(function(o,s){var l=new XMLHttpRequest;l.open("get",e,!0),l.responseType="arraybuffer",i.beforeSend(l,t,n,r),Object.keys(n).forEach(function(e){l.setRequestHeader(e,n[e])}),r.deferred={resolve:o,reject:s},r.url=e,r.imageId=t,l.onloadstart=function(n){i.onloadstart&&i.onloadstart(n,r);var o={url:e,imageId:t};a.triggerEvent(a.events,"cornerstoneimageloadstart",o)},l.onloadend=function(n){i.onloadend&&i.onloadend(n,r);var o={url:e,imageId:t};a.triggerEvent(a.events,"cornerstoneimageloadend",o)},l.onreadystatechange=function(e){i.onreadystatechange?i.onreadystatechange(e,r):4===l.readyState&&(200===l.status?o(l.response,l):s(l))},l.onprogress=function(n){var o,s,l=n.loaded;n.lengthComputable&&(o=n.total,s=Math.round(l/o*100)),i.onprogress&&i.onprogress(n,r);var u={url:e,imageId:t,loaded:l,total:o,percentComplete:s};a.triggerEvent(a.events,"cornerstoneimageloadprogress",u)},l.send()})},I={xhrRequest:P,setOptions:S,getOptions:C},M=function(e,t){var n={accept:2<arguments.length&&void 0!==arguments[2]?arguments[2]:"application/octet-stream"};return new Promise(function(r,a){P(e,t,n).then(function(e){var t=new Uint8Array(e),n=T(t,"\r\n\r\n");-1===n&&a(new Error("invalid response - no multipart mime header"));var i=function(e,t,n){t=t||0,n=n||e.length-t;for(var r="",a=t;a<t+n;a++)r+=String.fromCharCode(e[a]);return r}(t,0,n).split("\r\n"),o=function(e){for(var t=0;t<e.length;t++)if("--"===e[t].substr(0,2))return e[t]}(i);o||a(new Error("invalid response - no boundary marker"));var s=n+4,l=T(t,o,s);-1===l&&a(new Error("invalid response - terminating boundary not found"));var u=l-s-2;r({contentType:function(e){for(var t=0;t<e.length;t++)if("Content-Type:"===e[t].substr(0,13))return e[t].substr(13).trim()}(i),imageFrame:{pixelData:new Uint8Array(e,s,u)}})})})},O=function(e){var t=ue.cornerstone.metaData.get("imagePixelModule",e);return{samplesPerPixel:t.samplesPerPixel,photometricInterpretation:t.photometricInterpretation,planarConfiguration:t.planarConfiguration,rows:t.rows,columns:t.columns,bitsAllocated:t.bitsAllocated,bitsStored:t.bitsStored,pixelRepresentation:t.pixelRepresentation,smallestPixelValue:t.smallestPixelValue,largestPixelValue:t.largestPixelValue,redPaletteColorLookupTableDescriptor:t.redPaletteColorLookupTableDescriptor,greenPaletteColorLookupTableDescriptor:t.greenPaletteColorLookupTableDescriptor,bluePaletteColorLookupTableDescriptor:t.bluePaletteColorLookupTableDescriptor,redPaletteColorLookupTableData:t.redPaletteColorLookupTableData,greenPaletteColorLookupTableData:t.greenPaletteColorLookupTableData,bluePaletteColorLookupTableData:t.bluePaletteColorLookupTableData,pixelData:void 0}},D=0,A=[],L=[],R=C(),j={maxWebWorkers:navigator.hardwareConcurrency||1,startWebWorkersOnDemand:!0,webWorkerPath:"../../dist/cornerstoneWADOImageLoaderWebWorker.js",webWorkerTaskPaths:[],taskConfiguration:{decodeTask:{loadCodecsOnStartup:!0,initializeCodecsOnStartup:!1,codecsPath:"../dist/cornerstoneWADOImageLoaderCodecs.js",usePDFJS:!1,strict:R.strict}}},N={maxWebWorkers:0,numWebWorkers:0,numTasksQueued:0,numTasksExecuting:0,numTasksCompleted:0,totalTaskTimeInMS:0,totalTimeDelayedInMS:0};function U(){if(A.length){for(var e=0;e<L.length;e++)if("ready"===L[e].status){L[e].status="busy";var t=A.shift();t.start=(new Date).getTime();var n=(new Date).getTime();return N.totalTimeDelayedInMS+=n-t.added,L[e].task=t,L[e].worker.postMessage({taskType:t.taskType,workerIndex:e,data:t.data},t.transferList),void N.numTasksExecuting++}L.length<k.maxWebWorkers&&B()}}function F(e){if("initialize"===e.data.taskType)L[e.data.workerIndex].status="ready",U();else{var t=L[e.data.workerIndex].task.start;L[e.data.workerIndex].task.deferred.resolve(e.data.result),L[e.data.workerIndex].task=void 0,N.numTasksExecuting--,L[e.data.workerIndex].status="ready",N.numTasksCompleted++;var n=(new Date).getTime();N.totalTaskTimeInMS+=n-t,U()}}function B(){if(!(L.length>=k.maxWebWorkers)){var e=new Worker(k.webWorkerPath);L.push({worker:e,status:"initializing"}),e.addEventListener("message",F),e.postMessage({taskType:"initialize",workerIndex:L.length-1,config:k})}}function z(e){if(e=e||j,k)throw new Error("WebWorkerManager already initialized");if((k=e).maxWebWorkers=k.maxWebWorkers||navigator.hardwareConcurrency||1,!k.startWebWorkersOnDemand)for(var t=0;t<k.maxWebWorkers;t++)B()}var H={initialize:z,loadWebWorkerTask:function(e,t){k.webWorkerTaskPaths.push(e),t&&(k.taskConfiguration=Object.assign(k.taskConfiguration,t));for(var n=0;n<L.length;n++)L[n].worker.postMessage({taskType:"loadWebWorkerTask",workerIndex:L.length-1,sourcePath:e,config:k})},addTask:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length?arguments[3]:void 0;k||z();var a,i={},o=new Promise(function(e,t){i={resolve:e,reject:t}});for(a=0;a<A.length&&!(A[a].priority<n);a++);var s=D++;return A.splice(a,0,{taskId:s,taskType:e,status:"ready",added:(new Date).getTime(),data:t,deferred:i,priority:n,transferList:r}),U(),{taskId:s,promise:o}},getStatistics:function(){return N.maxWebWorkers=k.maxWebWorkers,N.numWebWorkers=L.length,N.numTasksQueued=A.length,N},setTaskPriority:function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=0;n<A.length;n++)if(A[n].taskId===e){var r=A.splice(n,1)[0];for(r.priority=t,n=0;n<A.length&&!(A[n].priority<t);n++);return A.splice(n,0,r),!0}return!1},cancelTask:function(e,t){for(var n=0;n<A.length;n++)if(A[n].taskId===e)return A.splice(n,1).deferred.reject(t),!0;return!1}},V=n(0),W=function(e,t,n){var r=(new Date).getTime(),a=new Blob([t],{type:"image/jpeg"});return new Promise(function(t,i){var o=new FileReader;void 0===o.readAsBinaryString?o.readAsArrayBuffer(a):o.readAsBinaryString(a),o.onload=function(){var a=new Image;a.onload=function(){n.height=a.height,n.width=a.width,e.rows=a.height,e.columns=a.width;var i=n.getContext("2d");i.drawImage(this,0,0);var o=i.getImageData(0,0,a.width,a.height),s=(new Date).getTime();e.pixelData=o.data,e.imageData=o,e.decodeTimeInMS=s-r;var l=Object(V.a)(e.pixelData);e.smallestPixelValue=l.min,e.largestPixelValue=l.max,t(e)},a.onerror=function(e){i(e)},void 0===o.readAsBinaryString?a.src="data:image/jpeg;base64,".concat(window.btoa(function(e){return function(t){var n;try{return decodeURIComponent(escape(t))}catch(e){if((n=e)instanceof URIError)return t;throw n}}(String.fromCharCode.apply(null,Array.prototype.slice.apply(new Uint8Array(e))))}(o.result))):a.src="data:image/jpeg;base64,".concat(window.btoa(o.result))},o.onerror=function(e){i(e)}})},q=n(5),G=n(4),Y=n(2),Z=n(1),X=!1;function K(e,t,n,r){var a=r.priority||void 0,i=r.transferPixelData?[n.buffer]:void 0,o=C(),s=o.strict,l=o.decodeConfig;return!1===o.useWebWorkers?(!1===X&&(Object(Y.b)(l),Object(Z.b)(l),X=!0),new Promise(function(a,i){try{var o=[e,t,n,l,r],u=q.a.apply(void 0,o);Object(G.a)(u,s),a(u)}catch(a){i(a)}})):H.addTask("decodeTask",{imageFrame:e,transferSyntax:t,pixelData:n,options:r},a,i).promise}var $=function(e,t,n,r){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{};return"1.2.840.10008.1.2"===t?K(e,t,n,a):"1.2.840.10008.1.2.1"===t?K(e,t,n,a):"1.2.840.10008.1.2.2"===t?K(e,t,n,a):"1.2.840.10008.1.2.1.99"===t?K(e,t,n,a):"1.2.840.10008.1.2.5"===t?K(e,t,n,a):"1.2.840.10008.1.2.4.50"===t?8!==e.bitsAllocated||3!==e.samplesPerPixel&&4!==e.samplesPerPixel?K(e,t,n,a):W(e,n,r):"1.2.840.10008.1.2.4.51"===t?K(e,t,n,a):"1.2.840.10008.1.2.4.57"===t?K(e,t,n,a):"1.2.840.10008.1.2.4.70"===t?K(e,t,n,a):"1.2.840.10008.1.2.4.80"===t?K(e,t,n,a):"1.2.840.10008.1.2.4.81"===t?K(e,t,n,a):"1.2.840.10008.1.2.4.90"===t?K(e,t,n,a):"1.2.840.10008.1.2.4.91"===t?K(e,t,n,a):new Promise(function(e,n){n(new Error("No decoder for transfer syntax ".concat(t)))})},J=function(e){return"RGB"===e||"PALETTE COLOR"===e||"YBR_FULL"===e||"YBR_FULL_422"===e||"YBR_PARTIAL_422"===e||"YBR_PARTIAL_420"===e||"YBR_RCT"===e||"YBR_ICT"===e};function Q(e,t){0===e.planarConfiguration?r(e.pixelData,t):a(e.pixelData,t)}function ee(e,t){var n,r,a=t.data;if("RGB"===e.photometricInterpretation)Q(e,a);else if("YBR_RCT"===e.photometricInterpretation)Q(e,a);else if("YBR_ICT"===e.photometricInterpretation)Q(e,a);else if("PALETTE COLOR"===e.photometricInterpretation)l(e,a);else if("YBR_FULL_422"===e.photometricInterpretation)Q(e,a);else{if("YBR_FULL"!==e.photometricInterpretation)throw new Error("No color space conversion for photometric interpretation ".concat(e.photometricInterpretation));r=a,0===(n=e).planarConfiguration?i(n.pixelData,r):o(n.pixelData,r)}}var te,ne,re=function(e,t){if(t=t||e.transferSyntax,8===e.bitsAllocated&&"1.2.840.10008.1.2.4.50"===t&&(3===e.samplesPerPixel||4===e.samplesPerPixel))return!0},ae="",ie=function(e,t,n,r){if(!t||!t.length)return Promise.reject(new Error("The file does not contain image data."));var a=ue.cornerstone,i=document.createElement("canvas"),o=O(e),s=$(o,n,t,i,r);return new Promise(function(t,r){s.then(function(r){var o,s=a.metaData.get("imagePlaneModule",e)||{},l=a.metaData.get("voiLutModule",e)||{},u=a.metaData.get("modalityLutModule",e)||{},c=a.metaData.get("sopCommonModule",e)||{},d=J(r.photometricInterpretation);if(!re(r,n)&&(32===(o=r).bitsAllocated?o.pixelData=new Float32Array(o.pixelData):16===o.bitsAllocated?0===o.pixelRepresentation?o.pixelData=new Uint16Array(o.pixelData):o.pixelData=new Int16Array(o.pixelData):o.pixelData=new Uint8Array(o.pixelData),d)){i.height=r.rows,i.width=r.columns;var f=i.getContext("2d").createImageData(r.columns,r.rows);ee(r,f),r.imageData=f,r.pixelData=f.data;var h=Object(V.a)(r.pixelData);r.smallestPixelValue=h.min,r.largestPixelValue=h.max}var p,m={imageId:e,color:d,columnPixelSpacing:s.columnPixelSpacing,columns:r.columns,height:r.rows,intercept:u.rescaleIntercept?u.rescaleIntercept:0,invert:"MONOCHROME1"===r.photometricInterpretation,minPixelValue:r.smallestPixelValue,maxPixelValue:r.largestPixelValue,rowPixelSpacing:s.rowPixelSpacing,rows:r.rows,sizeInBytes:r.pixelData.length,slope:u.rescaleSlope?u.rescaleSlope:1,width:r.columns,windowCenter:l.windowCenter?l.windowCenter[0]:void 0,windowWidth:l.windowWidth?l.windowWidth[0]:void 0,decodeTimeInMS:r.decodeTimeInMS,floatPixelData:void 0};if(r.pixelData instanceof Float32Array){var g=r.pixelData,v=function(e){for(var t=Object(V.a)(e),n=Math.abs(t.max-t.min)/65535,r=t.min,a=e.length,i=new Uint16Array(a),o=65535,s=0,l=0;l<a;l++){var u=Math.floor((e[l]-r)/n);i[l]=u,o=Math.min(o,u),s=Math.max(s,u)}return{min:o,max:s,intPixelData:i,slope:n,intercept:r}}(g);m.minPixelValue=v.min,m.maxPixelValue=v.max,m.slope=v.slope,m.intercept=v.intercept,m.floatPixelData=g,m.getPixelData=function(){return v.intPixelData}}else m.getPixelData=function(){return r.pixelData};if(m.color&&(m.getCanvas=function(){return ae===e||(i.height=m.rows,i.width=m.columns,i.getContext("2d").putImageData(r.imageData,0,0),ae=e),i}),u.modalityLUTSequence&&0<u.modalityLUTSequence.length&&"1.2.840.10008.5.1.4.1.1.12.1"!==(p=c.sopClassUID)&&"1.2.840.10008.5.1.4.1.1.12.2.1"!==p&&(m.modalityLUT=u.modalityLUTSequence[0]),l.voiLUTSequence&&0<l.voiLUTSequence.length&&(m.voiLUT=l.voiLUTSequence[0]),m.color&&(m.windowWidth=255,m.windowCenter=127),void 0===m.windowCenter||void 0===m.windowWidth){var y=m.maxPixelValue*m.slope+m.intercept,b=m.minPixelValue*m.slope+m.intercept;m.windowWidth=y-b,m.windowCenter=(y+b)/2}t(m)},r)})},oe=function(e,t){var n=(new Date).getTime(),r=e.substring(7);return{promise:new Promise(function(a,i){if(void 0===w.get(e)){var o=new Error("no metadata for imageId ".concat(e));return i(o)}M(r,e,'multipart/related; type="application/octet-stream"').then(function(r){var o=function(e){var t="1.2.840.10008.1.2";if(!e)return t;var n=e.split(";"),r={};n.forEach(function(e){var t=e.split("=");if(2===t.length){var n=t[1].trim().replace(/"/g,"");r[t[0].trim()]=n}});var a={"image/jpeg":"1.2.840.10008.1.2.4.70","image/x-dicom-rle":"1.2.840.10008.1.2.5","image/x-jls":"1.2.840.10008.1.2.4.80","image/jp2":"1.2.840.10008.1.2.4.90","image/jpx":"1.2.840.10008.1.2.4.92"};return r["transfer-syntax"]?r["transfer-syntax"]:e&&!Object.keys(r).length&&a[e]?a[e]:r.type&&a[r.type]?a[r.type]:t}(r.contentType),s=r.imageFrame.pixelData;ie(e,s,o,t).then(function(e){var t=(new Date).getTime();e.loadTimeInMS=t-n,a(e)},i)},i)}),cancelFn:void 0}},se={metaData:{getNumberString:function(e,t,n){var r=g(e,t,n);if(void 0!==r)return parseFloat(r)},getNumberValue:v,getNumberValues:y,getValue:g,metaDataProvider:x},findIndexOfString:T,getPixelData:M,loadImage:oe,metaDataManager:w,register:function(e){e.registerImageLoader("wadors",oe),e.metaData.addProvider(x)}},le=function(e){se.register(e),ke.register(e)},ue={set cornerstone(e){le(te=e)},get cornerstone(){if(!te){if(!window||!window.cornerstone)throw new Error("cornerstoneWADOImageLoader requires a copy of Cornerstone to work properly. Please add cornerstoneWADOImageLoader.external.cornerstone = cornerstone; to your application.");te=window.cornerstone,le(te)}return te},set dicomParser(e){ne=e},get dicomParser(){if(!ne){if(!window||!window.dicomParser)throw new Error("cornerstoneWADOImageLoader requires a copy of dicomParser to work properly. Please add cornerstoneWADOImageLoader.external.dicomParser = dicomParser; to your application.");ne=window.dicomParser}return ne}},ce=function(e){var t,n=e.indexOf(":"),r=e.substring(n+1),a=r.indexOf("frame=");if(-1!==a){var i=r.substr(a+6);t=parseInt(i,10),r=r.substr(0,a-1)}return{scheme:e.substr(0,n),url:r,frame:t}},de=0,fe={},he={};function pe(){return{cacheSizeInBytes:de,numberOfDataSetsCached:Object.keys(fe).length}}var me={isLoaded:function(e){return void 0!==fe[e]},load:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:P,n=2<arguments.length?arguments[2]:void 0,r=ue.cornerstone,a=ue.dicomParser;if(fe[e])return new Promise(function(t){fe[e].cacheCount++,t(fe[e].dataSet)});if(he[e])return he[e].cacheCount++,he[e];var i=t(e,n),o=new Promise(function(t,n){i.then(function(i){var s,l=new Uint8Array(i);try{s=a.parseDicom(l)}catch(i){return n(i)}fe[e]={dataSet:s,cacheCount:o.cacheCount},de+=s.byteArray.length,t(s),r.triggerEvent(r.events,"datasetscachechanged",{uri:e,action:"loaded",cacheInfo:pe()})},n).then(function(){delete he[e]},function(){delete he[e]})});return o.cacheCount=1,he[e]=o},unload:function(e){var t=ue.cornerstone;fe[e]&&(fe[e].cacheCount--,0===fe[e].cacheCount&&(de-=fe[e].dataSet.byteArray.length,delete fe[e],t.triggerEvent(t.events,"datasetscachechanged",{uri:e,action:"unloaded",cacheInfo:pe()})))},getInfo:pe,purge:function(){fe={},he={}},get:function(e){if(fe[e])return fe[e].dataSet}},ge=function(e,t){var n=ue.dicomParser,r=ce(t),a=me.get(r.url);if(a){if("generalSeriesModule"===e)return{modality:a.string("x00080060"),seriesInstanceUID:a.string("x0020000e"),seriesNumber:a.intString("x00200011"),studyInstanceUID:a.string("x0020000d"),seriesDate:n.parseDA(a.string("x00080021")),seriesTime:n.parseTM(a.string("x00080031")||"")};if("patientStudyModule"===e)return{patientAge:a.intString("x00101010"),patientSize:a.floatString("x00101020"),patientWeight:a.floatString("x00101030")};if("imagePlaneModule"===e){var i=m(a,"x00200037",6),o=m(a,"x00200032",3),s=m(a,"x00280030",2),l=null,u=null;s&&(u=s[0],l=s[1]);var c=null,f=null;return i&&(c=[parseFloat(i[0]),parseFloat(i[1]),parseFloat(i[2])],f=[parseFloat(i[3]),parseFloat(i[4]),parseFloat(i[5])]),{frameOfReferenceUID:a.string("x00200052"),rows:a.uint16("x00280010"),columns:a.uint16("x00280011"),imageOrientationPatient:i,rowCosines:c,columnCosines:f,imagePositionPatient:o,sliceThickness:a.floatString("x00180050"),sliceLocation:a.floatString("x00201041"),pixelSpacing:s,rowPixelSpacing:u,columnPixelSpacing:l}}if("imagePixelModule"===e)return d(a);if("modalityLutModule"===e)return{rescaleIntercept:a.floatString("x00281052"),rescaleSlope:a.floatString("x00281053"),rescaleType:a.string("x00281054"),modalityLUTSequence:h(a.uint16("x00280103"),a.elements.x00283000)};if("voiLutModule"===e){var g=p(a);return{windowCenter:m(a,"x00281050",1),windowWidth:m(a,"x00281051",1),voiLUTSequence:h(g,a.elements.x00283010)}}if("sopCommonModule"===e)return{sopClassUID:a.string("x00080016"),sopInstanceUID:a.string("x00080018")};if("petIsotopeModule"===e){var v=a.elements.x00540016;if(void 0===v)return;var y=v.items[0].dataSet;return{radiopharmaceuticalInfo:{radiopharmaceuticalStartTime:n.parseTM(y.string("x00181072")||""),radionuclideTotalDose:y.floatString("x00181074"),radionuclideHalfLife:y.floatString("x00181075")}}}}},ve=[],ye={add:function(e){var t=ve.push(e);return"dicomfile:".concat(t-1)},get:function(e){return ve[e]},remove:function(e){ve[e]=void 0},purge:function(){ve=[]}};function be(e,t){var n,r=ue.dicomParser;if(e.elements.x7fe00010&&e.elements.x7fe00010.basicOffsetTable.length)return r.readEncapsulatedImageFrame(e,e.elements.x7fe00010,t);if((n=e).intString("x00280008")===n.elements.x7fe00010.fragments.length)return r.readEncapsulatedPixelDataFromFragments(e,e.elements.x7fe00010,t);var a=r.createJPEGBasicOffsetTable(e,e.elements.x7fe00010);return r.readEncapsulatedImageFrame(e,e.elements.x7fe00010,t,a)}var we=function(e,t,n){for(var r=new Uint8Array(n),a=0;a<n;a++){var i=e[Math.floor(a/8)+t],o=a%8;r[a]=i&1<<o?1:0}return r},xe=function(e,t){var n,r=e.elements.x7fe00010||e.elements.x7fe00008,a=e.uint16("x00280100"),i=e.uint16("x00280010"),o=e.uint16("x00280011"),s=e.uint16("x00280002"),l=r.dataOffset,u=i*o*s;if(8===a){if((n=l+t*u)>=e.byteArray.length)throw new Error("frame exceeds size of pixelData");return new Uint8Array(e.byteArray.buffer,n,u)}if(16===a){if((n=l+t*u*2)>=e.byteArray.length)throw new Error("frame exceeds size of pixelData");return new Uint8Array(e.byteArray.buffer,n,2*u)}if(1===a){if((n=l+t*u*.125)>=e.byteArray.length)throw new Error("frame exceeds size of pixelData");return we(e.byteArray,n,u)}if(32!==a)throw new Error("unsupported pixel format");if((n=l+t*u*4)>=e.byteArray.length)throw new Error("frame exceeds size of pixelData");return new Uint8Array(e.byteArray.buffer,n,4*u)},Ee=function(e){var t=ce(e),n=parseInt(t.url,10),r=ye.get(n);return new Promise(function(e,t){var n=new FileReader;n.onload=function(t){var n=t.target.result;e(n)},n.onerror=t,n.readAsArrayBuffer(r)})},Te=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=e.elements.x7fe00010||e.elements.x7fe00008;return n?n.encapsulatedPixelData?be(e,t):xe(e,t):null};function _e(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length?arguments[3]:void 0,a=4<arguments.length?arguments[4]:void 0,i=5<arguments.length?arguments[5]:void 0,o=(new Date).getTime(),s={cancelFn:void 0};return s.promise=new Promise(function(l,u){e.then(function(e){var c,d=Te(e,n),f=e.string("x00020010"),h=(new Date).getTime(),p=ie(t,d,f,a);c=t,s.decache=function(){var e=ce(c);me.unload(e.url)},p.then(function(t){t.data=e,t.sharedCacheKey=r;var n=(new Date).getTime();t.loadTimeInMS=h-o,t.totalTimeInMS=n-o,void 0!==i&&void 0!==i.imageDoneCallback&&i.imageDoneCallback(t),l(t)},function(t){u({error:t,dataSet:e})})},function(e){u({error:e})})}),s}function Se(e){return"dicomweb"===e||"wadouri"===e?P:"dicomfile"===e?Ee:void 0}function Ce(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=ce(e),r=(t=Object.assign({},t)).loader;return void 0===r?r=Se(n.scheme):delete t.loader,me.isLoaded(n.url)?function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length?arguments[3]:void 0,a=4<arguments.length?arguments[4]:void 0,i=(new Date).getTime();return{promise:new Promise(function(o,s){var l,u=(new Date).getTime();try{var c=Te(e,n),d=e.string("x00020010");l=ie(t,c,d,a)}catch(l){return void s({error:l,dataSet:e})}l.then(function(t){t.data=e,t.sharedCacheKey=r;var n=(new Date).getTime();t.loadTimeInMS=u-i,t.totalTimeInMS=n-i,o(t)},s)}),cancelFn:void 0}}(me.get(n.url,r,e),e,n.frame,n.url,t):_e(me.load(n.url,r,e),e,n.frame,n.url,t)}var ke={metaData:{getImagePixelModule:d,getLUTs:h,getModalityLUTOutputPixelRepresentation:p,getNumberValues:m,metaDataProvider:ge},dataSetCacheManager:me,fileManager:ye,getEncapsulatedImageFrame:be,getUncompressedImageFrame:xe,loadFileRequest:Ee,loadImageFromPromise:_e,getLoaderForScheme:Se,loadImage:Ce,parseImageId:ce,unpackBinaryFrame:we,register:function(e){e.registerImageLoader("dicomweb",Ce),e.registerImageLoader("wadouri",Ce),e.registerImageLoader("dicomfile",Ce),e.metaData.addProvider(ge)}},Pe=function(e){S(e)},Ie=n(3);n.d(t,"convertRGBColorByPixel",function(){return r}),n.d(t,"convertRGBColorByPlane",function(){return a}),n.d(t,"convertYBRFullByPixel",function(){return i}),n.d(t,"convertYBRFullByPlane",function(){return o}),n.d(t,"convertPALETTECOLOR",function(){return l}),n.d(t,"wadouri",function(){return ke}),n.d(t,"wadors",function(){return se}),n.d(t,"configure",function(){return Pe}),n.d(t,"convertColorSpace",function(){return ee}),n.d(t,"createImage",function(){return ie}),n.d(t,"decodeImageFrame",function(){return $}),n.d(t,"decodeJPEGBaseline8BitColor",function(){return W}),n.d(t,"getImageFrame",function(){return O}),n.d(t,"getMinMax",function(){return V.a}),n.d(t,"isColorImage",function(){return J}),n.d(t,"isJPEGBaseline8BitColor",function(){return re}),n.d(t,"webWorkerManager",function(){return H}),n.d(t,"version",function(){return Ie.a}),n.d(t,"internal",function(){return I}),n.d(t,"external",function(){return ue});var Me={convertRGBColorByPixel:r,convertRGBColorByPlane:a,convertYBRFullByPixel:i,convertYBRFullByPlane:o,convertPALETTECOLOR:l,wadouri:ke,wadors:se,configure:Pe,convertColorSpace:ee,createImage:ie,decodeImageFrame:$,decodeJPEGBaseline8BitColor:W,getImageFrame:O,getMinMax:V.a,isColorImage:J,isJPEGBaseline8BitColor:re,webWorkerManager:H,version:Ie.a,internal:I,external:ue};t.default=Me}])},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",function(){return a})},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",function(){return r})},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return(a="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}function i(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}n.d(t,"a",function(){return a})},function(e,t,n){"use strict";e.exports=n(49)},function(e,t,n){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=10)}([function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){var r=n(16);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){var r=n(6),a=n(0);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?a(e):t}},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=r=function(e){return n(e)}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(t)}e.exports=r},function(e,t,n){e.exports=n(12)},function(e,t){function n(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise(function(a,i){var o=e.apply(t,r);function s(e){n(o,a,i,s,l,"next",e)}function l(e){n(o,a,i,s,l,"throw",e)}s(void 0)})}}},function(e,t,n){var r=n(15),a=n(14),i=n(13);e.exports=function(e){return r(e)||a(e)||i()}},function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),i=n(2),o=n.n(i),s=n(5),l=n.n(s),u=n(4),c=n.n(u),d=n(3),f=n.n(d),h=window.cornerstone,p=window.cornerstoneMath,m=window.Hammer,g={set cornerstone(e){h=e},get cornerstone(){return h},set cornerstoneMath(e){p=e},get cornerstoneMath(){return p},set Hammer(e){m=e},get Hammer(){return m}},v=n(6),y=n.n(v),b={MOUSE_DOWN:"cornerstonetoolsmousedown",MOUSE_UP:"cornerstonetoolsmouseup",MOUSE_DOWN_ACTIVATE:"cornerstonetoolsmousedownactivate",MOUSE_DRAG:"cornerstonetoolsmousedrag",MOUSE_MOVE:"cornerstonetoolsmousemove",MOUSE_CLICK:"cornerstonetoolsmouseclick",MOUSE_DOUBLE_CLICK:"cornerstonetoolsmousedoubleclick",MOUSE_WHEEL:"cornerstonetoolsmousewheel",TOUCH_START:"cornerstonetoolstouchstart",TOUCH_START_ACTIVE:"cornerstonetoolstouchstartactive",TOUCH_END:"cornerstonetoolstouchend",TOUCH_DRAG:"cornerstonetoolstouchdrag",TOUCH_DRAG_END:"cornerstonetoolstouchdragend",TOUCH_PINCH:"cornerstonetoolstouchpinch",TOUCH_ROTATE:"cornerstonetoolstouchrotate",TOUCH_PRESS:"cornerstonetoolstouchpress",TAP:"cornerstonetoolstap",DOUBLE_TAP:"cornerstonetoolsdoubletap",MULTI_TOUCH_START:"cornerstonetoolsmultitouchstart",MULTI_TOUCH_START_ACTIVE:"cornerstonetoolsmultitouchstartactive",MULTI_TOUCH_DRAG:"cornerstonetoolsmultitouchdrag",KEY_DOWN:"cornerstonetoolskeydown",KEY_UP:"cornerstonetoolskeyup",KEY_PRESS:"cornerstonetoolskeypress",MEASUREMENT_ADDED:"cornerstonetoolsmeasurementadded",MEASUREMENT_MODIFIED:"cornerstonetoolsmeasurementmodified",MEASUREMENT_REMOVED:"cornerstonetoolsmeasurementremoved",TOOL_DEACTIVATED:"cornerstonetoolstooldeactivated",CLIP_STOPPED:"cornerstonetoolsclipstopped",STACK_SCROLL:"cornerstonetoolsstackscroll"};function w(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return"function"==typeof window.CustomEvent?n=new CustomEvent(t,{detail:r,cancelable:!0}):(n=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,r),e.dispatchEvent(n)}var x={drawColorId:0,radius:10,minRadius:1,maxRadius:50,alpha:.4,renderBrushIfHiddenButActive:!0,hiddenButActiveAlpha:.2,colorMapId:"BrushColorMap",visibleSegmentations:{},imageBitmapCache:{},segmentationMetadata:{}},E={radius:function(e){x.radius=Math.min(Math.max(e,x.minRadius),x.maxRadius)},brushColorMap:function(e){var t=g.cornerstone.colors.getColormap(x.colorMapId);t.setNumberOfColors(e.length);for(var n=0;n<e.length;n++)t.setColor(n,e[n])},elementVisible:function(e){if(g.cornerstone){var t=g.cornerstone.getEnabledElement(e).uuid,n=g.cornerstone.colors.getColormap(x.colorMapId).getNumberOfColors();x.visibleSegmentations[t]=[];for(var r=0;r<n;r++)x.visibleSegmentations[t].push(!0)}},brushVisibilityForElement:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];x.visibleSegmentations[e]||(x.imageBitmapCache[e]=[]),x.visibleSegmentations[e][t]=n},imageBitmapCacheForElement:function(e,t,n){x.imageBitmapCache[e]||(x.imageBitmapCache[e]=[]),x.imageBitmapCache[e][t]=n},clearImageBitmapCacheForElement:function(e){x.imageBitmapCache[e]=[]},metadata:function(e,t,n){x.segmentationMetadata[e]||(x.segmentationMetadata[e]=[]),x.segmentationMetadata[e][t]=n}},T={state:x,onRegisterCallback:function(){!function(){var e=g.cornerstone.colors.getColormap(x.colorMapId);e.setNumberOfColors(19);for(var t=0;t<19;t++)t<_.length?e.setColor(t,_[t]):e.setColor(t,C())}()},enabledElementCallback:function(e){E.elementVisible(e)},getters:{imageBitmapCacheForElement:function(e){return x.imageBitmapCache[e]?x.imageBitmapCache[e]:null},visibleSegmentationsForElement:function(e){return x.visibleSegmentations[e]?x.visibleSegmentations[e]:null},metadata:function(e,t){if(x.segmentationMetadata[e])return void 0!==t?x.segmentationMetadata[e][t]:x.segmentationMetadata[e]}},setters:E},_=[[230,25,75,255],[60,180,175,255],[255,225,25,255],[0,130,200,255],[245,130,48,255],[145,30,180,255],[70,240,240,255],[240,50,230,255],[210,245,60,255],[250,190,190,255],[0,128,128,255],[230,190,255,255],[170,110,40,255],[255,250,200,255],[128,0,0,255],[170,255,195,255],[128,128,0,255],[255,215,180,255],[0,0,128,255]],S=0;function C(){for(var e=function(){var e=[S];return S<_.length-1?(S++,e.push(S)):(S=0,e.push(S)),e}(),t=Math.random(),n=[],r=0;r<4;r++)n.push(Math.floor(t*_[e[0]][r]+(1-t)*_[e[1]][r]));return n}var k={globalTools:{},globalToolChangeHistory:[],enabledElements:[],tools:[],isToolLocked:!1,mousePositionImage:{},clickProximity:6,touchProximity:10,handleRadius:6,deleteIfHandleOutsideImage:!0,preventHandleOutsideImage:!1},P={mouseTools:function(){return k.tools.filter(function(e){return e.supportedInteractionTypes.includes("Mouse")})},touchTools:function(){return k.tools.filter(function(e){return e.supportedInteractionTypes.includes("Touch")})},enabledElementByUID:function(e){return k.enabledElements.find(function(t){return g.cornerstone.getEnabledElement(t).uuid===e})}},I={brush:T,globalConfiguration:{state:{mouseEnabled:!0,touchEnabled:!0,globalToolSyncEnabled:!1},setters:{}}},M={modules:I,state:k,getters:P},O=function(e,t){return k.tools.find(function(n){return n.element===e&&n.name===t})},D=function(e,t,n,r){void 0===r&&Array.isArray(n)&&(r=n,n=null);var a=O(e,t);a&&(function(e,t,n,r){t.supportedInteractionTypes.forEach(function(a){if(void 0===r||r.includes(a)){var i=W[a];i?i(t,e,n):console.warn("Unable to resolve input conflicts for type ".concat(a))}}),M.state.tools.filter(function(t){return t.element===e&&"active"===t.mode&&t.supportedInteractionTypes.length>0}).forEach(function(t){var n=!1;t.supportedInteractionTypes.forEach(function(e){t.options["is".concat(e,"Active")]&&(n=!0)}),n||(console.info("Setting tool ".concat(t.name,"'s to PASSIVE")),U(e,t.name))})}(e,a,n,r),a.supportedInteractionTypes.forEach(function(e){void 0===r||r.includes(e)?n["is".concat(e,"Active")]=!0:n["is".concat(e,"Active")]=!1})),B("active",null,e,t,n)},A=function(e,t,n){V("active",e,t,n),M.state.enabledElements.forEach(function(r){D(r,e,t,n)})},L=B.bind(null,"disabled",null),R=z.bind(null,"disabled",null),j=B.bind(null,"enabled",null),N=z.bind(null,"enabled",null),U=B.bind(null,"passive",b.TOOL_DEACTIVATED),F=z.bind(null,"passive",b.TOOL_DEACTIVATED);function B(e,t,n,r,a){var i=O(n,r);i?(a=q(a),Array.isArray(a.mouseButtonMask)&&0!==a.mouseButtonMask.length&&Array.isArray(i.options.mouseButtonMask)&&(a.mouseButtonMask=a.mouseButtonMask.concat(i.options.mouseButtonMask)),i.mode=e,i.mergeOptions(a),i["".concat(e,"Callback")]&&i["".concat(e,"Callback")](n,a),t&&w(n,t,{options:a,toolName:r,type:t})):console.warn("Unable to find tool '".concat(r,"' for enabledElement"))}function z(e,t,n,r){V(e,n,r),M.state.enabledElements.forEach(function(a){B(e,t,a,n,r)})}function H(e,t,n,r){var a=M.state.tools.find(function(t){return t.element===n&&"active"===t.mode&&!0===t.options["is".concat(e,"Active")]});a&&(console.info("Setting tool ".concat(a.name,"'s is").concat(e,"Active to false")),a.options["is".concat(e,"Active")]=!1)}function V(e,t,n,r){if(M.modules.globalConfiguration.state.globalToolSyncEnabled){var a={mode:e,args:[t,n]};r&&a.push(r),M.state.globalToolChangeHistory.push(a),M.state.globalToolChangeHistory.length>50&&M.state.globalToolChangeHistory.shift();var i=M.state.globalTools[t];if("active"===e){var o=function(e,t,n){void 0===n&&Array.isArray(t)&&(n=t,t=null);var r=[],a=M.state.globalTools[e];if(a){var i=new a.tool(a.configuration);i.supportedInteractionTypes.forEach(function(e){if(void 0===n||n.includes(e))if("Mouse"===e){var a=q(t).mouseButtonMask;Array.isArray(a)&&a.length>0?a.forEach(function(t){return r.push("".concat(e,"-").concat(t))}):Array.isArray(a)&&0===a.length&&r.push("".concat(e,"-DELETE"))}else"MultiTouch"===e?r.push("".concat(e,"-").concat(i.configuration.touchPointers)):r.push(e)})}return r}(t,n,r);Object.keys(M.state.globalTools).forEach(function(e){var t=M.state.globalTools[e];t.activeBindings=t.activeBindings.filter(function(e){return!o.includes(e)})}),o.some(function(e){return e.includes("Mouse-DELETE")})&&(i.activeBindings=i.activeBindings.filter(function(e){return!e.includes("Mouse")}),o=o.filter(function(e){return!e.includes("Mouse")})),i.activeBindings=i.activeBindings.concat(o)}else i.activeBindings=[]}}var W={Mouse:function(e,t,n){var r=q(n).mouseButtonMask;if(Array.isArray(r)&&r.length>0){var a=M.state.tools.find(function(e){return e.element===t&&"active"===e.mode&&!0===e.options.isMouseActive&&Array.isArray(e.options.mouseButtonMask)&&e.options.mouseButtonMask.some(function(e){return r.includes(e)})});a&&(a.options.mouseButtonMask=a.options.mouseButtonMask.filter(function(e){return!r.includes(e)}),0===a.options.mouseButtonMask.length&&(a.options.isMouseActive=!1))}},MouseWheel:H.bind(void 0,"MouseWheel"),Touch:function(e,t,n){var r=M.state.tools.find(function(e){return e.element===t&&"active"===e.mode&&!0===e.options.isTouchActive}),a=M.state.tools.find(function(e){return e.element===t&&"active"===e.mode&&!0===e.options.isMultiTouchActive&&1===e.configuration.touchPointers});r&&(console.info("Setting tool ".concat(r.name,"'s isTouchActive to false")),r.options.isTouchActive=!1),a&&(console.info("Setting tool ".concat(a.name,"'s isTouchActive to false")),a.options.isMultiTouchActive=!1)},TouchPinch:H.bind(void 0,"TouchPinch"),TouchRotate:H.bind(void 0,"TouchRotate"),DoubleTap:H.bind(void 0,"DoubleTap"),MultiTouch:function(e,t,n){var r,a=M.state.tools.find(function(n){return n.element===t&&"active"===n.mode&&!0===n.options.isMultiTouchActive&&n.configuration.touchPointers===e.configuration.touchPointers});1===e.configuration.touchPointers&&(r=M.state.tools.find(function(e){return e.element===t&&"active"===e.mode&&!0===e.options.isTouchActive})),a&&(console.info("Setting tool ".concat(a.name,"'s isMultiTouchActive to false")),a.options.isMultiTouchActive=!1),r&&(console.info("Setting tool ".concat(r.name,"'s isTouchActive to false")),r.options.isTouchActive=!1)}};function q(e){if(e!==Object(e)||Array.isArray(e))if("number"==typeof e){var t=[];t.push(e),e={mouseButtonMask:0===e?[]:t}}else null===e?e={mouseButtonMask:[]}:(console.info("No options provided when changing tool mode"),e={});else if(0===e.mouseButtonMask||null===e.mouseButtonMask)e.mouseButtonMask=[];else if("number"==typeof e.mouseButtonMask){var n=[];n.push(e.mouseButtonMask),e.mouseButtonMask=n}return e}var G={activeOrDisabledBinaryTool:{passiveCallback:function(e){L(e,this.name)},enabledCallback:function(e){D(e,this.name)}},enabledOrDisabledBinaryTool:{passiveCallback:function(e){L(e,this.name)},activeCallback:function(e){j(e,this.name)}}},Y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.name,r=t.strategies,i=t.defaultStrategy,o=t.configuration,s=t.supportedInteractionTypes,l=t.mixins;a()(this,e),this.name=n,this.mode="disabled",this.element=void 0,this.supportedInteractionTypes=s||[],this.strategies=r||{},this.defaultStrategy=i||Object.keys(this.strategies)[0]||void 0,this.activeStrategy=this.defaultStrategy,this._options={},this._configuration=Object.assign({},o),this.hasCursor=!1,l&&l.length&&this._applyMixins(l)}return o()(e,[{key:"mergeOptions",value:function(e){this._options=Object.assign({},this._options,e)}},{key:"clearOptions",value:function(){this._options={}}},{key:"applyActiveStrategy",value:function(e){return this.strategies[this.activeStrategy](e,this.configuration)}},{key:"_applyMixins",value:function(e){for(var t=0;t<e.length;t++){var n=G["".concat(e[t])];"object"===y()(n)?Object.assign(this,n):console.warn("".concat(this.name,": mixin ").concat(G[t]," does not exist."))}}},{key:"configuration",get:function(){return this._configuration},set:function(e){this._configuration=e}},{key:"options",get:function(){return this._options}}],[{key:"configuration",get:function(){}}]),e}();function Z(){var e={};return{get:function(t,n){var r=g.cornerstone.getEnabledElement(t);if(r.image&&!1!==e.hasOwnProperty(r.image.imageId)){var a=e[r.image.imageId];if(!1!==a.hasOwnProperty(n))return a[n]}},add:function(t,n,r){var a=g.cornerstone.getEnabledElement(t);a.image&&!1!==e.hasOwnProperty(a.image.imageId)||(e[a.image.imageId]={});var i=e[a.image.imageId];!1===i.hasOwnProperty(n)&&(i[n]={data:[]}),i[n].data.push(r)},clear:function(t){var n=g.cornerstone.getEnabledElement(t);n.image&&!1!==e.hasOwnProperty(n.image.imageId)&&delete e[n.image.imageId]},saveImageIdToolState:function(t){return e[t]},restoreImageIdToolState:function(t,n){e[t]=n},saveToolState:function(){return e},restoreToolState:function(t){e=t},toolState:e}}var X=Z();function K(e){var t=g.cornerstone.getEnabledElement(e);return void 0===t.toolStateManager&&(t.toolStateManager=X),t.toolStateManager}function $(e,t,n){K(e).add(e,t,n),w(e,b.MEASUREMENT_ADDED,{toolType:t,element:e,measurementData:n})}function J(e,t){return K(e).get(e,t)}function Q(e,t,n){for(var r=K(e).get(e,t),a=-1,i=0;i<r.data.length;i++)r.data[i]===n&&(a=i);-1!==a&&(r.data.splice(a,1),w(e,b.MEASUREMENT_REMOVED,{toolType:t,element:e,measurementData:n}))}function ee(e,t){var n=K(e).get(e,t);void 0!==n&&(n.data=[])}function te(e,t){g.cornerstone.getEnabledElement(e).toolStateManager=t}var ne=function(e,t){if(e.boundingBox)return g.cornerstoneMath.point.insideRect(t,e.boundingBox)},re=function(e,t,n,r){if(e.hasOwnProperty("pointNearHandle")){if(e.pointNearHandle(t,e,n))return!0}else if(!0===e.hasBoundingBox){if(ne(e,n))return!0}else{var a=g.cornerstone.pixelToCanvas(t,e);if(g.cornerstoneMath.point.distance(a,n)<=r)return!0}return!1},ae=function e(t,n,r,a){var i;if(n){if(Array.isArray(n))for(var o=Object.keys(n),s=0;s<o.length;s++){var l=n[o[s]];if(l.hasOwnProperty("x")&&l.hasOwnProperty("y")&&re(l,t,r,a)){i=l;break}}else if("object"===y()(n))for(var u=Object.keys(n),c=0;c<u.length;c++){var d=u[c];if(Array.isArray(n[d])){if(i=e(t,n[d],r,a))break}else{var f=n[d];if(re(f,t,r,a)){i=f;break}}}return i}},ie=function(e,t,n,r){r||(r=6);var a=function(e){var t;return Object.keys(e).forEach(function(n){var r=e[n];!0!==r.active||(t=r)}),t}(t),i=ae(e,t,n,r);return a!==i&&(void 0!==i&&(i.active=!0),void 0!==a&&(a.active=!1),!0)},oe=function(e,t){var n=e.image,r={left:0,top:0,width:n.width,height:n.height},a=!1;return Object.keys(t).forEach(function(e){var n=t[e];!0!==n.allowedOutsideImage&&!1===g.cornerstoneMath.point.insideRect(n,r)&&(a=!0)}),a};function se(e,t,n){return Math.min(Math.max(t,e),n)}function le(e,t){e.x=se(e.x,0,t.width),e.y=se(e.y,0,t.height)}var ue={mouse:[b.MOUSE_DRAG],touch:[b.TOUCH_DRAG]},ce={mouse:[b.MOUSE_UP,b.MOUSE_CLICK],touch:[b.TOUCH_END,b.TOUCH_DRAG_END,b.TOUCH_PINCH,b.TOUCH_PRESS,b.TAP]},de=function(e,t,n){var r=e.element,a=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]?arguments[4]:{}),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"mouse";a=Object.assign({deleteIfHandleOutsideImage:k.deleteIfHandleOutsideImage,preventHandleOutsideImage:k.preventHandleOutsideImage},a);var o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,a=r.detail,i=a.element,o=a.image,s=r.detail.deltaPoints.image,l=s.x,u=s.y;t.active=!0,t.invalidated=!0;for(var c=Object.keys(t.handles),d=0;d<c.length;d++){var f=c[d],h=t.handles[f];!0!==h.movesIndependently&&h.hasOwnProperty("x")&&h.hasOwnProperty("y")&&(h.x+=l,h.y+=u,n.preventHandleOutsideImage&&le(h,o))}g.cornerstone.updateImage(i);var p=b.MEASUREMENT_MODIFIED;w(i,p,{toolName:e,element:i,measurementData:t}),r.preventDefault(),r.stopPropagation()}.bind(this,t,n,a),s=function e(r){!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,i=a.dragHandler,o=a.upOrEndHandler,s=arguments.length>5?arguments[5]:void 0,l=s.detail,u=s.detail.element;t.active=!1,t.invalidated=!0,k.isToolLocked=!1,ue[r].forEach(function(e){u.removeEventListener(e,i)}),ce[r].forEach(function(e){u.removeEventListener(e,o)}),n.deleteIfHandleOutsideImage&&oe(l,t.handles)&&Q(u,e,t),"function"==typeof n.doneMovingCallback&&n.doneMovingCallback(),g.cornerstone.updateImage(u)}(t,n,a,i,{dragHandler:o,upOrEndHandler:e},r)};n.active=!0,k.isToolLocked=!0,ue[i].forEach(function(e){r.addEventListener(e,o)}),ce[i].forEach(function(e){r.addEventListener(e,s)})},fe={value:!1},he={mouse:[b.MOUSE_DRAG],touch:[b.TOUCH_DRAG]},pe={mouse:[b.MOUSE_UP,b.MOUSE_CLICK],touch:[b.TOUCH_END,b.TOUCH_DRAG_END,b.TOUCH_PINCH,b.TOUCH_PRESS,b.TAP]},me=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"mouse";a=Object.assign({deleteIfHandleOutsideImage:k.deleteIfHandleOutsideImage,preventHandleOutsideImage:k.preventHandleOutsideImage},a);var o=e.element,s=function(e,t,n,r,a,i){var o=i.detail,s=o.image,l=o.currentPoints,u=o.element,c=l.page,d=g.cornerstone.pageToPixel(u,c.x,"touch"===a?c.y+-57:c.y);fe.value=!1,n.active=!0,n.hasMoved=!0,n.x=d.x,n.y=d.y,t.invalidated=!0,r.preventHandleOutsideImage&&le(n,s),g.cornerstone.updateImage(u);var f=b.MEASUREMENT_MODIFIED;w(u,f,{toolName:e,element:u,measurementData:t})}.bind(this,t,n,r,a,i),l=function o(l){!function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,s=o.dragHandler,l=o.upOrEndHandler,u=arguments.length>7?arguments[7]:void 0,c=t.currentPoints.image,d=u.detail.element;r.active=!1,n.active=!1,n.invalidated=!0,k.isToolLocked=!1,fe.value=!1,he[i].forEach(function(e){d.removeEventListener(e,s)}),pe[i].forEach(function(e){d.removeEventListener(e,l)}),a.deleteIfHandleOutsideImage&&oe(t,n.handles)&&Q(d,e,n),u.type===b.TOUCH_PRESS&&(u.detail.handlePressed=n,r.x=c.x,r.y=c.y),"function"==typeof a.doneMovingCallback&&a.doneMovingCallback(),g.cornerstone.updateImage(d)}(t,e,n,r,a,i,{dragHandler:s,upOrEndHandler:o},l)};if(r.active=!0,n.active=!0,k.isToolLocked=!0,he[i].forEach(function(e){o.addEventListener(e,s)}),pe[i].forEach(function(e){o.addEventListener(e,l)}),"touch"===i){fe.value=!0;var u=g.cornerstone.getEnabledElement(o),c={x:e.currentPoints.page.x,y:e.currentPoints.page.y+-57},d=g.cornerstone.pageToPixel(o,c.x,c.y);!function e(t,n,r,a){if(n.value){var i=Math.abs(t.y-a.y),o=i/10;if(i<1)return t.y=a.y,void(n.value=!1);t.y>a.y?t.y-=o:t.y<a.y&&(t.y+=o),g.cornerstone.updateImage(r.element),g.cornerstone.requestAnimationFrame(function(){e(t,n,r,a)})}}(r,fe,u,d)}},ge={mouse:[b.MOUSE_MOVE,b.MOUSE_DRAG],touch:[b.TOUCH_DRAG]},ve={mouse:[b.MOUSE_UP,b.MOUSE_CLICK],touch:[b.TOUCH_END,b.TOUCH_PINCH,b.TAP]},ye=function(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"mouse";a=Object.assign({deleteIfHandleOutsideImage:k.deleteIfHandleOutsideImage,preventHandleOutsideImage:k.preventHandleOutsideImage},a);var o=e.element;n.active=!0,r.active=!0,k.isToolLocked=!0;var s=function(e,t,n,r,a,i){var o=i.detail,s=o.currentPoints,l=o.image,u=o.element,c=s.page,d=g.cornerstone.pageToPixel(u,"touch"===a?c.x+-57:c.x,"touch"===a?c.y+-57:c.y);t.invalidated=!0,n.active=!0,n.x=d.x,n.y=d.y,r&&r.preventHandleOutsideImage&&le(n,l),g.cornerstone.updateImage(u);var f=b.MEASUREMENT_MODIFIED;w(u,f,{toolName:e,element:u,measurementData:t})}.bind(this,t,n,r,a,i),l=function e(o){!function(e,t,n,r,a,i,o){var s=i.moveHandler,l=i.moveEndHandler,u=o.detail,c=u.element,d=u.currentPoints.page,f=g.cornerstone.pageToPixel(c,"touch"===a?d.x+-57:d.x,"touch"===a?d.y+-57:d.y);if(t.active=!1,t.invalidated=!0,n.active=!1,n.x=f.x,n.y=f.y,k.isToolLocked=!1,ge[a].forEach(function(e){c.removeEventListener(e,s)}),ve[a].forEach(function(e){c.removeEventListener(e,l)}),c.removeEventListener(b.TOUCH_START,be),o.type===b.TOUCH_PINCH||o.type===b.TOUCH_PRESS)return n.active=!1,g.cornerstone.updateImage(c),void("function"==typeof r.doneMovingCallback&&r.doneMovingCallback());r.preventHandleOutsideImage&&le(n,o.detail.image),r.deleteIfHandleOutsideImage&&oe(o.detail,t.handles)&&Q(c,e,t),"function"==typeof r.doneMovingCallback&&r.doneMovingCallback(),g.cornerstone.updateImage(c)}(t,n,r,a,i,{moveHandler:s,moveEndHandler:e},o)};ge[i].forEach(function(e){o.addEventListener(e,s)}),ve[i].forEach(function(e){o.addEventListener(e,l)}),o.addEventListener(b.TOUCH_START,be)};function be(e){return e.stopImmediatePropagation(),!1}var we=function(e,t,n,r,a){n.active=!0,k.isToolLocked=!0,me(e.detail,t.name,n,r,t.options,a),e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault()},xe=function(e,t,n,r){for(var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"mouse",i=0;i<t.data.length;i++){var o=t.data[i],s=ae(e,o.handles,r,"mouse"===a?k.clickProximity:k.touchProximity);if(s)return{handle:s,data:o}}},Ee=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"mouse",a=Object.assign({},{doneMovingCallback:function(){n.active=!1,k.isToolLocked=!1}},t.options);n.active=!0,k.isToolLocked=!0,de(e.detail,t.name,n,null,a,r),e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault()},Te=function(e){function t(e){var n=e.name,r=e.strategies,i=e.defaultStrategy,o=e.configuration,s=e.supportedInteractionTypes,u=e.mixins;return a()(this,t),l()(this,c()(t).call(this,{name:n,strategies:r,defaultStrategy:i,configuration:o,supportedInteractionTypes:s,mixins:u}))}return f()(t,e),o()(t,[{key:"createNewMeasurement",value:function(e){throw new Error("Method createNewMeasurement not implemented for ".concat(this.name,"."))}},{key:"pointNearTool",value:function(e,t,n){throw arguments.length>3&&void 0!==arguments[3]&&arguments[3],new Error("Method pointNearTool not implemented for ".concat(this.name,"."))}},{key:"distanceFromPoint",value:function(e,t,n){throw new Error("Method distanceFromPoint not implemented for ".concat(this.name,"."))}},{key:"renderToolData",value:function(e){throw new Error("renderToolData not implemented for ".concat(this.name,"."))}},{key:"mouseMoveCallback",value:function(e){for(var t=e.detail,n=t.element,r=t.currentPoints.canvas,a=J(n,this.name),i=!1,o=0;o<a.data.length;o++){var s=a.data[o];!0===ie(n,s.handles,r)&&(i=!0);var l=this.pointNearTool(n,s,r)&&!s.active,u=!this.pointNearTool(n,s,r)&&s.active;(l||u)&&(s.active=!s.active,i=!0)}return i}},{key:"handleSelectedCallback",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"mouse";we(e,this,t,n,r)}},{key:"toolSelectedCallback",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mouse";Ee(e,this,t,n)}}]),t}(Y),_e=1,Se=2,Ce={setToolWidth:function(e){_e=e},getToolWidth:function(){return _e},setActiveWidth:function(e){Se=e},getActiveWidth:function(){return Se}},ke="white",Pe="greenyellow",Ie="transparent",Me={setFillColor:function(e){Ie=e},getFillColor:function(){return Ie},setToolColor:function(e){ke=e},getToolColor:function(){return ke},setActiveColor:function(e){Pe=e},getActiveColor:function(){return Pe},getColorIfActive:function(e){return e.color?e.color:e.active?Pe:ke}},Oe=function(e,t){e.save(),t(e),e.restore()},De=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.color,a=t.lineWidth,i=t.fillStyle,o=t.lineDash;e.beginPath(),e.strokeStyle=r||e.strokeStyle,e.lineWidth=a||void 0===a&&Ce.getToolWidth()||e.lineWidth,o&&e.setLineDash(o),n(e),i&&(e.fillStyle=i,e.fill()),e.stroke(),o&&e.setLineDash([])};function Ae(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"pixel";De(e,a,function(e){"pixel"===i&&(n=g.cornerstone.pixelToCanvas(t,n),r=g.cornerstone.pixelToCanvas(t,r)),e.moveTo(n.x,n.y),e.lineTo(r.x,r.y)})}var Le=function(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"pixel";De(e,a,function(e){"pixel"===i&&(n=g.cornerstone.pixelToCanvas(t,n),r=r.map(function(e){return g.cornerstone.pixelToCanvas(t,e)})),e.moveTo(n.x,n.y),r.forEach(function(t){var n=t.x,r=t.y;e.lineTo(n,r)})})},Re=function(e,t,n,r,a){var i=Math.atan2(n.y-t.y,n.x-t.x),o={color:r,lineWidth:a};Ae(e,void 0,t,n,o,"canvas"),o={color:r,lineWidth:a,fillStyle:r};var s=[{x:n.x-10*Math.cos(i-Math.PI/7),y:n.y-10*Math.sin(i-Math.PI/7)},{x:n.x-10*Math.cos(i+Math.PI/7),y:n.y-10*Math.sin(i+Math.PI/7)},n];Le(e,void 0,n,s,o,"canvas")},je=function(e,t,n,r,a){"pixel"===(arguments.length>5&&void 0!==arguments[5]?arguments[5]:"pixel")&&(n=g.cornerstone.pixelToCanvas(t,n)),De(e,a,function(e){e.arc(n.x,n.y,r,0,2*Math.PI)})},Ne=function(e,t,n,r,a){"pixel"===(arguments.length>5&&void 0!==arguments[5]?arguments[5]:"pixel")&&(n=g.cornerstone.pixelToCanvas(t,n),r=g.cornerstone.pixelToCanvas(t,r));var i=Math.min(n.x,r.x),o=Math.min(n.y,r.y),s=Math.abs(n.x-r.x),l=Math.abs(n.y-r.y),u=s/2*.5522848,c=l/2*.5522848,d=i+s,f=o+l,h=i+s/2,p=o+l/2;De(e,a,function(e){e.moveTo(i,p),e.bezierCurveTo(i,p-c,h-u,o,h,o),e.bezierCurveTo(h+u,o,d,p-c,d,p),e.bezierCurveTo(d,p+c,h+u,f,h,f),e.bezierCurveTo(h-u,f,i,p+c,i,p),e.closePath()})},Ue=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=t.element,i=Me.getToolColor();e.strokeStyle=r.color||i;for(var o=Object.keys(n),s=function(t){var i=o[t],s=n[i];if(!0===s.drawnIndependently)return"continue";if(!0===r.drawHandlesIfActive&&!s.active)return"continue";var l=s.active?Ce.getActiveWidth():Ce.getToolWidth(),u=r.fill;De(e,{lineWidth:l,fillStyle:u},function(e){var t=g.cornerstone.pixelToCanvas(a,s),n=s.radius||r.handleRadius||k.handleRadius;e.arc(t.x,t.y,n,0,2*Math.PI)})},l=0;l<o.length;l++)s(l)},Fe=function(e,t,n,r,a,i){var o=e.length>0?g.cornerstoneMath.point.findClosestPoint(e,t):t,s=[{x:n.left+n.width/2,y:n.top},{x:n.left,y:n.top+n.height/2},{x:n.left+n.width/2,y:n.top+n.height},{x:n.left+n.width,y:n.top+n.height/2}];Ae(r,void 0,o,g.cornerstoneMath.point.findClosestPoint(s,o),{color:a,lineWidth:i,lineDash:[2,3]},"canvas")},Be=15,ze="".concat(Be,"px Arial"),He="transparent",Ve={setFont:function(e){ze=e},getFont:function(){return ze},setFontSize:function(e){Be=e},getFontSize:function(){return Be},setBackgroundColor:function(e){He=e},getBackgroundColor:function(){return He}},We=function(e,t,n,r,a){var i=Ve.getFontSize();e.font=Ve.getFont(),e.textBaseline="top",e.fillStyle=r,n.forEach(function(n,r){e.fillText(n,t.left+a,t.top+a+r*(i+a))})},qe=function(e,t,n){e.fillStyle=n,e.fillRect(t.left,t.top,t.width,t.height)};function Ge(e,t,n){var r=Ve.getFont(),a=e.font;r&&r!==a&&(e.font=r);var i=e.measureText(t).width;return r&&r!==a&&(e.font=a),i+2*n}var Ye=function(e,t,n,r,a,i){"[object Array]"!==Object.prototype.toString.call(t)&&(t=[t]);var o=Ve.getFontSize(),s=Ve.getBackgroundColor(),l=0;t.forEach(function(t){var n=Ge(e,t,5);l=Math.max(l,n)});var u={width:l,height:5+t.length*(o+5)};return Oe(e,function(e){e.strokeStyle=a,i&&i.centering&&!0===i.centering.x&&(n-=u.width/2),i&&i.centering&&!0===i.centering.y&&(r-=u.height/2),u.left=n,u.top=r;var o=i&&!0===i.debug?"#FF0000":s;qe(e,u,o),We(e,u,t,a,5)}),u},Ze=function(e,t,n,r,a,i,o,s,l,u){var c=g.cornerstone,d=c.pixelToCanvas(t,n);l&&(d.x+=l);var f={centering:{x:!1,y:u}};if(n.boundingBox=Ye(e,r,d.x,d.y,o,f),n.hasMoved){var h=i(a).map(function(e){return c.pixelToCanvas(t,e)});Fe(h,d,n.boundingBox,e,o,s)}},Xe=function(e,t,n,r,a){if("pixel"===(arguments.length>5&&void 0!==arguments[5]?arguments[5]:"pixel")){var i=g.cornerstone;n=i.pixelToCanvas(t,n),r=i.pixelToCanvas(t,r)}var o=Math.min(n.x,r.x),s=Math.min(n.y,r.y),l=Math.abs(n.x-r.x),u=Math.abs(n.y-r.y);De(e,a,function(e){e.rect(o,s,l,u)})},Ke=function(e){var t=e.getContext("2d");return t.setTransform(1,0,0,1,0,0),t},$e=function(e,t){return void 0===e?t:e},Je=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.shadow&&(e.shadowColor=$e(t.shadowColor,"#000000"),e.shadowBlur=$e(t.shadowBlur,0),e.shadowOffsetX=$e(t.shadowOffsetX,1),e.shadowOffsetY=$e(t.shadowOffsetY,1))},Qe=function(e,t,n){if(n.vflip||n.vflip||n.rotation){var r={x:t.width/2+n.translation.x*n.scale,y:t.height/2+n.translation.y*n.scale};e.translate(r.x,r.y),n.rotation&&e.rotate(n.rotation*Math.PI/180),n.vflip&&e.scale(1,-1),n.hflip&&e.scale(-1,1),e.translate(-r.x,-r.y)}},et=function(e){e.setTransform(1,0,0,1,0,0)},tt=function(e,t,n,r){var a=g.cornerstone,i={start:a.pixelToCanvas(e,t),end:a.pixelToCanvas(e,n)};return g.cornerstoneMath.lineSegment.distanceToPoint(i,r)},nt=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n};function rt(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))}var at=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,t);var r=Object.assign({name:"Angle",supportedInteractionTypes:["Mouse","Touch"]},n);return(e=l()(this,c()(t).call(this,r))).initialConfiguration=r,e.preventNewMeasurement=!1,e}return f()(t,e),o()(t,[{key:"createNewMeasurement",value:function(e){return{visible:!0,active:!0,color:void 0,handles:{start:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!1},middle:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!0},end:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!1},textBox:{active:!1,hasMoved:!1,movesIndependently:!1,drawnIndependently:!0,allowedOutsideImage:!0,hasBoundingBox:!0}}}}},{key:"pointNearTool",value:function(e,t,n){return!1!==t.visible&&(tt(e,t.handles.start,t.handles.middle,n)<25||tt(e,t.handles.middle,t.handles.end,n)<25)}},{key:"renderToolData",value:function(e){var t=this,n=e.detail,r=n.enabledElement,a=this.configuration,i=a.handleRadius,o=a.drawHandlesOnHover,s=J(e.currentTarget,this.name);if(s)for(var l=Ke(n.canvasContext.canvas),u=Ce.getToolWidth(),c=function(e){var a=s.data[e];if(!1===a.visible)return"continue";Oe(l,function(e){Je(e,t.configuration);var s=Me.getColorIfActive(a),l=g.cornerstone.pixelToCanvas(n.element,a.handles.start),c=g.cornerstone.pixelToCanvas(n.element,a.handles.middle);Le(e,n.element,a.handles.start,[a.handles.middle,a.handles.end],{color:s});var d={color:s,handleRadius:i,drawHandlesIfActive:o};Ue(e,n,a.handles,d);var h=n.image.columnPixelSpacing||1,p=n.image.rowPixelSpacing||1,m={x:(a.handles.middle.x-a.handles.start.x)*h,y:(a.handles.middle.y-a.handles.start.y)*p},v={x:(a.handles.end.x-a.handles.middle.x)*h,y:(a.handles.end.y-a.handles.middle.y)*p},y={x:(a.handles.end.x-a.handles.start.x)*h,y:(a.handles.end.y-a.handles.start.y)*p},b=rt(m),w=rt(v),x=rt(y),E=Math.acos((Math.pow(b,2)+Math.pow(w,2)-Math.pow(x,2))/(2*b*w));if(E*=180/Math.PI,a.rAngle=nt(E,2),a.rAngle){var T,_=function(e,t,n){var r=t&&n?"":" (isotropic)";return e.rAngle.toString()+String.fromCharCode(parseInt("00B0",16))+r}(a,n.image.rowPixelSpacing,n.image.columnPixelSpacing);if(!a.handles.textBox.hasMoved){T={x:c.x,y:c.y};var S=Ge(e,_,5);c.x<l.x?T.x-=15+S+10:T.x+=15;var C=g.cornerstone.internal.getTransform(r);C.invert();var k=C.transformPoint(T.x,T.y);a.handles.textBox.x=k.x,a.handles.textBox.y=k.y}Ze(e,n.element,a.handles.textBox,_,a.handles,f,s,u,0,!0)}})},d=0;d<s.data.length;d++)c(d);function f(e){return[e.start,e.middle,e.end]}}},{key:"addNewMeasurement",value:function(e,t){var n=this;if(!this.preventNewMeasurement){this.preventNewMeasurement=!0,e.preventDefault(),e.stopPropagation();var r=e.detail,a=this.createNewMeasurement(r),i=e.detail.element;$(i,this.name,a),g.cornerstone.updateImage(i);var o=Object.assign({},{doneMovingCallback:function(){a.active=!1,n.preventNewMeasurement=!1,g.cornerstone.updateImage(i)}},this.options),s=Object.assign({},{doneMovingCallback:function(){a.active=!1,a.handles.end.active=!0,g.cornerstone.updateImage(i),ye(r,n.name,a,a.handles.end,o,t)}},this.options);ye(r,this.name,a,a.handles.middle,s,t)}}}]),t}(Te),it=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,t);var r={name:"ArrowAnnotate",supportedInteractionTypes:["Mouse","Touch"],configuration:{getTextCallback:ot,changeTextCallback:st,drawHandles:!1,drawHandlesOnHover:!0,arrowFirst:!0}},i=Object.assign(r,n);return(e=l()(this,c()(t).call(this,i))).initialConfiguration=i,e.preventNewMeasurement=!1,e}return f()(t,e),o()(t,[{key:"createNewMeasurement",value:function(e){return{visible:!0,active:!0,color:void 0,handles:{start:{x:e.detail.currentPoints.image.x,y:e.detail.currentPoints.image.y,highlight:!0,active:!1},end:{x:e.detail.currentPoints.image.x,y:e.detail.currentPoints.image.y,highlight:!0,active:!1},textBox:{active:!1,hasMoved:!1,movesIndependently:!1,drawnIndependently:!0,allowedOutsideImage:!0,hasBoundingBox:!0}}}}},{key:"pointNearTool",value:function(e,t,n){return!1!==t.visible&&tt(e,t.handles.start,t.handles.end,n)<25}},{key:"renderToolData",value:function(e){var t=this,n=e.detail,r=n.element,a=n.enabledElement,i=this.configuration,o=i.handleRadius,s=i.drawHandlesOnHover,l=J(r,this.name);if(l)for(var u=e.detail.canvasContext.canvas,c=Ke(u),d=Ce.getToolWidth(),f=function(n){var i=l.data[n];if(!1===i.visible)return"continue";Oe(c,function(n){Je(n,t.configuration);var l=Me.getColorIfActive(i),u=g.cornerstone.pixelToCanvas(r,i.handles.start),c=g.cornerstone.pixelToCanvas(r,i.handles.end);t.configuration.arrowFirst?Re(n,c,u,l,d):Re(n,u,c,l,d);var f={color:l,handleRadius:o,drawHandlesIfActive:s};t.configuration.drawHandles&&Ue(n,e.detail,i.handles,f);var h=function(e){return e.text}(i);if(h&&""!==h){var m=Ge(n,h,5),v=Ve.getFontSize()+10,y=Math.max(m,v)/2+5;if(c.x<u.x&&(y=-y),!i.handles.textBox.hasMoved){var b;b=t.configuration.arrowFirst?{x:c.x-m/2+y,y:c.y-v/2}:{x:u.x-m/2-y,y:u.y-v/2};var w=g.cornerstone.internal.getTransform(a);w.invert();var x=w.transformPoint(b.x,b.y);i.handles.textBox.x=x.x,i.handles.textBox.y=x.y}Ze(n,r,i.handles.textBox,h,i.handles,p,l,d,0,!1)}})},h=0;h<l.data.length;h++)f(h);function p(e){var t={x:(e.start.x+e.end.x)/2,y:(e.start.y+e.end.y)/2};return[e.start,t,e.end]}}},{key:"addNewMeasurement",value:function(e,t){var n=this,r=e.detail.element,a=this.createNewMeasurement(e);$(r,this.name,a),g.cornerstone.updateImage(r);var i=Object.assign({},{doneMovingCallback:function(){void 0===a.text&&n.configuration.getTextCallback(function(e){e?a.text=e:Q(r,n.name,a),a.active=!1,g.cornerstone.updateImage(r)}),g.cornerstone.updateImage(r)}},this.options);ye(e.detail,this.name,a,a.handles.end,i,t)}},{key:"doubleClickCallback",value:function(e){if(Array.isArray(this.options.mouseButtonMask)&&this.options.mouseButtonMask.includes(e.detail.buttons))return this._updateTextForNearbyAnnotation(e)}},{key:"touchPressCallback",value:function(e){return this._updateTextForNearbyAnnotation(e)}},{key:"_updateTextForNearbyAnnotation",value:function(e){var t=e.detail.element,n=e.detail.currentPoints.canvas,r=J(t,this.name);if(!r)return!1;for(var a=0;a<r.data.length;a++){var i=r.data[a];if(this.pointNearTool(t,i,n)||ne(i.handles.textBox,n))return i.active=!0,g.cornerstone.updateImage(t),this.configuration.changeTextCallback(i,e.detail,this._doneChangingTextCallback.bind(this,t,i)),e.stopImmediatePropagation(),e.preventDefault(),e.stopPropagation(),!0}}},{key:"_doneChangingTextCallback",value:function(e,t,n,r){!0===r?Q(e,this.name,t):t.text=n,t.active=!1,g.cornerstone.updateImage(e)}}]),t}(Te);function ot(e){e(prompt("Enter your annotation:"))}function st(e,t,n){n(prompt("Change your annotation:"))}var lt,ut=n(0),ct=n.n(ut),dt=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Object.assign({x:e,y:t,index:n,drawnIndependently:!1,allowedOutsideImage:!1,highlight:!0,active:!1},r)},ft=function(e){var t=e.currentPoints.image,n=t.x,r=t.y;return{toolType:this.name,isCreating:!0,visible:!0,active:!0,handles:{start:dt(n,r,0),end:dt(n,r,1,{active:!0}),perpendicularStart:dt(n,r,2,{locked:!0}),perpendicularEnd:dt(n,r,3),textBox:dt(n-50,r-70,null,{highlight:!1,hasMoved:!0,active:!1,movesIndependently:!1,drawnIndependently:!0,allowedOutsideImage:!0,hasBoundingBox:!0})},longestDiameter:0,shortestDiameter:0}},ht=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"mouse",a=g.cornerstone,i=g.cornerstoneMath,o=t.handles,s={start:a.pixelToCanvas(e,o.start),end:a.pixelToCanvas(e,o.end)},l=i.lineSegment.distanceToPoint(s,n);if(ne(o.textBox,n))return!0;var u="mouse"===r?k.clickProximity:k.touchProximity;return!!function(e,t,n,r){var a=g.cornerstone,i=g.cornerstoneMath,o={start:a.pixelToCanvas(e,t.perpendicularStart),end:a.pixelToCanvas(e,t.perpendicularEnd)};return i.lineSegment.distanceToPoint(o,n)<r}(e,o,n,u)||l<u},pt=function(e){var t=this,n=e.detail,r=n.element,a=n.canvasContext,i=n.image,o=this.configuration,s=o.handleRadius,l=o.drawHandlesOnHover,u=J(r,this.name);if(u){var c=g.cornerstone.metaData.get("imagePlaneModule",i.imageId),d=i.rowPixelSpacing,f=i.columnPixelSpacing;if(c&&(d=c.rowPixelSpacing||c.rowImagePixelSpacing,f=c.columnPixelSpacing||c.colImagePixelSpacing),d&&f)for(var h,p=Ke(a.canvas),m=Me.getActiveColor(),v=Ce.getToolWidth(),y=function(e){var a=u.data[e];if(!1===a.visible)return"continue";h=a.active?m:Me.getToolColor(),mt(a,d,f),Oe(p,function(e){Je(e,t.configuration);var i=a.handles,o=i.start,u=i.end,c=i.perpendicularStart,p=i.perpendicularEnd,m=i.textBox;Ae(e,r,o,u,{color:h});var g=v;!function(e,t){if(t.handles.perpendicularStart.locked){var n,r,a,i,o=t.handles,s=o.start,l=o.end;if(s.x===l.x&&s.y===l.y)n=s.x,r=s.y,a=l.x,i=l.y;else{var u={x:(s.x+l.x)/2,y:(s.y+l.y)/2},c=(s.x-l.x)*(e.image.columnPixelSpacing||1),d=(s.y-l.y)*(e.image.rowPixelSpacing||1),f=Math.sqrt(c*c+d*d),h=(s.x-l.x)/f,p=(s.y-l.y)/f,m=f/2;n=u.x+m/2*p,r=u.y-m/2*h,a=u.x-m/2*p,i=u.y+m/2*h}t.handles.perpendicularStart.x=n,t.handles.perpendicularStart.y=r,t.handles.perpendicularEnd.x=a,t.handles.perpendicularEnd.y=i}}(n,a),Ae(e,r,c,p,{color:h,strokeWidth:g});var y={color:h,handleRadius:s,drawHandlesIfActive:l};Ue(e,n,a.handles,y);var b=gt(a,d,f);a.additionalData&&Array.isArray(a.additionalData)&&(b=a.additionalData.concat(b)),Ze(e,r,m,b,a.handles,function(e){return[e.start,e.end,e.perpendicularStart,e.perpendicularEnd]},h,v,10,!0)})},b=0;b<u.data.length;b++)y(b)}},mt=function(e,t,n){var r=e.handles,a=r.start,i=r.end,o=r.perpendicularStart,s=r.perpendicularEnd,l=(a.x-i.x)*(n||1),u=(a.y-i.y)*(t||1),c=Math.sqrt(l*l+u*u),d=(o.x-s.x)*(n||1),f=(o.y-s.y)*(t||1),h=Math.sqrt(d*d+f*f);if(h||(h=0),h>c){var p=c;c=h,h=p}e.longestDiameter=c.toFixed(1),e.shortestDiameter=h.toFixed(1)},gt=function(e,t,n){var r=" mm";return t&&n||(r=" pixels"),[" L ".concat(e.longestDiameter).concat(r)," W ".concat(e.shortestDiameter).concat(r)]},vt=function(e,t){var n=this,r=e.detail,a=r.element,i=r.image,o=this.configuration;if(!yt(i)){var s=this.createNewMeasurement(r),l=function(){s.active=!1,g.cornerstone.updateImage(a)};$(a,this.name,s),g.cornerstone.updateImage(a);var u=(new Date).getTime(),c=s.handles,d=c.end,f=c.perpendicularStart;ye(r,this.name,s,d,{doneMovingCallback:function(){var e=s.handles,t=s.longestDiameter,i=s.shortestDiameter,c=oe(r,e),d=parseFloat(t)||0,h=parseFloat(i)||0,p=d<1||h<1,m=(new Date).getTime()-u<150;c||p||m?(s.cancelled=!0,Q(a,n.name,s)):o.getMeasurementLocationCallback(s,r,l),f.locked=!1,g.cornerstone.updateImage(a)}},t)}},yt=function(e){var t=g.cornerstone.metaData.get("imagePlaneModule",e.imageId),n=e.rowPixelSpacing,r=e.columnPixelSpacing;return t&&(n=t.rowPixelSpacing||t.rowImagePixelSpacing,r=t.columnPixelSpacing||t.colImagePixelSpacing),!n||!r},bt={setCoords:function(e){lt=e.currentPoints.canvas},getCoords:function(){return lt}},wt=function(e){var t=this,n=e.detail,r=n.element;bt.setCoords(n);var a=J(r,this.name);if(a){for(var i=!1,o=function(e){var o=n.currentPoints.canvas,s=a.data[e],l=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6,a=ae(e,t,n,r),i=!1;return Object.keys(t).forEach(function(e){if("textBox"!==e){var n=t[e],r=n===a;n.active!==r&&(i=!0),n.active=r}}),i}(r,s.handles,o);Object.keys(s.handles).forEach(function(e){if("textBox"!==e){var t=s.handles[e];t.hover=t.active}}),l&&(i=!0);var u=t.pointNearTool(r,s,o,"mouse"),c=u&&!s.active,d=!u&&s.active;(c||d)&&(s.active=!s.active,i=!0)},s=0;s<a.data.length;s++)o(s);!0===i&&g.cornerstone.updateImage(r)}},xt=function(e,t,n,r){var a,i,o,s,l={},u={},c={x:t.currentPoints.image.x+r.x,y:t.currentPoints.image.y+r.y};0===e.index?function(e,t){var n=g.cornerstoneMath.point.distance,r=t.handles,a=r.start,i=r.end,o=r.perpendicularStart,s=r.perpendicularEnd,l={start:{x:a.x,y:a.y},end:{x:i.x,y:i.y}},u={start:{x:o.x,y:o.y},end:{x:s.x,y:s.y}},c=g.cornerstoneMath.lineSegment.intersectLine(l,u),d=n(o,c),f=n(s,c),h=n(i,c),p=n(i,e);if(p<=h)return!1;var m=(i.x-e.x)/p,v=(i.y-e.y)/p,y=h/p,b=i.x+(e.x-i.x)*y,w=i.y+(e.y-i.y)*y;return o.x=b-d*v,o.y=w+d*m,s.x=b+f*v,s.y=w-f*m,!0}(c,n)?(e.x=c.x,e.y=c.y):(t.currentPoints.image.x=e.x,t.currentPoints.image.y=e.y):1===e.index?function(e,t){var n=g.cornerstoneMath.point.distance,r=t.handles,a=r.start,i=r.end,o=r.perpendicularStart,s=r.perpendicularEnd,l={start:{x:a.x,y:a.y},end:{x:i.x,y:i.y}},u={start:{x:o.x,y:o.y},end:{x:s.x,y:s.y}},c=g.cornerstoneMath.lineSegment.intersectLine(l,u),d=n(o,c),f=n(s,c),h=n(a,c),p=n(a,e);if(p<=h)return!1;var m=(a.x-e.x)/p,v=(a.y-e.y)/p,y=h/p,b=a.x+(e.x-a.x)*y,w=a.y+(e.y-a.y)*y;return o.x=b+d*v,o.y=w-d*m,s.x=b-f*v,s.y=w+f*m,!0}(c,n)?(e.x=c.x,e.y=c.y):(t.currentPoints.image.x=e.x,t.currentPoints.image.y=e.y):2===e.index?(a=!1,l.start={x:n.handles.start.x,y:n.handles.start.y},l.end={x:n.handles.end.x,y:n.handles.end.y},u.start={x:n.handles.perpendicularEnd.x,y:n.handles.perpendicularEnd.y},u.end={x:c.x,y:c.y},(i=g.cornerstoneMath.lineSegment.intersectLine(l,u))||(u.end={x:n.handles.perpendicularStart.x,y:n.handles.perpendicularStart.y},i=g.cornerstoneMath.lineSegment.intersectLine(l,u),o=g.cornerstoneMath.point.distance(i,n.handles.start),s=g.cornerstoneMath.point.distance(i,n.handles.end),(!i||o<3||s<3)&&(a=!0)),a||function(e,t){var n=g.cornerstoneMath.point.distance,r=t.handles,a=r.start,i=r.end,o=r.perpendicularStart,s=r.perpendicularEnd,l=s,u=g.cornerstoneMath.lineSegment.distanceToPoint(t.handles,l),c=g.cornerstoneMath.lineSegment.distanceToPoint(t.handles,e),d=u+c;if(n(l,e)<=u)return!1;var f=n(a,i);if(0===f)return!1;var h=(a.x-i.x)/f,p=(a.y-i.y)/f,m=a.x-1*h,v=a.y-1*p,y=i.x+1*h,b=i.y+1*p;o.x=e.x,o.y=e.y,s.x=e.x-d*p,s.y=e.y+d*h;var w={start:{x:a.x,y:a.y},end:{x:i.x,y:i.y}},x={start:{x:o.x,y:o.y},end:{x:s.x,y:s.y}};return g.cornerstoneMath.lineSegment.intersectLine(w,x)||(n(e,a)>n(e,i)?(o.x=y+c*p,o.y=b-c*h,s.x=o.x-d*p,s.y=o.y+d*h):(o.x=m+c*p,o.y=v-c*h,s.x=o.x-d*p,s.y=o.y+d*h)),!0}(c,n)||(t.currentPoints.image.x=n.handles.perpendicularStart.x,t.currentPoints.image.y=n.handles.perpendicularStart.y)):3===e.index&&(a=!1,l.start={x:n.handles.start.x,y:n.handles.start.y},l.end={x:n.handles.end.x,y:n.handles.end.y},u.start={x:n.handles.perpendicularStart.x,y:n.handles.perpendicularStart.y},u.end={x:c.x,y:c.y},(i=g.cornerstoneMath.lineSegment.intersectLine(l,u))||(u.end={x:n.handles.perpendicularEnd.x,y:n.handles.perpendicularEnd.y},i=g.cornerstoneMath.lineSegment.intersectLine(l,u),o=g.cornerstoneMath.point.distance(i,n.handles.start),s=g.cornerstoneMath.point.distance(i,n.handles.end),(!i||o<3||s<3)&&(a=!0)),a||function(e,t){var n=g.cornerstoneMath.point.distance,r=t.handles,a=r.start,i=r.end,o=r.perpendicularStart,s=r.perpendicularEnd,l=o,u=g.cornerstoneMath.lineSegment.distanceToPoint(t.handles,l),c=g.cornerstoneMath.lineSegment.distanceToPoint(t.handles,e),d=u+c;if(n(l,e)<=u)return!1;var f=n(a,i),h=(a.x-i.x)/f,p=(a.y-i.y)/f,m=a.x-1*h,v=a.y-1*p,y=i.x+1*h,b=i.y+1*p;o.x=e.x+d*p,o.y=e.y-d*h,s.x=e.x,s.y=e.y,s.locked=!1,o.locked=!1;var w={start:{x:a.x,y:a.y},end:{x:i.x,y:i.y}},x={start:{x:o.x,y:o.y},end:{x:s.x,y:s.y}};return g.cornerstoneMath.lineSegment.intersectLine(w,x)||(n(e,a)>n(e,i)?(s.x=y-c*p,s.y=b+c*h,o.x=s.x+d*p,o.y=s.y-d*h):(s.x=m-c*p,s.y=v+c*h,o.x=s.x+d*p,o.y=s.y-d*h)),!0}(c,n)||(t.currentPoints.image.x=n.handles.perpendicularEnd.x,t.currentPoints.image.y=n.handles.perpendicularEnd.y))},Et=function(e,t,n){var r=e[n],a=t[n];e[n]=a,t[n]=r},Tt=function(e,t){Et(e,t,"x"),Et(e,t,"y"),Et(e,t,"moving"),Et(e,t,"hover"),Et(e,t,"active"),Et(e,t,"selected")},_t=function(e){var t,n=this,r=e.detail,a=r.element,i=k.clickProximity,o=function(e){t.invalidated=!0,oe(r,t.handles)&&Q(a,n.name,t),e&&(e.moving=!1,e.selected=!0),a.style.cursor="",g.cornerstone.updateImage(a),a.addEventListener(b.MOUSE_MOVE,n._moveCallback),a.addEventListener(b.TOUCH_START,n._moveCallback)},s=r.startPoints.canvas,l=J(e.currentTarget,this.name);if(l){for(var u=function(u){t=l.data[u];var c=[a,t.handles,s,i],d=ae.apply(void 0,c);if(d)return a.removeEventListener(b.MOUSE_MOVE,n._moveCallback),a.removeEventListener(b.TOUCH_START,n._moveCallback),t.active=!0,St(t.handles),d.moving=!0,d=function(e,t,n){var r=e.image,a=r.rowPixelSpacing,i=r.columnPixelSpacing,o=t.handles,s=o.start,l=o.end,u=o.perpendicularStart,c=o.perpendicularEnd,d=(s.x-l.x)*(i||1),f=(s.y-l.y)*(a||1),h=Math.sqrt(d*d+f*f),p=(u.x-c.x)*(i||1),m=(u.y-c.y)*(a||1);return(Math.sqrt(p*p+m*m)||0)>h?(Tt(s,l),Tt(s,u),Tt(l,c),Object.values(o).find(function(e){return!0===e.moving})):n}(r,t,d),a.style.cursor=d.hasBoundingBox?"move":"none",function(e,t,n,r,a,i){var o=e.element,s={x:r.x-e.currentPoints.image.x,y:r.y-e.currentPoints.image.y},l=function(e){var a=e.detail;r.active=!0,r.hasMoved=!0,void 0===r.index||null===r.index?(r.x=a.currentPoints.image.x+s.x,r.y=a.currentPoints.image.y+s.y):xt(r,a,n,s),g.cornerstone.updateImage(o);var i={toolType:t,element:o,measurementData:n};g.cornerstone.triggerEvent(o,b.MEASUREMENT_MODIFIED,i)};o.addEventListener(b.MOUSE_DRAG,l),o.addEventListener(b.TOUCH_DRAG,l);var u=g.cornerstone.getImage(o),c=function(){g.cornerstone.getImage(o).imageId!==u.imageId&&d()};o.addEventListener(g.cornerstone.EVENTS.IMAGE_RENDERED,c);var d=function e(){o.removeEventListener(g.cornerstone.EVENTS.IMAGE_RENDERED,c),o.removeEventListener(b.MOUSE_DRAG,l),o.removeEventListener(b.MOUSE_UP,e),o.removeEventListener(b.MOUSE_CLICK,e),o.removeEventListener(b.TOUCH_DRAG,l),o.removeEventListener(b.TOUCH_DRAG_END,e),o.removeEventListener(b.TAP,e),g.cornerstone.updateImage(o),a()};o.addEventListener(b.MOUSE_UP,d),o.addEventListener(b.MOUSE_CLICK,d),o.addEventListener(b.TOUCH_DRAG_END,d),o.addEventListener(b.TAP,d)}(r,n.name,t,d,function(){return o(d)}),kt(e),{v:!0}},c=0;c<l.data.length;c++){var d=u(c);if("object"===y()(d))return d.v}var f=function(e){return function(){Ct(e,!1),o()}};for(c=0;c<l.data.length;c++)if(t=l.data[c],this.pointNearTool(a,t,s,"mouse")){a.removeEventListener(b.MOUSE_MOVE,this._moveCallback),a.removeEventListener(b.TOUCH_START,this._moveCallback),t.active=!0,St(t.handles),Ct(t.handles,!0);var h=f(t.handles);return de(r,this.name,t,null,{deleteIfHandleOutsideImage:!0,preventHandleOutsideImage:!1,doneMovingCallback:h},"mouse"),kt(e),!0}}},St=function(e){var t=!1;return Object.keys(e).forEach(function(n){"textBox"!==n&&(e[n].selected=!1,t=e[n].active||t,e[n].active=!1)}),t},Ct=function(e,t){Object.keys(e).forEach(function(n){"textBox"!==n&&(e[n].moving=t)})},kt=function(e){e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault()},Pt=[b.TOUCH_END,b.TOUCH_DRAG_END,b.TOUCH_PINCH,b.TOUCH_PRESS,b.TAP],It=function(e){var t,n=this,r=e.detail,a=r.element,i=k.touchProximity,o=function(e){t.invalidated=!0,oe(r,t.handles)&&Q(a,n.name,t),e&&(e.moving=!1,e.selected=!0),g.cornerstone.updateImage(a),a.addEventListener(b.TOUCH_DRAG,n._moveCallback)},s=r.startPoints.canvas,l=J(e.currentTarget,this.name);if(l){for(var u=function(u){t=l.data[u];var c=[a,t.handles,s,i],d=ae.apply(void 0,c);if(d)return a.removeEventListener(b.TOUCH_DRAG,n._moveCallback),t.active=!0,Mt(t.handles),d.moving=!0,function(e,t,n,r,a,i){var o=e.element,s={x:r.x-e.currentPoints.image.x,y:r.y-e.currentPoints.image.y},l=function(e){var a=e.detail;r.active=!0,r.hasMoved=!0,void 0===r.index||null===r.index?(r.x=a.currentPoints.image.x+s.x,r.y=a.currentPoints.image.y+s.y):xt(r,a,n,s),g.cornerstone.updateImage(o);var i=b.MEASUREMENT_MODIFIED,l={toolType:t,element:o,measurementData:n};g.cornerstone.triggerEvent(o,i,l)};o.addEventListener(b.TOUCH_DRAG,l);var u=function e(){o.removeEventListener(b.TOUCH_DRAG,l),Pt.forEach(function(t){o.removeEventListener(t,e)}),g.cornerstone.updateImage(o),a()};Pt.forEach(function(e){o.addEventListener(e,u)})}(r,n.name,t,d,function(){return o(d)}),Dt(e),{v:!0}},c=0;c<l.data.length;c++){var d=u(c);if("object"===y()(d))return d.v}var f=function(e){return function(){Ot(e,!1),o()}};for(c=0;c<l.data.length;c++)if(t=l.data[c],this.pointNearTool(a,t,s,"touch")){a.removeEventListener(b.TOUCH_DRAG,this._moveCallback),t.active=!0,Mt(t.handles),Ot(t.handles,!0);var h=f(t.handles);return de(r,this.name,t,null,{deleteIfHandleOutsideImage:!0,preventHandleOutsideImage:!1,doneMovingCallback:h},"touch"),Dt(e),!0}}},Mt=function(e){var t=!1;return Object.keys(e).forEach(function(n){"textBox"!==n&&(e[n].selected=!1,t=e[n].active||t,e[n].active=!1)}),t},Ot=function(e,t){Object.keys(e).forEach(function(n){"textBox"!==n&&(e[n].moving=t)})},Dt=function(e){e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault()},At=function(e,t,n){return n()},Lt=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,t);var r={name:"Bidirectional",supportedInteractionTypes:["Mouse","Touch"],configuration:{changeMeasurementLocationCallback:At,getMeasurementLocationCallback:At,textBox:"",shadow:"",drawHandlesOnHover:!0,additionalData:[]}},i=Object.assign(r.configuration,n),o=Object.assign(r,{configuration:i});return(e=l()(this,c()(t).call(this,o))).createNewMeasurement=ft.bind(ct()(ct()(e))),e.pointNearTool=ht.bind(ct()(ct()(e))),e.renderToolData=pt.bind(ct()(ct()(e))),e.addNewMeasurement=vt.bind(ct()(ct()(e))),e._moveCallback=wt.bind(ct()(ct()(e))),e.preMouseDownCallback=_t.bind(ct()(ct()(e))),e.preTouchStartCallback=It.bind(ct()(ct()(e))),e}return f()(t,e),t}(Te),Rt=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,t);var r=Object.assign({name:"CobbAngle",supportedInteractionTypes:["Mouse","Touch"]},n);return(e=l()(this,c()(t).call(this,r))).initialConfiguration=r,e.hasIncomplete=!1,e}return f()(t,e),o()(t,[{key:"createNewMeasurement",value:function(e){return this.hasIncomplete=!0,{visible:!0,active:!0,color:void 0,complete:!1,value:"",handles:{start:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!1},end:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!0},start2:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!1,drawnIndependently:!0},end2:{x:e.currentPoints.image.x+1,y:e.currentPoints.image.y,highlight:!0,active:!1,drawnIndependently:!0},textBox:{active:!1,hasMoved:!1,movesIndependently:!1,drawnIndependently:!0,allowedOutsideImage:!0,hasBoundingBox:!0}}}}},{key:"pointNearTool",value:function(e,t,n){return!1!==t.visible&&!this.hasIncomplete&&(tt(e,t.handles.start,t.handles.end,n)<25||tt(e,t.handles.start2,t.handles.end2,n)<25)}},{key:"renderToolData",value:function(e){var t=this,n=e.detail,r=this.configuration,a=r.handleRadius,i=r.drawHandlesOnHover,o=J(e.currentTarget,this.name);if(o)for(var s=Ke(n.canvasContext.canvas),l=Ce.getToolWidth(),u=Ve.getFont(),c=function(e){var r=o.data[e];if(!1===r.visible)return"continue";Oe(s,function(e){Je(e,t.configuration);var o=Me.getColorIfActive(r);Ae(e,n.element,r.handles.start,r.handles.end,{color:o}),r.complete&&Ae(e,n.element,r.handles.start2,r.handles.end2,{color:o});var s={color:o,handleRadius:a,drawHandlesIfActive:i};Ue(e,n,r.handles,s),e.fillStyle=o;var c=r.value;if(!r.handles.textBox.hasMoved){var d={x:(r.handles.start.x+r.handles.end.x)/2,y:(r.handles.start.y+r.handles.end.y)/2-10};e.font=u,r.handles.textBox.x=d.x,r.handles.textBox.y=d.y}Ze(e,n.element,r.handles.textBox,c,r.handles,f,o,l,0,!0)})},d=0;d<o.data.length;d++)c(d);function f(e){return[e.start,e.start2,e.end,e.end2]}}},{key:"getIncomplete",value:function(e){var t=J(e,this.name);if(void 0!==t)for(var n=0;n<t.data.length;n++)if(!1===t.data[n].complete)return t.data[n]}},{key:"addNewMeasurement",value:function(e,t){e.preventDefault(),e.stopPropagation();var n,r,a=e.detail,i=e.detail.element,o=this.getIncomplete(i);o?((n=o).complete=!0,n.handles.start2={x:a.currentPoints.image.x,y:a.currentPoints.image.y,drawnIndependently:!1,highlight:!0,active:!1},n.handles.end2={x:a.currentPoints.image.x,y:a.currentPoints.image.y,drawnIndependently:!1,highlight:!0,active:!0},r=n.handles.end2,this.hasIncomplete=!1):(n=this.createNewMeasurement(a),$(i,this.name,n),r=n.handles.end),g.cornerstone.updateImage(i),ye(a,this.name,n,r,this.options,t)}},{key:"onMeasureModified",value:function(e){var t=g.cornerstone.getEnabledElement(e.detail.element).image;if(e.detail.toolType===this.name){var n=e.detail.measurementData;n.value=function(e,t){var n=t.columnPixelSpacing||1,r=t.rowPixelSpacing||1,a=(Math.ceil(e.handles.start.x)-Math.ceil(e.handles.end.x))*n,i=(Math.ceil(e.handles.start.y)-Math.ceil(e.handles.end.y))*r,o=(Math.ceil(e.handles.start2.x)-Math.ceil(e.handles.end2.x))*n,s=(Math.ceil(e.handles.start2.y)-Math.ceil(e.handles.end2.y))*r,l=Math.acos(Math.abs((a*o+i*s)/(Math.sqrt(a*a+i*i)*Math.sqrt(o*o+s*s))));l*=180/Math.PI;var u=nt(l,2);return Number.isNaN(e.rAngle)?"":function(e,t,n){var r=t&&n?"":" (isotropic)";return e.toString()+String.fromCharCode(parseInt("00B0",16))+r}(u,t.rowPixelSpacing,t.columnPixelSpacing)}(n,t)}}},{key:"activeCallback",value:function(e){this.onMeasureModified=this.onMeasureModified.bind(this),e.addEventListener(b.MEASUREMENT_MODIFIED,this.onMeasureModified)}},{key:"passiveCallback",value:function(e){this.onMeasureModified=this.onMeasureModified.bind(this),e.addEventListener(b.MEASUREMENT_MODIFIED,this.onMeasureModified)}},{key:"enabledCallback",value:function(e){e.removeEventListener(b.MEASUREMENT_MODIFIED,this.onMeasureModified)}},{key:"disabledCallback",value:function(e){e.removeEventListener(b.MEASUREMENT_MODIFIED,this.onMeasureModified)}}]),t}(Te),jt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=g.cornerstone,a=r.metaData.get("patientStudyModule",e.imageId),i=r.metaData.get("generalSeriesModule",e.imageId);if(a&&i&&"PT"===i.modality){var o=n?t:t*e.slope+e.intercept,s=a.patientWeight;if(s){var l=r.metaData.get("petIsotopeModule",e.imageId);if(l){var u=l.radiopharmaceuticalInfo,c=u.radiopharmaceuticalStartTime,d=u.radionuclideTotalDose,f=u.radionuclideHalfLife,h=i.seriesTime;if(c&&d&&f&&h){var p=Nt(h.fractionalSeconds||0)+h.seconds+60*h.minutes+60*h.hours*60-(Nt(c.fractionalSeconds)+c.seconds+60*c.minutes+60*c.hours*60);return o*s/(d*Math.exp(-p*Math.log(2)/f))*1e3}}}}};function Nt(e){return parseFloat(".".concat(e))}var Ut=function(e,t){var n=e.width/2,r=e.height/2;if(n<=0||r<=0)return!1;var a=e.left+n,i=e.top+r,o=t.x-a,s=t.y-i;return o*o/(n*n)+s*s/(r*r)<=1},Ft=function(e,t){for(var n=0,r=0,a=0,i=0,o=null,s=null,l=t.top;l<t.top+t.height;l++)for(var u=t.left;u<t.left+t.width;u++)Ut(t,{x:u,y:l})&&(null===o&&(o=e[i],s=e[i]),n+=e[i],r+=e[i]*e[i],o=Math.min(o,e[i]),s=Math.max(s,e[i]),a++),i++;if(0===a)return{count:a,mean:0,variance:0,stdDev:0,min:0,max:0};var c=n/a,d=r/a-c*c;return{count:a,mean:c,variance:d,stdDev:Math.sqrt(d),min:o,max:s}},Bt={calculateEllipseStatistics:Ft,pointInEllipse:Ut},zt=function(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")},Ht=function(e){var t=y()(e);return null!=e&&("object"==t||"function"==t)},Vt=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return Ht(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),function(e,t,n){var r,a,i,o,s,l,u=0,c=!1,d=!1,f=!0,h=!t&&0!==t&&"function"==typeof window.requestAnimationFrame;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=r,i=a;return r=a=void 0,u=t,o=e.apply(i,n)}function m(e,t){return h?window.requestAnimationFrame(e):setTimeout(e,t)}function g(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-u>=i}function v(){var e=Date.now();if(g(e))return y(e);s=m(v,function(e){var n=e-u,r=t-(e-l);return d?Math.min(r,i-n):r}(e))}function y(e){return s=void 0,f&&r?p(e):(r=a=void 0,o)}function b(){for(var e=Date.now(),n=g(e),i=arguments.length,f=new Array(i),h=0;h<i;h++)f[h]=arguments[h];if(r=f,a=this,l=e,n){if(void 0===s)return function(e){return u=e,s=m(v,t),c?p(e):o}(l);if(d)return s=m(v,t),p(l)}return void 0===s&&(s=m(v,t)),o}return t=+t||0,Ht(n)&&(c=!!n.leading,i=(d="maxWait"in n)?Math.max(+n.maxWait||0,t):i,f="trailing"in n?!!n.trailing:f),b.cancel=function(){void 0!==s&&function(e){if(h)return window.cancelAnimationFrame(e);clearTimeout(e)}(s),u=0,r=l=a=s=void 0},b.flush=function(){return void 0===s?o:y(Date.now())},b.pending=function(){return void 0!==s},b}(e,t,{leading:r,trailing:a,maxWait:t})},Wt=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,t);var r=Object.assign({name:"EllipticalRoi",supportedInteractionTypes:["Mouse","Touch"],configuration:{}},n);return(e=l()(this,c()(t).call(this,r))).initialConfiguration=r,e}return f()(t,e),o()(t,[{key:"createNewMeasurement",value:function(e){if(e&&e.currentPoints&&e.currentPoints.image)return{visible:!0,active:!0,color:void 0,invalidated:!0,handles:{start:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!1},end:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!0},textBox:{active:!1,hasMoved:!1,movesIndependently:!1,drawnIndependently:!0,allowedOutsideImage:!0,hasBoundingBox:!0}}};console.error("required eventData not supplied to tool ".concat(this.name,"'s createNewMeasurement"))}},{key:"pointNearTool",value:function(e,t,n,r){var a=t&&t.handles&&t.handles.start&&t.handles.end;if(a||console.warn("invalid parameters supplieed to tool ".concat(this.name,"'s pointNearTool")),!a||!1===t.visible)return!1;var i="mouse"===r?15:25,o=g.cornerstone.pixelToCanvas(e,t.handles.start),s=g.cornerstone.pixelToCanvas(e,t.handles.end),l={left:Math.min(o.x,s.x)+i/2,top:Math.min(o.y,s.y)+i/2,width:Math.abs(o.x-s.x)-i,height:Math.abs(o.y-s.y)-i},u={left:Math.min(o.x,s.x)-i/2,top:Math.min(o.y,s.y)-i/2,width:Math.abs(o.x-s.x)+i,height:Math.abs(o.y-s.y)+i},c=Ut(l,n);return!(!Ut(u,n)||c)}},{key:"renderToolData",value:function(e){var t=this,n=J(e.currentTarget,this.name);if(n){var r=e.detail,a=r.image,i=r.element,o=Ce.getToolWidth(),s=this.configuration,l=s.handleRadius,u=s.drawHandlesOnHover,c=Ke(r.canvasContext.canvas),d=g.cornerstone.metaData.get("generalSeriesModule",a.imageId)||{},f=g.cornerstone.metaData.get("imagePlaneModule",a.imageId),h=d.modality,p=f&&f.rowPixelSpacing&&f.columnPixelSpacing,m={rowPixelSpacing:(f=f||{}).rowPixelSpacing||1,columnPixelSpacing:f.columnPixelSpacing||1};Oe(c,function(e){for(var s=0;s<n.data.length;s++){var c=n.data[s];if(!1!==c.visible){var d=Me.getColorIfActive(c),f={color:d,handleRadius:l,drawHandlesIfActive:u};Je(e,t.configuration),Ne(e,i,c.handles.start,c.handles.end,{color:d}),Ue(e,r,c.handles,f),!0===c.invalidated&&(c.cachedStats?qt(a,i,c,h,m):Gt(a,i,c,h,m)),c.handles.textBox.hasMoved||(c.handles.textBox.x=Math.max(c.handles.start.x,c.handles.end.x),c.handles.textBox.y=(c.handles.start.y+c.handles.end.y)/2);var g=Yt(e,a.color,c.cachedStats,h,p,t.configuration);Ze(e,i,c.handles.textBox,g,c.handles,function(e){return t=e.start,n=e.end,r=Zt(t,n),a=r.left,i=r.top,o=r.width,s=r.height,[{x:a+o/2,y:i},{x:a,y:i+s/2},{x:a+o/2,y:i+s},{x:a+o,y:i+s/2}];var t,n,r,a,i,o,s},d,o,0,!0)}}})}}}]),t}(Te),qt=Vt(Gt,110);function Gt(e,t,n,r,a){var i=function(e,t,n,r,a){var i,o=Zt(n.start,n.end),s=g.cornerstone.getPixels(t,o.left,o.top,o.width,o.height),l=Ft(s,o);return"PT"===r&&(i={mean:jt(e,l.mean,!0)||0,stdDev:jt(e,l.stdDev,!0)||0}),{area:Math.PI*(o.width*(a.columnPixelSpacing||1)/2)*(o.height*(a.rowPixelSpacing||1)/2)||0,count:l.count||0,mean:l.mean||0,variance:l.variance||0,stdDev:l.stdDev||0,min:l.min||0,max:l.max||0,meanStdDevSUV:i}}(e,t,n.handles,r,a);n.cachedStats=i,n.invalidated=!1}function Yt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.area,a=n.mean,i=n.stdDev,o=n.min,s=n.max,l=n.meanStdDevSUV,u=arguments.length>3?arguments[3]:void 0,c=(arguments.length>4&&arguments[4],arguments.length>5&&void 0!==arguments[5]?arguments[5]:{}),d=c.showMinMax||!1,f=!1!==c.showHounsfieldUnits,h=[],p=[];if(!t){var m=l&&0!==l.mean,g="CT"===u&&f?" HU":"",v="Mean: ".concat(zt(a.toFixed(2))).concat(g),y="Std Dev: ".concat(zt(i.toFixed(2))).concat(g);if(m){for(var b="".concat(" SUV: ").concat(zt(l.mean.toFixed(2))),w="".concat(" SUV: ").concat(zt(l.stdDev.toFixed(2))),x=Math.floor(e.measureText("".concat(y,"     ")).width);e.measureText(v).width<x;)v+=" ";p.push("".concat(v).concat(b)),p.push("".concat(y,"     ").concat(w))}else p.push("".concat(v,"     ").concat(y));if(d){for(var E="Min: ".concat(o).concat(g),T="Max: ".concat(s).concat(g),_=m?Math.floor(e.measureText("".concat(y,"     ")).width):Math.floor(e.measureText("".concat(v,"     ")).width);e.measureText(E).width<_;)E+=" ";p.push("".concat(E).concat(T))}}return h.push(function(e,t){var n=" px".concat(String.fromCharCode(178));return"Area: ".concat(zt(e.toFixed(2))).concat(n)}(r)),p.forEach(function(e){return h.push(e)}),h}function Zt(e,t){return{left:Math.round(Math.min(e.x,t.x)),top:Math.round(Math.min(e.y,t.y)),width:Math.round(Math.abs(e.x-t.x)),height:Math.round(Math.abs(e.y-t.y))}}var Xt=n(9),Kt=n.n(Xt),$t=function(e,t){for(var n=!1,r=e.length-1,a=0;a<e.length;a++)Jt(t,e[a],e[r])&&(n=!n),r=a;return n};function Jt(e,t,n){return r=e.y,a=t.y,i=n.y,!(!(a<r&&r<i||i<r&&r<a)||!function(e,t,n){if(t.x>e.x&&n.x>e.x)return!0;if(t.x===n.x)return e.x<t.x;if(t.x>n.x){var r=t;t=n,n=r}var a=function(e,t,n){var r=(n.y-t.y)/(n.x-t.x);return{value:t.x+r*(e.x-t.x),gradient:r}}(e,t,n);return Math.sign(a.gradient)*e.y>a.value}(e,t,n));var r,a,i}function Qt(e,t,n,r){$t(e,t)&&(n.value+=r,n.squared+=r*r,n.count++)}var en=function e(t,n){a()(this,e),this.toolIndex=t,this.handleIndexArray=n},tn=function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];a()(this,e),this.x=t.x,this.y=t.y,this.highlight=n,this.active=r,this.lines=[]};function nn(e,t,n,r){for(var a=e.length-1,i=0;i<e.length;i++)if(-1===r.indexOf(i)&&-1===r.indexOf(a)){if(rn(t,n,an(e[a]),an(e[i])))return!0;a=i}else a=i;return!1}function rn(e,t,n,r){var a=!1,i=[on(e,t,n),on(e,t,r),on(n,r,e),on(n,r,t)];return i[0]!==i[1]&&i[2]!==i[3]||(0===i[0]&&sn(e,n,t)?a=!0:0===i[1]&&sn(e,r,t)?a=!0:0===i[2]&&sn(n,e,r)?a=!0:0===i[3]&&sn(n,t,r)&&(a=!0),a)}function an(e){return{x:e.x,y:e.y}}function on(e,t,n){var r=(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y);return 0===r?0:r>0?1:2}function sn(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}var ln={newHandle:function(e,t){var n=t.length-1;return nn(t,an(t[n]),an(e),[n])},end:function(e){var t=e.length-1;return nn(e,an(e[t]),an(e[0]),[t,0])},modify:function(e,t){var n=an(e[t]),r=t-1;0===t&&(r=e.length-1);var a=an(e[r]);return!!nn(e,n,a,[t,r])||nn(e,n,a=an(e[r=t===e.length-1?0:t+1]),[t,r])}},un=function(){function e(t,n){a()(this,e),this._eventData=t,this._toolName=n}return o()(e,[{key:"findLine",value:function(){var e=this.findTool();if(null===e)return null;var t=this._getCloseLinesInTool(e);return t?this._findCorrectLine(e,t):null}},{key:"findTool",value:function(){return this._toolData=J(this._eventData.element,this._toolName),this._mousePoint=this._eventData.currentPoints.canvas,this._toolData?this._nearestHandleToPointAllTools().toolIndex:null}},{key:"_nearestHandleToPointAllTools",value:function(){for(var e=this._toolData,t={toolIndex:null,handleIndex:null,distance:1/0},n=0;n<e.data.length;n++){var r=this._nearestHandleToPoint(n);null!==r&&r.distance<t.distance&&(t=r)}return t}},{key:"_nearestHandleToPoint",value:function(e){var t=this._eventData,n=this._toolData.data[e];if(void 0===n.handles)return null;if(!1===n.visible)return null;for(var r={toolIndex:e,handleIndex:null,distance:1/0},a=0;a<n.handles.length;a++){var i=g.cornerstone.pixelToCanvas(t.element,n.handles[a]),o=g.cornerstoneMath.point.distance(i,this._mousePoint);o<r.distance&&(r.handleIndex=a,r.distance=o)}return r}},{key:"_getCloseLinesInTool",value:function(t){for(var n=this._toolData.data[t].handles,r=[],a=0;a<n.length;a++){var i=e.getNextHandleIndex(a,n.length);this._distanceOfPointfromLine(n[a],n[i])<10&&r.push([a,i])}return r}},{key:"_findCorrectLine",value:function(e,t){for(var n=0;n<t.length;n++)if(this._pointProjectsToLineSegment(e,t[n]))return new en(e,t[n]);return null}},{key:"_pointProjectsToLineSegment",value:function(t,n){var r=this._eventData,a=this._toolData.data[t];if(void 0!==a.handles){if(!1===a.visible)return!1;var i=a.handles[n[0]],o=a.handles[n[1]],s=e.getCanvasPointsFromHandles(i,o,r.element),l=e.getLineAsVector(s),u=this._getLineOriginToMouseAsVector(s),c=(u[0]*l[0]+u[1]*l[1])/l.magnitude;return c>0&&c<l.magnitude}}},{key:"_getLineOriginToMouseAsVector",value:function(e){return[this._mousePoint.x-e[0].x,this._mousePoint.y-e[0].y]}},{key:"_distanceOfPointfromLine",value:function(e,t){var n=this._eventData,r=g.cornerstone.pixelToCanvas(n.element,e),a=g.cornerstone.pixelToCanvas(n.element,t),i=this._mousePoint;return Math.abs((a.y-r.y)*i.x-(a.x-r.x)*i.y+a.x*r.y-a.y*r.x)/g.cornerstoneMath.point.distance(r,a)}}],[{key:"getCanvasPointsFromHandles",value:function(e,t,n){var r=[];return e.x<t.x?(r.push(g.cornerstone.pixelToCanvas(n,e)),r.push(g.cornerstone.pixelToCanvas(n,t))):(r.push(g.cornerstone.pixelToCanvas(n,t)),r.push(g.cornerstone.pixelToCanvas(n,e))),r}},{key:"getLineAsVector",value:function(e){var t=[e[1].x-e[0].x,e[1].y-e[0].y];return t.magnitude=g.cornerstoneMath.point.distance(e[0],e[1]),t}},{key:"getNextHandleIndex",value:function(e,t){return e<t-1?e+1:0}}]),e}(),cn={calculateFreehandStatistics:function(e,t,n){var r={count:0,mean:0,variance:0,stdDev:0},a=function(e,t,n){for(var r={value:0,squared:0,count:0},a=0,i=t.top;i<t.top+t.height;i++)for(var o=t.left;o<t.left+t.width;o++){var s={x:o,y:i};Qt(n,s,r,e[a]),a++}return r}(e,t,n);return 0===a.count?r:(r.count=a.count,r.mean=a.value/a.count,r.variance=a.squared/a.count-r.mean*r.mean,r.stdDev=Math.sqrt(r.variance),r)},ClickedLineData:en,freehandArea:function(e,t){var n=0,r=e.length-1;t=t||1;for(var a=0;a<e.length;a++)n+=(e[r].x+e[a].x)*(e[r].y-e[a].y),r=a;return Math.abs(n*t/2)},FreehandHandleData:tn,freehandIntersect:ln,FreehandLineFinder:un,insertOrDelete:function(e,t){var n=e.detail;if(t&&null!==t.handleNearby){var r={toolIndex:t.toolIndex,handleIndex:t.handleNearby};(function(e,t){var n=J(e.element,this.name);if(void 0!==n){var r=t.handleIndex,a=t.toolIndex,i=n.data[a];i.handles.length<=3||(r===i.handles.length-1?(i.handles[r-1].lines.pop(),i.handles[r-1].lines.push(i.handles[0])):0===r?(i.handles[i.handles.length-1].lines.pop(),i.handles[i.handles.length-1].lines.push(i.handles[r+1])):(i.handles[r-1].lines.pop(),i.handles[r-1].lines.push(i.handles[r+1])),i.handles.splice(r,1),i.invalidated=!0,i.active=!0,i.highlight=!0,g.cornerstone.updateImage(e.element))}}).call(this,n,r)}else{var a=new un(n,this.name).findLine();a&&function(e,t){var n=J(e.element,this.name);if(void 0!==n){var r=n.data[t.toolIndex],a=function(e){for(var t=e.handleIndexArray,n=1/0,r=t.includes(0),a=0;a<t.length;a++){var i=t[a];0!==i&&i<n&&(n=i)}return r&&1===n&&(n=0),++n}(t);if(a!==1/0){var i=new tn(e.currentPoints.image);r.handles.splice(a,0,i),r.handles[a-1].lines.pop(),r.handles[a-1].lines.push(e.currentPoints.image),a===r.handles.length-1?r.handles[a].lines.push(r.handles[0]):r.handles[a].lines.push(r.handles[a+1]),r.active=!0,r.highlight=!0,r.invalidated=!0,g.cornerstone.updateImage(e.element)}}}.call(this,n,a)}},pointInFreehand:$t},dn=cn.insertOrDelete,fn=cn.freehandArea,hn=cn.calculateFreehandStatistics,pn=cn.freehandIntersect,mn=cn.FreehandHandleData,gn=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,t);var r=Object.assign({name:"FreehandMouse",supportedInteractionTypes:["Mouse"],configuration:{mouseLocation:{handles:{start:{highlight:!0,active:!0}}},spacing:5,activeHandleRadius:3,completeHandleRadius:6,alwaysShowHandles:!1,invalidColor:"crimson",currentHandle:0,currentTool:-1}},n);return(e=l()(this,c()(t).call(this,r))).initialConfiguration=r,e._drawing=!1,e._dragging=!1,e._modifying=!1,e._drawingMouseDownCallback=e._drawingMouseDownCallback.bind(ct()(ct()(e))),e._drawingMouseMoveCallback=e._drawingMouseMoveCallback.bind(ct()(ct()(e))),e._drawingMouseDragCallback=e._drawingMouseDragCallback.bind(ct()(ct()(e))),e._drawingMouseUpCallback=e._drawingMouseUpCallback.bind(ct()(ct()(e))),e._editMouseUpCallback=e._editMouseUpCallback.bind(ct()(ct()(e))),e._editMouseDragCallback=e._editMouseDragCallback.bind(ct()(ct()(e))),e}return f()(t,e),o()(t,[{key:"createNewMeasurement",value:function(e){if(e&&e.currentPoints&&e.currentPoints.image){var t={visible:!0,active:!0,invalidated:!0,color:void 0,handles:[]};return t.handles.textBox={active:!1,hasMoved:!1,movesIndependently:!1,drawnIndependently:!0,allowedOutsideImage:!0,hasBoundingBox:!0},t}console.error("required eventData not supplied to tool ".concat(this.name,"'s createNewMeasurement"))}},{key:"pointNearTool",value:function(e,t,n){var r=t&&t.handles;if(!r)throw new Error("invalid parameters supplied to tool ".concat(this.name,"'s pointNearTool"));return!(!r||!1===t.visible)&&void 0!==this._pointNearHandle(e,t,n)}},{key:"distanceFromPoint",value:function(e,t,n){for(var r=1/0,a=0;a<t.handles.length;a++){var i=g.cornerstoneMath.point.distance(t.handles[a],n);r=Math.min(r,i)}return r===1/0?-1:r}},{key:"distanceFromPointCanvas",value:function(e,t,n){for(var r=1/0,a=g.cornerstone.pixelToCanvas(e,n),i=t.handles,o=0;o<i.length;o++){var s=g.cornerstone.pixelToCanvas(e,i[o]),l=g.cornerstoneMath.point.distance(s,a);r=Math.min(r,l)}return r===1/0?-1:r}},{key:"renderToolData",value:function(e){var t=this,n=e.detail,r=J(e.currentTarget,this.name);if(r){var a,i=n.image,o=n.element,s=this.configuration,l=g.cornerstone.metaData.get("generalSeriesModule",i.imageId);l&&(a=l.modality);for(var u=Ke(n.canvasContext.canvas),c=Ce.getToolWidth(),d=function(e){var l=r.data[e];if(!1===l.visible)return"continue";Oe(u,function(e){var r,u=Me.getColorIfActive(l);if(l.active?l.handles.invalidHandlePlacement?(u=s.invalidColor,r=s.invalidColor):(u=Me.getColorIfActive(l),r=Me.getFillColor()):r=Me.getToolColor(),l.handles.length)for(var d=0;d<l.handles.length;d++){var f=Kt()(l.handles[d].lines);d!==l.handles.length-1||l.polyBoundingBox||f.push(s.mouseLocation.handles.start),Le(e,n.element,l.handles[d],f,{color:u})}var p,m,v,y={color:u,fill:r};if((s.alwaysShowHandles||l.active&&l.polyBoundingBox)&&(y.handleRadius=s.activeHandleRadius,Ue(e,n,l.handles,y)),l.canComplete&&(y.handleRadius=s.completeHandleRadius,Ue(e,n,[l.handles[0]],y)),l.active&&!l.polyBoundingBox&&(y.handleRadius=s.activeHandleRadius,Ue(e,n,s.mouseLocation.handles,y),Ue(e,n,[l.handles[0]],y)),!1===l.invalidated)m=l.meanStdDev,v=l.meanStdDevSUV,p=l.area;else if(!l.active){for(var b={left:l.handles[0].x,right:l.handles[0].x,bottom:l.handles[0].y,top:l.handles[0].x},w=0;w<l.handles.length;w++)b.left=Math.min(b.left,l.handles[w].x),b.right=Math.max(b.right,l.handles[w].x),b.bottom=Math.min(b.bottom,l.handles[w].y),b.top=Math.max(b.top,l.handles[w].y);var x={left:b.left,top:b.bottom,width:Math.abs(b.right-b.left),height:Math.abs(b.top-b.bottom)};if(l.polyBoundingBox=x,!i.color){var E=g.cornerstone.getPixels(o,x.left,x.top,x.width,x.height);m=hn.call(t,E,x,l.handles),"PT"===a&&(v={mean:jt(i,(m.mean-i.intercept)/i.slope),stdDev:jt(i,(m.stdDev-i.intercept)/i.slope)}),m&&!isNaN(m.mean)&&(l.meanStdDev=m,l.meanStdDevSUV=v)}var T=(i.columnPixelSpacing||1)*(i.rowPixelSpacing||1);p=fn(l.handles,T),isNaN(p)||(l.area=p),l.invalidated=!1}if(l.polyBoundingBox&&!l.handles.textBox.freehand){l.handles.textBox.hasMoved||(l.handles.textBox.x=l.polyBoundingBox.left+l.polyBoundingBox.width,l.handles.textBox.y=l.polyBoundingBox.top+l.polyBoundingBox.height/2);var _=function(e){var t=e.meanStdDev,n=e.meanStdDevSUV,r=e.area,o=[];if(t&&void 0!==t.mean){var s="";"CT"===a&&(s=" HU");var l="Mean: ".concat(zt(t.mean.toFixed(2))).concat(s),u="StdDev: ".concat(zt(t.stdDev.toFixed(2))).concat(s);n&&void 0!==n.mean&&(l+=" SUV: "+zt(n.mean.toFixed(2)),u+=" SUV: "+zt(n.stdDev.toFixed(2))),o.push(l),o.push(u)}if(r){var c=" mm".concat(String.fromCharCode(178));i.rowPixelSpacing&&i.columnPixelSpacing||(c=" pixels".concat(String.fromCharCode(178)));var d="Area: ".concat(zt(r.toFixed(2))).concat(c);o.push(d)}return o}.call(t,l);Ze(e,o,l.handles.textBox,_,l.handles,h,u,c,0,!0)}})},f=0;f<r.data.length;f++)d(f)}function h(e){return e}}},{key:"addNewMeasurement",value:function(e,t){var n=e.detail;this.configuration,this._drawing=!0,this._startDrawing(n),this._addPoint(n),vn(e)}},{key:"preMouseDownCallback",value:function(e){var t=e.detail,n=this._pointNearHandleAllTools(t);return!!t.event.ctrlKey&&(void 0!==n&&n.handleNearby.hasBoundingBox||dn.call(this,e,n),vn(e),!0)}},{key:"handleSelectedCallback",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"mouse",a=e.detail,i=a.element;if(n.hasBoundingBox)we(e,this,t,n,r);else{var o=this.configuration;o.dragOrigin={x:n.x,y:n.y};var s=this._pointNearHandleAllTools(a),l=s.handleNearby,u=s.toolIndex;this._modifying=!0,o.currentHandle=l,o.currentTool=u,this._activateModify(i),k.isToolLocked=!0,vn(e)}}},{key:"_drawingMouseMoveCallback",value:function(e){var t=e.detail,n=t.element,r=J(t.element,this.name),a=this.configuration,i=a.currentTool,o=r.data[i],s=t.currentPoints.canvas;this._getMouseLocation(t),this._checkInvalidHandleLocation(o,t);var l=this._pointNearHandle(n,o,s);void 0!==l&&!l.hasBoundingBox&&l<o.handles.length-1&&(a.mouseLocation.handles.start.x=o.handles[l].x,a.mouseLocation.handles.start.y=o.handles[l].y),g.cornerstone.updateImage(t.element)}},{key:"_drawingMouseDragCallback",value:function(e){var t=e.detail,n=(t.element,J(t.element,this.name)),r=this.configuration.currentTool,a=n.data[r];t.currentPoints.canvas,this._getMouseLocation(t),this._checkInvalidHandleLocation(a,t),this._addPointPencilMode(t,a.handles),this._dragging=!0,g.cornerstone.updateImage(t.element)}},{key:"_drawingMouseUpCallback",value:function(e){if(this._dragging){this._dragging=!1;var t=e.detail,n=t.element,r=t.currentPoints.canvas,a=this.configuration,i=a.currentTool,o=J(t.element,this.name).data[i];if(this._pointNearHandle(n,o,r),!pn.end(o.handles)&&o.canComplete){var s=a.currentHandle;this._endDrawing(n,s)}vn(e)}}},{key:"_drawingMouseDownCallback",value:function(e){var t=e.detail,n=t.element,r=t.currentPoints.canvas,a=this.configuration,i=a.currentTool,o=J(t.element,this.name).data[i],s=this._pointNearHandle(n,o,r);if(!pn.end(o.handles)&&o.canComplete){var l=a.currentHandle;this._endDrawing(n,l)}else void 0===s&&this._addPoint(t);vn(e)}},{key:"_editMouseDragCallback",value:function(e){var t=e.detail,n=J(t.element,this.name),r=this.configuration,a=n.data[r.currentTool],i=r.currentHandle;if(this._getMouseLocation(t),a.handles.invalidHandlePlacement=pn.modify(a.handles,i),a.active=!0,a.highlight=!0,a.handles[i].x=r.mouseLocation.handles.start.x,a.handles[i].y=r.mouseLocation.handles.start.y,0!==i){var o=a.handles[i-1].lines.length-1,s=a.handles[i-1].lines[o];s.x=r.mouseLocation.handles.start.x,s.y=r.mouseLocation.handles.start.y}g.cornerstone.updateImage(t.element)}},{key:"_editMouseUpCallback",value:function(e){var t=e.detail,n=t.element,r=J(t.element,this.name);this._deactivateModify(n),this._dropHandle(t,r),this._endDrawing(n),k.isToolLocked=!1,g.cornerstone.updateImage(t.element)}},{key:"_dropHandle",value:function(e,t){var n=this.configuration,r=n.currentTool,a=t.data[r].handles;if(a.invalidHandlePlacement){var i,o=n.currentHandle,s=a[o];i=0===o?a[a.length-1]:a[o-1],s.x=n.dragOrigin.x,s.y=n.dragOrigin.y,i.lines[0]=s,a.invalidHandlePlacement=!1}}},{key:"_startDrawing",value:function(e){var t=this.createNewMeasurement(e),n=e.element,r=this.configuration;k.isToolLocked=!0,this._referencedElement=n,this._activateDraw(n),this._getMouseLocation(e),$(e.element,this.name,t);var a=J(e.element,this.name);r.currentTool=a.data.length-1}},{key:"_addPoint",value:function(e){var t=J(e.element,this.name),n=this.configuration,r=t.data[n.currentTool];if(!r.handles.invalidHandlePlacement){var a=new mn(e.currentPoints.image);r.handles.length&&r.handles[n.currentHandle-1].lines.push(e.currentPoints.image),r.handles.push(a),n.currentHandle+=1,g.cornerstone.updateImage(e.element)}}},{key:"_addPointPencilMode",value:function(e,t){var n=this,r=this.configuration,a=e.element,i=r.mouseLocation.handles.start;t.every(function(e){return n._isDistanceLargerThanSpacingCanvas(a,e,i)})&&this._addPoint(e)}},{key:"_endDrawing",value:function(e,t){var n=J(e,this.name),r=this.configuration,a=n.data[r.currentTool];a.active=!1,a.highlight=!1,a.handles.invalidHandlePlacement=!1,void 0!==t&&a.handles[r.currentHandle-1].lines.push(a.handles[0]),this._modifying&&(this._modifying=!1,a.invalidated=!0),r.currentHandle=0,r.currentTool=-1,a.canComplete=!1,this._drawing&&(this._drawing=!1,k.isToolLocked=!1,this._deactivateDraw(e)),g.cornerstone.updateImage(e)}},{key:"_pointNearHandle",value:function(e,t,n){var r=this.configuration;if(void 0!==t.handles&&!1!==t.visible){for(var a=0;a<t.handles.length;a++){var i=g.cornerstone.pixelToCanvas(e,t.handles[a]);if(g.cornerstoneMath.point.distance(i,n)<r.spacing)return a}return t.handles.textBox&&ne(t.handles.textBox,n)?t.handles.textBox:void 0}}},{key:"_pointNearHandleAllTools",value:function(e){var t=e.element,n=e.currentPoints.canvas,r=J(t,this.name);if(r)for(var a,i=0;i<r.data.length;i++)if(void 0!==(a=this._pointNearHandle(t,r.data[i],n)))return{handleNearby:a,toolIndex:i}}},{key:"_getMouseLocation",value:function(e){var t=this.configuration;t.mouseLocation.handles.start.x=e.currentPoints.image.x,t.mouseLocation.handles.start.y=e.currentPoints.image.y,le(t.mouseLocation.handles.start,e.image)}},{key:"_checkInvalidHandleLocation",value:function(e,t){var n;if(this.configuration,e.handles.length<2)return!0;n=this._dragging?this._checkHandlesPencilMode(e,t):this._checkHandlesPolygonMode(e,t),e.handles.invalidHandlePlacement=n}},{key:"_checkHandlesPolygonMode",value:function(e,t){var n=this.configuration,r=t.element,a=n.mouseLocation.handles.start,i=e.handles,o=!1;return e.canComplete=!1,this._isDistanceSmallerThanSpacingCanvas(r,i[0],a)&&!pn.end(i)?(e.canComplete=!0,o=!1):o=pn.newHandle(a,i),o}},{key:"_checkHandlesPencilMode",value:function(e,t){var n=this.configuration.mouseLocation.handles.start,r=e.handles,a=pn.newHandle(n,r);return!1===a&&(a=this._invalidHandlePencilMode(e,t)),a}},{key:"_invalidHandlePencilMode",value:function(e,t){var n=this.configuration,r=t.element,a=n.mouseLocation.handles.start,i=e.handles;if(this._isDistanceSmallerThanSpacingCanvas(r,i[0],a))return e.canComplete=!0,!1;e.canComplete=!1;for(var o=1;o<i.length-1;o++)if(this._isDistanceSmallerThanSpacingCanvas(r,i[o],a))return!0;return!1}},{key:"_isDistanceSmallerThanSpacingCanvas",value:function(e,t,n){return this._compareDistanceToSpacingCanvas(e,t,n,"<")}},{key:"_isDistanceLargerThanSpacingCanvas",value:function(e,t,n){return this._compareDistanceToSpacingCanvas(e,t,n,">")}},{key:"_compareDistanceToSpacingCanvas",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:">",a=this.configuration;return g.cornerstone.pixelToCanvas(e,t),g.cornerstone.pixelToCanvas(e,n),">"===r?g.cornerstoneMath.point.distance(t,n)>a.spacing:g.cornerstoneMath.point.distance(t,n)<a.spacing}},{key:"_activateDraw",value:function(e){e.addEventListener(b.MOUSE_DOWN,this._drawingMouseDownCallback),e.addEventListener(b.MOUSE_MOVE,this._drawingMouseMoveCallback),e.addEventListener(b.MOUSE_DRAG,this._drawingMouseDragCallback),e.addEventListener(b.MOUSE_UP,this._drawingMouseUpCallback),g.cornerstone.updateImage(e)}},{key:"_deactivateDraw",value:function(e){e.removeEventListener(b.MOUSE_DOWN,this._drawingMouseDownCallback),e.removeEventListener(b.MOUSE_MOVE,this._drawingMouseMoveCallback),e.removeEventListener(b.MOUSE_DRAG,this._drawingMouseDragCallback),e.removeEventListener(b.MOUSE_UP,this._drawingMouseUpCallback),g.cornerstone.updateImage(e)}},{key:"_activateModify",value:function(e){e.addEventListener(b.MOUSE_UP,this._editMouseUpCallback),e.addEventListener(b.MOUSE_DRAG,this._editMouseDragCallback),e.addEventListener(b.MOUSE_CLICK,this._editMouseUpCallback),g.cornerstone.updateImage(e)}},{key:"_deactivateModify",value:function(e){e.removeEventListener(b.MOUSE_UP,this._editMouseUpCallback),e.removeEventListener(b.MOUSE_DRAG,this._editMouseDragCallback),e.removeEventListener(b.MOUSE_CLICK,this._editMouseUpCallback),g.cornerstone.updateImage(e)}},{key:"passiveCallback",value:function(e){this._closeToolIfDrawing(e)}},{key:"enabledCallback",value:function(e){this._closeToolIfDrawing(e)}},{key:"disabledCallback",value:function(e){this._closeToolIfDrawing(e)}},{key:"_closeToolIfDrawing",value:function(e){if(this._drawing){var t=this.configuration.currentHandle;this._endDrawing(e,t),g.cornerstone.updateImage(e)}}},{key:"spacing",get:function(){return this.configuration.spacing},set:function(e){if("number"!=typeof e)throw new Error("Attempting to set freehand spacing to a value other than a number.");this.configuration.spacing=e,g.cornerstone.updateImage(this.element)}},{key:"activeHandleRadius",get:function(){return this.configuration.activeHandleRadius},set:function(e){if("number"!=typeof e)throw new Error("Attempting to set freehand activeHandleRadius to a value other than a number.");this.configuration.activeHandleRadius=e,g.cornerstone.updateImage(this.element)}},{key:"completeHandleRadius",get:function(){return this.configuration.completeHandleRadius},set:function(e){if("number"!=typeof e)throw new Error("Attempting to set freehand completeHandleRadius to a value other than a number.");this.configuration.completeHandleRadius=e,g.cornerstone.updateImage(this.element)}},{key:"alwaysShowHandles",get:function(){return this.configuration.alwaysShowHandles},set:function(e){if("boolean"!=typeof e)throw new Error("Attempting to set freehand alwaysShowHandles to a value other than a boolean.");this.configuration.alwaysShowHandles=e,g.cornerstone.updateImage(this.element)}},{key:"invalidColor",get:function(){return this.configuration.invalidColor},set:function(e){this.configuration.invalidColor=e,g.cornerstone.updateImage(this.element)}}]),t}(Te);function vn(e){e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault()}var yn=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,t);var r=Object.assign({name:"Length",supportedInteractionTypes:["Mouse","Touch"]},n);return(e=l()(this,c()(t).call(this,r))).initialConfiguration=r,e}return f()(t,e),o()(t,[{key:"createNewMeasurement",value:function(e){if(e&&e.currentPoints&&e.currentPoints.image){var t=e.currentPoints.image,n=t.x,r=t.y;return{visible:!0,active:!0,color:void 0,handles:{start:{x:n,y:r,highlight:!0,active:!1},end:{x:n,y:r,highlight:!0,active:!0},textBox:{active:!1,hasMoved:!1,movesIndependently:!1,drawnIndependently:!0,allowedOutsideImage:!0,hasBoundingBox:!0}}}}console.error("required eventData not supplied to tool ".concat(this.name,"'s createNewMeasurement"))}},{key:"pointNearTool",value:function(e,t,n){var r=t&&t.handles&&t.handles.start&&t.handles.end;return r||console.warn("invalid parameters supplieed to tool ".concat(this.name,"'s pointNearTool")),!(!r||!1===t.visible)&&tt(e,t.handles.start,t.handles.end,n)<25}},{key:"renderToolData",value:function(e){var t=this,n=e.detail,r=this.configuration,a=r.handleRadius,i=r.drawHandlesOnHover,o=J(e.currentTarget,this.name);if(o){var s,l,u=Ke(n.canvasContext.canvas),c=n.image,d=n.element,f=Ce.getToolWidth(),h=g.cornerstone.metaData.get("imagePlaneModule",c.imageId);h?(s=h.rowPixelSpacing||h.rowImagePixelSpacing,l=h.columnPixelSpacing||h.colImagePixelSpacing):(s=c.rowPixelSpacing,l=c.columnPixelSpacing);for(var p=function(e){var r=o.data[e];if(!1===r.visible)return"continue";Oe(u,function(e){Je(e,t.configuration);var o=Me.getColorIfActive(r);Ae(e,d,r.handles.start,r.handles.end,{color:o});var u={color:o,handleRadius:a,drawHandlesIfActive:i};Ue(e,n,r.handles,u);var c=(r.handles.end.x-r.handles.start.x)*(l||1),h=(r.handles.end.y-r.handles.start.y)*(s||1),p=Math.sqrt(c*c+h*h);if(r.length=p,!r.handles.textBox.hasMoved){var m={x:Math.max(r.handles.start.x,r.handles.end.x)};m.x===r.handles.start.x?m.y=r.handles.start.y:m.y=r.handles.end.y,r.handles.textBox.x=m.x,r.handles.textBox.y=m.y}var g=function(e,t,n){var r=" mm";return r=" pixels","".concat(e.length.toFixed(2)).concat(r)}(r);Ze(e,d,r.handles.textBox,g,r.handles,v,o,f,10,!0)})},m=0;m<o.data.length;m++)p(m)}function v(e){var t={x:(e.start.x+e.end.x)/2,y:(e.start.y+e.end.y)/2};return[e.start,t,e.end]}}}]),t}(Te),bn=function(e,t,n,r,a){if(!e)throw new Error("getRGBPixels: parameter element must not be undefined");t=Math.round(t),n=Math.round(n);var i,o,s,l=g.cornerstone.getEnabledElement(e),u=[],c=0,d=l.image.getPixelData();if(l.image.color)for(o=0;o<a;o++)for(s=0;s<r;s++){var f=d[i=4*((o+n)*l.image.columns+(s+t))],h=d[i+1],p=d[i+2],m=d[i+3];u[c++]=f,u[c++]=h,u[c++]=p,u[c++]=m}return u},wn=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,t);var r=Object.assign({name:"Probe",supportedInteractionTypes:["Mouse","Touch"]},n);return(e=l()(this,c()(t).call(this,r))).initialConfiguration=r,e}return f()(t,e),o()(t,[{key:"createNewMeasurement",value:function(e){if(e&&e.currentPoints&&e.currentPoints.image)return{visible:!0,active:!0,color:void 0,handles:{end:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!0}}};console.error("required eventData not supplieed to tool ".concat(this.name,"'s createNewMeasurement"))}},{key:"pointNearTool",value:function(e,t,n){var r=t&&t.handles&&t.handles.end;if(r||console.warn("invalid parameters supplieed to tool ".concat(this.name,"'s pointNearTool")),!r||!1===t.visible)return!1;var a=g.cornerstone.pixelToCanvas(e,t.handles.end);return g.cornerstoneMath.point.distance(a,n)<5}},{key:"renderToolData",value:function(e){var t=e.detail,n=this.configuration.handleRadius,r=J(e.currentTarget,this.name);if(r)for(var a=Ke(t.canvasContext.canvas),i=t.image,o=Ve.getFontSize(),s=function(e){var s=r.data[e];if(!1===s.visible)return"continue";Oe(a,function(e){var r=Me.getColorIfActive(s);Ue(e,t,s.handles,{handleRadius:n,color:r});var a,l,u,c=Math.round(s.handles.end.x),d=Math.round(s.handles.end.y);if(c>=0&&d>=0&&c<i.columns&&d<i.rows){if(l="".concat(c,", ").concat(d),i.color)a=bn(t.element,c,d,1,1),u="R: ".concat(a[0]," G: ").concat(a[1]," B: ").concat(a[2]);else{var f=(a=g.cornerstone.getStoredPixels(t.element,c,d,1,1))[0],h=f*i.slope+i.intercept,p=jt(i,f);u="SP: ".concat(f," MO: ").concat(parseFloat(h.toFixed(3))),p&&(u+=" SUV: ".concat(parseFloat(p.toFixed(3))))}var m={x:s.handles.end.x+3,y:s.handles.end.y-3},v=g.cornerstone.pixelToCanvas(t.element,m);Ye(e,u,v.x,v.y+o+5,r),Ye(e,l,v.x,v.y,r)}})},l=0;l<r.data.length;l++)s(l)}}]),t}(Te),xn=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,t);var r=Object.assign({name:"RectangleRoi",supportedInteractionTypes:["Mouse","Touch"],configuration:{}},n);return(e=l()(this,c()(t).call(this,r))).initialConfiguration=r,e}return f()(t,e),o()(t,[{key:"createNewMeasurement",value:function(e){if(e&&e.currentPoints&&e.currentPoints.image)return{visible:!0,active:!0,color:void 0,invalidated:!0,handles:{start:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!1},end:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!0},textBox:{active:!1,hasMoved:!1,movesIndependently:!1,drawnIndependently:!0,allowedOutsideImage:!0,hasBoundingBox:!0}}};console.error("required eventData not supplied to tool ".concat(this.name,"'s createNewMeasurement"))}},{key:"pointNearTool",value:function(e,t,n,r){var a=t&&t.handles&&t.handles.start&&t.handles.end;if(a||console.warn("invalid parameters supplieed to tool ".concat(this.name,"'s pointNearTool")),!a||!1===t.visible)return!1;var i="mouse"===r?15:25,o=g.cornerstone.pixelToCanvas(e,t.handles.start),s=g.cornerstone.pixelToCanvas(e,t.handles.end),l={left:Math.min(o.x,s.x),top:Math.min(o.y,s.y),width:Math.abs(o.x-s.x),height:Math.abs(o.y-s.y)};return g.cornerstoneMath.rect.distanceToPoint(l,n)<i}},{key:"renderToolData",value:function(e){var t=this,n=J(e.currentTarget,this.name);if(n){var r=e.detail,a=r.image,i=r.element,o=Ce.getToolWidth(),s=this.configuration,l=s.handleRadius,u=s.drawHandlesOnHover,c=Ke(r.canvasContext.canvas),d=g.cornerstone.metaData.get("generalSeriesModule",a.imageId)||{},f=g.cornerstone.metaData.get("imagePlaneModule",a.imageId),h=d.modality,p=f&&f.rowPixelSpacing&&f.columnPixelSpacing,m={rowPixelSpacing:(f=f||{}).rowPixelSpacing||1,columnPixelSpacing:f.columnPixelSpacing||1};Oe(c,function(e){for(var s=0;s<n.data.length;s++){var c=n.data[s];if(!1!==c.visible){var d=Me.getColorIfActive(c),f={color:d,handleRadius:l,drawHandlesIfActive:u};Je(e,t.configuration),Xe(e,i,c.handles.start,c.handles.end,{color:d}),Ue(e,r,c.handles,f),!0===c.invalidated&&(c.cachedStats?En(a,i,c,h,m):Tn(a,i,c,h,m)),c.handles.textBox.hasMoved||(c.handles.textBox.x=Math.max(c.handles.start.x,c.handles.end.x),c.handles.textBox.y=(c.handles.start.y+c.handles.end.y)/2);var g=Sn(e,a.color,c.cachedStats,h,p,t.configuration);Ze(e,i,c.handles.textBox,g,c.handles,function(e){return t=e.start,n=e.end,r=_n(t,n),a=r.left,i=r.top,o=r.width,s=r.height,[{x:a+o/2,y:i},{x:a,y:i+s/2},{x:a+o/2,y:i+s},{x:a+o,y:i+s/2}];var t,n,r,a,i,o,s},d,o,0,!0)}}})}}}]),t}(Te),En=Vt(Tn,110);function Tn(e,t,n,r,a){var i=function(e,t,n,r,a){var i,o=_n(n.start,n.end),s=function(e,t){for(var n=0,r=0,a=0,i=0,o=e?e[0]:null,s=e?e[0]:null,l=t.top;l<t.top+t.height;l++)for(var u=t.left;u<t.left+t.width;u++)n+=e[i],r+=e[i]*e[i],o=Math.min(o,e[i]),s=Math.max(s,e[i]),a++,i++;if(0===a)return{count:a,mean:0,variance:0,stdDev:0,min:0,max:0};var c=n/a,d=r/a-c*c;return{count:a,mean:c,variance:d,stdDev:Math.sqrt(d),min:o,max:s}}(g.cornerstone.getPixels(t,o.left,o.top,o.width,o.height),o);return"PT"===r&&(i={mean:jt(e,s.mean,!0)||0,stdDev:jt(e,s.stdDev,!0)||0}),{area:o.width*(a.columnPixelSpacing||1)*(o.height*(a.rowPixelSpacing||1))||0,count:s.count||0,mean:s.mean||0,variance:s.variance||0,stdDev:s.stdDev||0,min:s.min||0,max:s.max||0,meanStdDevSUV:i}}(e,t,n.handles,r,a);n.cachedStats=i,n.invalidated=!1}function _n(e,t){return{left:Math.min(e.x,t.x),top:Math.min(e.y,t.y),width:Math.abs(e.x-t.x),height:Math.abs(e.y-t.y)}}function Sn(e,t,n,r,a){var i=n.area,o=n.mean,s=n.stdDev,l=n.min,u=n.max,c=n.meanStdDevSUV,d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},f=d.showMinMax||!1,h=!1!==d.showHounsfieldUnits,p=[],m=[];if(!t){var g=c&&0!==c.mean,v="CT"===r&&h?" HU":"",y="Mean: ".concat(zt(o.toFixed(2))).concat(v),b="Std Dev: ".concat(zt(s.toFixed(2))).concat(v);if(g){for(var w="".concat(" SUV: ").concat(zt(c.mean.toFixed(2))),x="".concat(" SUV: ").concat(zt(c.stdDev.toFixed(2))),E=Math.floor(e.measureText("".concat(b,"     ")).width);e.measureText(y).width<E;)y+=" ";m.push("".concat(y).concat(w)),m.push("".concat(b,"     ").concat(x))}else m.push("".concat(y,"     ").concat(b));if(f){for(var T="Min: ".concat(l).concat(v),_="Max: ".concat(u).concat(v),S=g?Math.floor(e.measureText("".concat(b,"     ")).width):Math.floor(e.measureText("".concat(y,"     ")).width);e.measureText(T).width<S;)T+=" ";m.push("".concat(T).concat(_))}}return p.push(function(e,t){var n=" px".concat(String.fromCharCode(178));return"Area: ".concat(zt(e.toFixed(2))).concat(n)}(i)),m.forEach(function(e){return p.push(e)}),p}var Cn,kn,Pn,In=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,t);var r={name:"TextMarker",supportedInteractionTypes:["Mouse","Touch"],configuration:{markers:[],current:"",ascending:!0,loop:!1,changeTextCallback:Mn}},i=Object.assign(r,n);return(e=l()(this,c()(t).call(this,i))).initialConfiguration=i,e.touchPressCallback=e._changeText.bind(ct()(ct()(e))),e.doubleClickCallback=e._changeText.bind(ct()(ct()(e))),e}return f()(t,e),o()(t,[{key:"createNewMeasurement",value:function(e){var t=this.configuration;if(t.current){var n={visible:!0,active:!0,text:t.current,color:void 0,handles:{end:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!0,hasBoundingBox:!0}}},r={left:0,top:0,width:e.image.width,height:e.image.height};if(g.cornerstoneMath.point.insideRect(n.handles.end,r)){var a=t.markers.indexOf(t.current);return(a+=t.ascending?1:-1)>=t.markers.length?a=t.loop?0:-1:a<0&&(a=t.loop?t.markers.length:-1),t.current=t.markers[a],n}}}},{key:"pointNearTool",value:function(e,t,n){if(!1===t.visible)return!1;if(t.handles.end.boundingBox){var r=g.cornerstoneMath.rect.distanceToPoint(t.handles.end.boundingBox,n),a=ne(t.handles.end,n);return r<10||a}}},{key:"renderToolData",value:function(e){var t=e.detail,n=this.configuration,r=J(t.element,this.name);if(r)for(var a=Ke(t.canvasContext.canvas),i=function(e){var i=r.data[e];if(!1===i.visible)return"continue";var o=Me.getColorIfActive(i);Oe(a,function(e){Je(e,n);var r=g.cornerstone.pixelToCanvas(t.element,i.handles.end);i.handles.end.boundingBox=Ye(e,i.text,r.x,r.y-10,o,{centering:{x:!0,y:!0}})})},o=0;o<r.data.length;o++)i(o)}},{key:"_changeText",value:function(e){var t,n=e.detail,r=n.element,a=n.currentPoints;function i(e,t,n){!0===n?Q(r,this.name,e):e.text=t,e.active=!1,g.cornerstone.updateImage(r)}var o=this.configuration,s=a.canvas,l=J(r,this.name);if(l)for(var u=0;u<l.data.length;u++)if(t=l.data[u],this.pointNearTool(r,t,s))return t.active=!0,g.cornerstone.updateImage(r),o.changeTextCallback(t,n,i),e.stopImmediatePropagation(),e.preventDefault(),void e.stopPropagation()}}]),t}(Te),Mn=function(e,t,n){n(e,prompt("Change your annotation:"))},On=M.modules.brush,Dn=On.state,An=On.setters,Ln=function(e){function t(e){var n,r=e.name,i=e.strategies,o=e.defaultStrategy,s=e.configuration,u=e.supportedInteractionTypes,d=e.mixins;return a()(this,t),s.referencedToolData="brush",(n=l()(this,c()(t).call(this,{name:r,strategies:i,defaultStrategy:o,configuration:s,supportedInteractionTypes:u,mixins:d}))).hasCursor=!0,n._drawing=!1,n._drawingMouseUpCallback=n._drawingMouseUpCallback.bind(ct()(ct()(n))),n}return f()(t,e),o()(t,[{key:"renderBrush",value:function(e){throw new Error("Method renderBrush not implemented for ".concat(this.name,"."))}},{key:"_paint",value:function(e){throw new Error("Method _paint not implemented for ".concat(this.name,"."))}},{key:"mouseDragCallback",value:function(e){this._startPainting(e)}},{key:"preMouseDownCallback",value:function(e){return this._startPainting(e),!0}},{key:"_startPainting",value:function(e){var t=e.detail,n=t.element;this._paint(e),this._drawing=!0,this._startListeningForMouseUp(n),this._lastImageCoords=t.currentPoints.image}},{key:"mouseMoveCallback",value:function(e){var t=e.detail.currentPoints;this._lastImageCoords=t.image}},{key:"passiveCallback",value:function(e){g.cornerstone.updateImage(this.element)}},{key:"renderToolData",value:function(e){(function(e,t){return"active"===O(e,t).mode})(e.detail.element,this.name)&&this.renderBrush(e)}},{key:"_getBrushColor",value:function(e){var t=g.cornerstone.colors.getColormap(Dn.colorMapId).getColor(e);return this._drawing?"rgba(".concat(t[[0]],", ").concat(t[[1]],", ").concat(t[[2]],", 1.0 )"):"rgba(".concat(t[[0]],", ").concat(t[[1]],", ").concat(t[[2]],", 0.8 )")}},{key:"_drawingMouseUpCallback",value:function(e){var t=e.detail.element;this._drawing=!1,this._mouseUpRender=!0,this._stopListeningForMouseUp(t)}},{key:"_startListeningForMouseUp",value:function(e){e.removeEventListener(b.MOUSE_UP,this._drawingMouseUpCallback),e.removeEventListener(b.MOUSE_CLICK,this._drawingMouseUpCallback),e.addEventListener(b.MOUSE_UP,this._drawingMouseUpCallback),e.addEventListener(b.MOUSE_CLICK,this._drawingMouseUpCallback),g.cornerstone.updateImage(e)}},{key:"_stopListeningForMouseUp",value:function(e){e.removeEventListener(b.MOUSE_UP,this._drawingMouseUpCallback),e.removeEventListener(b.MOUSE_CLICK,this._drawingMouseUpCallback),g.cornerstone.updateImage(e)}},{key:"nextSegmentation",value:function(){var e=this.constructor.getNumberOfColors(),t=Dn.drawColorId+1;t===e&&(t=0),Dn.drawColorId=t}},{key:"previousSegmentation",value:function(){var e=this.constructor.getNumberOfColors(),t=Dn.drawColorId-1;t<0&&(t=e-1),Dn.drawColorId=t}},{key:"increaseBrushSize",value:function(){var e=Dn.radius,t=Math.floor(1.2*e);t===e&&(t+=1),An.radius(t)}},{key:"decreaseBrushSize",value:function(){var e=Dn.radius,t=Math.floor(.8*e);An.radius(t)}},{key:"showSegmentationOnElement",value:function(e){var t=this._getEnabledElement(),n=t.uuid;An.brushVisibilityForElement(n,e,!0),g.cornerstone.updateImage(t.element)}},{key:"hideSegmentationOnElement",value:function(e){var t=this._getEnabledElement(),n=t.uuid;An.brushVisibilityForElement(n,e,!1),g.cornerstone.updateImage(t.element)}},{key:"showAllSegmentationsOnElement",value:function(){for(var e=this._getEnabledElement(),t=e.uuid,n=g.cornerstone.colors.getColormap(Dn.colorMapId).getNumberOfColors(),r=0;r<n;r++)An.brushVisibilityForElement(t,r,!0);g.cornerstone.updateImage(e.element)}},{key:"hideAllSegmentationsOnElement",value:function(){for(var e=this._getEnabledElement(),t=e.uuid,n=g.cornerstone.colors.getColormap(Dn.colorMapId).getNumberOfColors(),r=0;r<n;r++)An.brushVisibilityForElement(t,r,!1);g.cornerstone.updateImage(e.element)}},{key:"_getEnabledElement",value:function(){return g.cornerstone.getEnabledElement(this.element)}},{key:"alpha",get:function(){Dn.alpha},set:function(e){var t=this._getEnabledElement();Dn.alpha=e,g.cornerstone.updateImage(t.element)}},{key:"hiddenButActiveAlpha",get:function(){Dn.hiddenButActiveAlpha},set:function(e){var t=this._getEnabledElement();Dn.hiddenButActiveAlpha=e,g.cornerstone.updateImage(t.element)}}],[{key:"getNumberOfColors",value:function(){return g.cornerstone.colors.getColormap(Dn.colorMapId).getNumberOfColors()}},{key:"getReferencedToolDataName",value:function(){return"brush"}},{key:"invalidateBrushOnEnabledElement",value:function(e){var t=M.getters.enabledElementByUID(e),n=J(t,"stack");if(n){for(var r=n.data[0].imageIds,a=g.cornerstone.getEnabledElement(t).image,i=(a.columns,a.rows,a.rows,a.columns,a.rows,r.length,X.saveToolState()),o=0;o<r.length;o++){var s=r[o];if(i[s]&&i[s].brush)for(var l=i[s].brush.data,u=0;u<l.length;u++)l[u].pixelData&&(l[u].invalidated=!0)}g.cornerstone.updateImage(t,!0)}}},{key:"getDataAsVolume",value:function(e){var t=M.getters.enabledElementByUID(e),n=J(t,"stack");if(n)for(var r=n.data[0].imageIds,a=g.cornerstone.getEnabledElement(t).image,i={xy:a.columns*a.rows,z:a.rows,xyz:a.columns*a.rows*r.length},o=X.saveToolState(),s=new ArrayBuffer(i.xyz),l=(new Uint8Array(s),0);l<r.length;l++){var u=r[l];o[u]&&o[u].brush&&o[u].brush.data[0].pixelData}}}]),t}(Y),Rn={drawBrushPixels:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.forEach(function(e){var a,i=(a=e[0],e[1]*n+a);t[i]=r?0:1})},drawBrushOnCanvas:function(e,t,n,r){var a=g.cornerstone.pixelToCanvas(r,{x:0,y:0}),i=g.cornerstone.pixelToCanvas(r,{x:1,y:1}),o=i.x-a.x,s=i.y-a.y;Oe(t,function(t){e.forEach(function(e){var a=g.cornerstone.pixelToCanvas(r,{x:e[0],y:e[1]}),i={left:a.x,top:a.y,width:o,height:s};qe(t,i,n)})})},getCircle:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=Math.round(r),o=Math.round(a);if(1===e)return[[i,o]];for(var s=[],l=0,u=-e;u<=e;u++){var c=o+u;if(!(c>t||c<0))for(var d=-e;d<=e;d++){var f=i+d;f>n||f<0||d*d+u*u<e*e&&(s[l++]=[i+d,o+u])}}return s}},jn=Rn.drawBrushPixels,Nn=Rn.getCircle,Un=M.modules.brush.state,Fn=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,t);var r={name:"Brush",supportedInteractionTypes:["Mouse"],strategies:{overlapping:Bn,nonOverlapping:zn},defaultStrategy:"overlapping",configuration:{}},i=Object.assign(r,n);return(e=l()(this,c()(t).call(this,i))).initialConfiguration=i,e}return f()(t,e),o()(t,[{key:"renderBrush",value:function(e){var t,n=e.detail,r=n.viewport;if(this._drawing?t=this._lastImageCoords:this._mouseUpRender?(t=this._lastImageCoords,this._mouseUpRender=!1):t=M.state.mousePositionImage,t){var a=n.image,i=a.rows,o=a.columns,s=t,l=s.x,u=s.y;if(!(l<0||l>o||u<0||u>i)){this._configuration;var c=Un.radius,d=n.canvasContext,f=n.element,h=Un.drawColorId,p=this._getBrushColor(h);d.setTransform(1,0,0,1,0,0);var m=g.cornerstone,v=c*r.scale,y=m.pixelToCanvas(f,t);d.beginPath(),d.strokeStyle=p,d.ellipse(y.x,y.y,v,v,0,0,2*Math.PI),d.stroke()}}}},{key:"_paint",value:function(e){this.applyActiveStrategy(e,this.configuration),g.cornerstone.triggerEvent(e.detail.element,b.MEASUREMENT_MODIFIED,e.detail),g.cornerstone.updateImage(e.detail.element)}}]),t}(Ln);function Bn(e,t){var n=e.detail,r=n.element,a=n.image,i=a.rows,o=a.columns,s=n.currentPoints.image,l=s.x,u=s.y,c=J(r,t.referencedToolData),d=!1;Hn(n)&&(console.log("ctrlDown"),d=!0);var f=Un.drawColorId;if(!c.data[f].pixelData){var h=new Uint8ClampedArray(n.image.width*n.image.height);c.data[f].pixelData=h}var p=c.data[f].pixelData,m=Un.radius;if(!(l<0||l>o||u<0||u>i)){var g=Nn(m,i,o,l,u);jn(g,p,o,d),c.data[f].invalidated=!0}}function zn(e,t){var n=e.detail,r=n.element,a=n.image,i=a.rows,o=a.columns,s=n.currentPoints.image,l=s.x,u=s.y,c=J(r,t.referencedToolData).data,d=!1;Hn(n)&&(console.log("ctrlDown"),d=!0);var f=Un.drawColorId;if(!c[f].pixelData){var h=new Uint8ClampedArray(n.image.width*n.image.height);c[f].pixelData=h}var p=c[f].pixelData,m=Un.radius;if(!(l<0||l>o||u<0||u>i)){var g=Nn(m,i,o,l,u);jn(g,p,o,d),c[f].invalidated=!0;for(var v=Ln.getNumberOfColors(),y=0;y<v;y++)y!==f&&c[y]&&c[y].pixelData&&(jn(g,c[y].pixelData,o,!0),c[y].invalidated=!0)}}function Hn(e){return e.event&&e.event.ctrlKey||e.ctrlKey}var Vn={setStartLoadHandler:function(e){Cn=e},getStartLoadHandler:function(){return Cn},setEndLoadHandler:function(e){kn=e},getEndLoadHandler:function(){return kn},setErrorLoadingHandler:function(e){Pn=e},getErrorLoadingHandler:function(){return Pn}};function Wn(e){var t=g.cornerstoneMath;return e instanceof t.Vector3?e:new t.Vector3(e[0],e[1],e[2])}function qn(e,t){var n=Wn(t.rowCosines),r=Wn(t.columnCosines),a=Wn(t.imagePositionPatient),i=e.clone().sub(a);return{x:n.dot(i)/t.columnPixelSpacing,y:r.dot(i)/t.rowPixelSpacing}}function Gn(e,t){var n=Wn(t.rowCosines),r=Wn(t.columnCosines),a=Wn(t.imagePositionPatient),i=n.clone().multiplyScalar(e.x);i.multiplyScalar(t.columnPixelSpacing);var o=r.clone().multiplyScalar(e.y);o.multiplyScalar(t.rowPixelSpacing);var s=i.add(o);return s.add(a),s}function Yn(e,t){var n=Wn(e.rowCosines),r=Wn(e.columnCosines),a=Wn(e.imagePositionPatient),i=Wn(t.rowCosines),o=Wn(t.columnCosines),s=Wn(t.imagePositionPatient),l=n.clone().cross(r),u=new g.cornerstoneMath.Plane;u.setFromNormalAndCoplanarPoint(l,a);var c=i.clone().cross(o),d=new g.cornerstoneMath.Plane;d.setFromNormalAndCoplanarPoint(c,s);var f=d.clone().intersectPlane(u),h=f.origin,p=f.direction,m=Gn({x:t.columns,y:t.rows},t),v=s.distanceTo(m),y=new g.cornerstoneMath.Line3;y.start=h,y.end=h.clone().add(p.multiplyScalar(v));var b=function(e,t){var n=[];return Object.keys(t).forEach(function(r){var a=t[r],i=e.intersectLine(a);i&&n.push(i)}),n}(y,function(e){var t=Gn({x:0,y:0},e),n=Gn({x:e.columns,y:0},e),r=Gn({x:0,y:e.rows},e),a=Gn({x:e.columns,y:e.rows},e);return{top:new g.cornerstoneMath.Line3(t,n),left:new g.cornerstoneMath.Line3(t,r),right:new g.cornerstoneMath.Line3(n,a),bottom:new g.cornerstoneMath.Line3(r,a)}}(t));if(2===b.length)return{start:b[0],end:b[1]}}var Zn={};function Xn(e,t){if(!Zn[e])return{};var n=Zn[e].find(function(e){return e.element===t});return n?n.options:{}}function Kn(e,t,n){if(Zn[e]){var r=Zn[e].findIndex(function(e){return e.element===t});if(-1===r)Zn[e].push({element:t,options:n});else{var a=Zn[e][r].options||{};Zn[e][r].options=Object.assign(a,n)}}else Zn[e]=[{element:t,options:n}]}var $n=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,t);var r=Object.assign({name:"Crosshairs",supportedInteractionTypes:["Mouse","Touch"]},n);return(e=l()(this,c()(t).call(this,r))).initialConfiguration=r,e.mouseDownCallback=e._chooseLocation.bind(ct()(ct()(e))),e.mouseDragCallback=e._chooseLocation.bind(ct()(ct()(e))),e.touchDragCallback=e._chooseLocation.bind(ct()(ct()(e))),e}return f()(t,e),o()(t,[{key:"_chooseLocation",value:function(e){var t=e.detail,n=t.element;e.stopImmediatePropagation();var r=J(n,this.name);if(r){var a=n,i=g.cornerstone.getEnabledElement(a).image.imageId,o=g.cornerstone.metaData.get("imagePlaneModule",i);if(o){var s=Gn(t.currentPoints.image,o);r.data[0].synchronizationContext.getSourceElements().forEach(function(e){if(e!==a){var t=Number.MAX_VALUE,n=-1,r=J(e,"stack");if(void 0!==r){var i=r.data[0];if(i.imageIds.forEach(function(e,r){var a=g.cornerstone.metaData.get("imagePlaneModule",e);if(a&&a.imagePositionPatient&&a.rowCosines&&a.columnCosines){var i=Wn(a.imagePositionPatient),o=Wn(a.rowCosines),l=Wn(a.columnCosines).clone().cross(o.clone()),u=Math.abs(l.clone().dot(i)-l.clone().dot(s));u<t&&(t=u,n=r)}}),n!==i.currentImageIdIndex&&-1!==n&&void 0!==i.imageIds[n]){var o=Vn.getStartLoadHandler(),l=Vn.getEndLoadHandler(),u=Vn.getErrorLoadingHandler();o&&o(e),(!0===i.preventCache?g.cornerstone.loadImage(i.imageIds[n]):g.cornerstone.loadAndCacheImage(i.imageIds[n])).then(function(t){var r=g.cornerstone.getViewport(e);i.currentImageIdIndex=n,g.cornerstone.displayImage(e,t,r),l&&l(e,t)},function(t){var r=i.imageIds[n];u&&u(e,r,t)})}}}})}}}},{key:"activeCallback",value:function(e,t){var n=t.mouseButtonMask,r=t.synchronizationContext;Kn(this.name,e,{mouseButtonMask:n}),ee(e,this.name),$(e,this.name,{synchronizationContext:r})}}]),t}(Y),Jn=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,t);var r=Object.assign({name:"DoubleTapFitToWindow",supportedInteractionTypes:["DoubleTap"]},n);return(e=l()(this,c()(t).call(this,r))).initialConfiguration=r,e}return f()(t,e),o()(t,[{key:"doubleTapCallback",value:function(e){var t=e.detail;g.cornerstone.fitToWindow(t.element)}}]),t}(Y),Qn=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,t);var r={name:"DragProbe",strategies:{default:er,minimal:tr},defaultStrategy:"default",supportedInteractionTypes:["Mouse","Touch"],configuration:{}},i=Object.assign(r,n);return(e=l()(this,c()(t).call(this,i))).touchDragCallback=e._movingEventCallback.bind(ct()(ct()(e))),e.touchEndCallback=e._endMovingEventCallback.bind(ct()(ct()(e))),e.mouseDragCallback=e._movingEventCallback.bind(ct()(ct()(e))),e.mouseUpCallback=e._endMovingEventCallback.bind(ct()(ct()(e))),e.initialConfiguration=i,e.dragEventData={},e}return f()(t,e),o()(t,[{key:"_movingEventCallback",value:function(e){var t=e.detail,n=t.element;this.dragEventData=t,g.cornerstone.updateImage(n)}},{key:"_endMovingEventCallback",value:function(e){var t=e.detail.element;this.dragEventData={},g.cornerstone.updateImage(t)}},{key:"renderToolData",value:function(e){this.dragEventData.currentPoints&&e&&e.detail&&Boolean(Object.keys(this.dragEventData.currentPoints).length)&&(e.detail.currentPoints=this.dragEventData.currentPoints,this.applyActiveStrategy(e))}}]),t}(Y),er=function(e,t){var n=g.cornerstone,r=e.detail,a=r.element,i=r.image,o=r.currentPoints,s=r.canvasContext,l=Ke(s.canvas),u=Me.getActiveColor(),c=Ve.getFontSize(),d=Math.round(o.image.x),f=Math.round(o.image.y);d<0||f<0||d>=i.columns||f>=i.rows||Oe(l,function(e){Je(e,t);var r,s,l="".concat(d,", ").concat(f);if(i.color)r=bn(a,d,f,1,1),s="R: ".concat(r[0]," G: ").concat(r[1]," B: ").concat(r[2]," A: ").concat(r[3]);else{var h=(r=n.getStoredPixels(a,d,f,1,1))[0],p=h*i.slope+i.intercept,m=jt(i,h);s="SP: ".concat(h," MO: ").concat(parseFloat(p.toFixed(3))),m&&(s+=" SUV: ".concat(parseFloat(m.toFixed(3))))}var g={x:o.canvas.x+5,y:o.canvas.y-5};Ye(e,s,g.x,g.y+c+5,u),Ye(e,l,g.x,g.y,u)})},tr=function(e,t){var n=g.cornerstone,r=e.detail,a=r.element,i=r.image,o=r.currentPoints,s=r.canvasContext,l=r.isTouchEvent,u=Ke(s.canvas),c=Me.getActiveColor(),d=o.page.y-Ve.getFontSize()/2;l&&(d=o.page.y-4*Ve.getFontSize());var f=n.pageToPixel(a,o.page.x,d);f.x<0||f.y<0||f.x>=i.columns||f.y>=i.rows||Oe(u,function(e){Je(e,t);var r,o=n.metaData.get("generalSeriesModule",i.imageId),s=o&&o.modality,u="";if(i.color)r=bn(a,f.x,f.y,1,1),u="R: ".concat(r[0]," G: ").concat(r[1]," B: ").concat(r[2]);else{var d=(r=n.getStoredPixels(a,f.x,f.y,1,1))[0],h=d*i.slope+i.intercept,p=parseFloat(h.toFixed(2));if("CT"===s)u+="HU: ".concat(p);else if("PT"===s){u+=p;var m=jt(i,d);m&&(u+=" SUV: ".concat(parseFloat(m.toFixed(2))))}else u+=p}var g=n.pixelToCanvas(a,f),v={x:12,y:-(Ve.getFontSize()+10)/2},y=Ge(e,u,5);l&&(v={x:-y/2,y:-Ve.getFontSize()-10-12}),je(e,a,g,6,{color:c},"canvas"),Ye(e,u,g.x+v.x,g.y+v.y,c)})},nr=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,t);var r=Object.assign({name:"Eraser",supportedInteractionTypes:["Mouse","Touch"]},n);return(e=l()(this,c()(t).call(this,r))).initialConfiguration=r,e.preMouseDownCallback=e._deleteAllNearbyTools.bind(ct()(ct()(e))),e.preTouchStartCallback=e._deleteAllNearbyTools.bind(ct()(ct()(e))),e}return f()(t,e),o()(t,[{key:"_deleteAllNearbyTools",value:function(e){var t=e.detail.currentPoints.canvas,n=e.detail.element;return k.tools.forEach(function(e){var r=J(n,e.name);r&&r.data.forEach(function(r){"function"==typeof e.pointNearTool&&e.pointNearTool(n,r,t)&&(Q(n,e.name,r),g.cornerstone.updateImage(n))})}),!0}}]),t}(Y),rr=cn.FreehandHandleData,ar=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,t);var r={name:"FreehandSculpterMouse",referencedToolName:"FreehandMouse",supportedInteractionTypes:["Mouse"],mixins:["activeOrDisabledBinaryTool"],configuration:{mouseLocation:{handles:{start:{highlight:!0,active:!0}}},minSpacing:5,maxSpacing:20,currentTool:null,dragColor:Me.getActiveColor(),hoverColor:Me.getToolColor(),showCursorOnHover:!0,limitRadiusOutsideRegion:!0,hoverCursorFadeAlpha:.5,hoverCursorFadeDistance:1.2}},i=Object.assign(r,n);return(e=l()(this,c()(t).call(this,i))).hasCursor=!0,e.initialConfiguration=i,e.referencedToolName=i.referencedToolName,e._active=!1,e.activeMouseUpCallback=e.activeMouseUpCallback.bind(ct()(ct()(e))),e.activeMouseDragCallback=e.activeMouseDragCallback.bind(ct()(ct()(e))),e}return f()(t,e),o()(t,[{key:"renderToolData",value:function(e){var t=e.detail;if(null===this.configuration.currentTool)return!1;if(this._active){var n=t.canvasContext.canvas.getContext("2d"),r={color:this.configuration.dragColor,fill:null,handleRadius:this._toolSizeCanvas};Ue(n,t,this.configuration.mouseLocation.handles,r)}else this.configuration.showCursorOnHover&&this._renderHoverCursor(e)}},{key:"doubleClickCallback",value:function(e){var t=e.detail;this._selectFreehandTool(t),g.cornerstone.updateImage(t.element)}},{key:"preMouseDownCallback",value:function(e){var t=e.detail;return null===this.configuration.currentTool?this._selectFreehandTool(t):this._initialiseSculpting(t),g.cornerstone.updateImage(t.element),!0}},{key:"activeMouseDragCallback",value:function(e){var t=this.configuration;if(this._active){var n=e.detail,r=J(n.element,this.referencedToolName);if(r){var a=r.data[t.currentTool].handles;this._getMouseLocation(n),this._sculpt(n,a),g.cornerstone.updateImage(n.element)}}}},{key:"activeMouseUpCallback",value:function(e){var t=e.detail,n=t.element,r=this.configuration;this._active=!1,k.isToolLocked=!1,this._getMouseLocation(t),this._invalidateToolData(t),r.mouseUpRender=!0,this._deactivateSculpt(n),g.cornerstone.updateImage(t.element),function(e){e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault()}(e)}},{key:"_renderHoverCursor",value:function(e){var t,n=e.detail,r=n.element,a=n.canvasContext.canvas.getContext("2d"),i=J(r,this.referencedToolName).data[this.configuration.currentTool];this.configuration.mouseUpRender?(t=this.configuration.mouseLocation.handles.start,this.configuration.mouseUpRender=!1):t=k.mousePositionImage;var o=O(r,this.referencedToolName).distanceFromPointCanvas(r,i,t);if(this.configuration.mouseLocation.handles.start.x=t.x,this.configuration.mouseLocation.handles.start.y=t.y,this.configuration.limitRadiusOutsideRegion){var s=o;o=this._limitCursorRadiusCanvas(n,o),s>this.configuration.hoverCursorFadeDistance*o&&(a.globalAlpha=this.configuration.hoverCursorFadeAlpha)}var l={fill:null,color:this.configuration.hoverColor,handleRadius:o};Ue(a,n,this.configuration.mouseLocation.handles,l),this.configuration.limitRadiusOutsideRegion&&(a.globalAlpha=1)}},{key:"newImageCallback",value:function(e){this._deselectAllTools(e)}},{key:"enabledCallback",value:function(e){this._deselectAllTools(e)}},{key:"passiveCallback",value:function(e){this._deselectAllTools(e)}},{key:"disabledCallback",value:function(e){this._deselectAllTools(e)}},{key:"_selectFreehandTool",value:function(e){var t=this.configuration,n=e.element,r=this._getClosestFreehandToolOnElement(n,e);void 0!==r&&(t.currentTool=r)}},{key:"_activateFreehandTool",value:function(e,t){var n=J(e,this.referencedToolName).data;this.configuration.currentTool=t;for(var r=0;r<n.length;r++)n[r].active=r===t}},{key:"_initialiseSculpting",value:function(e){var t=e.element,n=this.configuration;this._active=!0,k.isToolLocked=!0,this._configureToolSize(e),this._getMouseLocation(e),this._activateFreehandTool(t,n.currentTool),this._activateSculpt(t)}},{key:"_sculpt",value:function(e,t){var n=this.configuration,r={element:e.element,image:e.image,mousePoint:e.currentPoints.image,dataHandles:t,toolSize:this._toolSizeImage,minSpacing:n.minSpacing,maxSpacing:n.maxSpacing};this._pushHandles(r),this._insertNewHandles(r),this._consolidateHandles(r)}},{key:"_pushHandles",value:function(e){for(var t=e.dataHandles,n=e.mousePoint,r=e.toolSize,a=0;a<t.length;a++){var i=g.cornerstoneMath.point.distance(t[a],n);i<r&&this._pushOneHandle(e,a,i)}}},{key:"_pushOneHandle",value:function(e,t,n){var r=e.dataHandles,a=r[t],i=e.mousePoint,o=e.toolSize,s=e.image,l=(a.x-i.x)/n,u=(a.y-i.y)/n,c={x:i.x+o*l,y:i.y+o*u};le(c,s),a.x=c.x,a.y=c.y;var d=this.constructor._getPreviousHandleIndex(t,r.length);r[d].lines.pop(),r[d].lines.push(a)}},{key:"_insertNewHandles",value:function(e){for(var t=this._findNewHandleIndicies(e),n=0,r=0;r<t.length;r++){var a=t[r]+1+n;this._insertHandleRadially(e,a),n++}}},{key:"_findNewHandleIndicies",value:function(e){for(var t=e.element,n=e.dataHandles,r=[],a=0;a<n.length;a++){var i=g.cornerstone.pixelToCanvas(t,n[a]),o=this.constructor._getNextHandleIndex(a,n.length),s=g.cornerstone.pixelToCanvas(t,n[o]);g.cornerstoneMath.point.distance(i,s)>e.maxSpacing&&r.push(a)}return r}},{key:"_insertHandleRadially",value:function(e,t){var n=e.dataHandles,r=t-1,a=this.constructor._getNextHandleIndexBeforeInsert(t,n.length),i=this.constructor._getInsertPosition(e,t,r,a),o=new rr(i);n.splice(t,0,o),n[r].lines.pop(),n[r].lines.push(n[t]),t===n.length-1?n[t].lines.push(n[0]):n[t].lines.push(n[t+1])}},{key:"_consolidateHandles",value:function(e){if(e.dataHandles.length>3){var t=this._findCloseHandlePairs(e);this._mergeCloseHandles(e,t)}}},{key:"_findCloseHandlePairs",value:function(e){for(var t=e.dataHandles,n=e.element,r=e.minSpacing,a=[],i=t.length,o=0;o<i;o++){var s=g.cornerstone.pixelToCanvas(n,t[o]),l=this.constructor._getNextHandleIndex(o,t.length),u=g.cornerstone.pixelToCanvas(n,t[l]);if(g.cornerstoneMath.point.distance(s,u)<r){var c=[o,l];a.push(c),0===o&&(i-=1),o++}}return a}},{key:"_mergeCloseHandles",value:function(e,t){for(var n=0,r=0;r<t.length;r++){var a=this.constructor._getCorrectedPair(t[r],n);this._combineHandles(e,a),n++}var i=this._findCloseHandlePairs(e);i.length&&this._mergeCloseHandles(e,i)}},{key:"_combineHandles",value:function(e,t){var n=e.dataHandles,r=e.image,a={x:(n[t[0]].x+n[t[1]].x)/2,y:(n[t[0]].y+n[t[1]].y)/2};le(a,r),n[t[0]].x=a.x,n[t[0]].y=a.y;var i=this.constructor._getNextHandleIndex(t[1],n.length);n[t[0]].lines.pop(),n[t[0]].lines.push(n[i]),n.splice(t[1],1)}},{key:"_configureToolSize",value:function(e){var t=e.element,n=this.configuration,r=n.currentTool,a=e.currentPoints.image,i=J(t,this.referencedToolName).data[r],o=O(t,this.referencedToolName),s=o.distanceFromPoint(t,i,a),l=o.distanceFromPointCanvas(t,i,a);n.limitRadiusOutsideRegion&&(s=this._limitCursorRadiusImage(e,s),l=this._limitCursorRadiusCanvas(e,l)),this._toolSizeImage=s,this._toolSizeCanvas=l}},{key:"_getMouseLocation",value:function(e){var t=this.configuration;t.mouseLocation.handles.start.x=e.currentPoints.image.x,t.mouseLocation.handles.start.y=e.currentPoints.image.y,le(t.mouseLocation.handles.start,e.image)}},{key:"_activateSculpt",value:function(e){this._deactivateSculpt(e),e.addEventListener(b.MOUSE_UP,this.activeMouseUpCallback),e.addEventListener(b.MOUSE_CLICK,this.activeMouseUpCallback),e.addEventListener(b.MOUSE_DRAG,this.activeMouseDragCallback),g.cornerstone.updateImage(e)}},{key:"_deactivateSculpt",value:function(e){e.removeEventListener(b.MOUSE_UP,this.activeMouseUpCallback),e.removeEventListener(b.MOUSE_CLICK,this.activeMouseUpCallback),e.removeEventListener(b.MOUSE_DRAG,this.activeMouseDragCallback),g.cornerstone.updateImage(e)}},{key:"_invalidateToolData",value:function(e){var t=this.configuration;J(e.element,this.referencedToolName).data[t.currentTool].invalidated=!0}},{key:"_deselectAllTools",value:function(e){var t=this.configuration,n=J(this.element,this.referencedToolName);if(t.currentTool=null,n)for(var r=0;r<n.data.length;r++)n.data[r].active=!1;g.cornerstone.updateImage(this.element)}},{key:"_limitCursorRadiusCanvas",value:function(e,t){return this._limitCursorRadius(e,t,!0)}},{key:"_limitCursorRadiusImage",value:function(e,t){return this._limitCursorRadius(e,t,!1)}},{key:"_limitCursorRadius",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.element,a=e.image,i=this.configuration,o=J(r,this.referencedToolName).data[i.currentTool],s=1;if(n){var l=g.cornerstone.pixelToCanvas(r,{x:0,y:0}),u=g.cornerstone.pixelToCanvas(r,{x:a.width,y:a.height});s=(u.x-l.x)*(u.y-l.y)/(a.width*a.height)}var c=o.area*s,d=Math.pow(c/Math.PI,.5);return Math.min(t,d)}},{key:"_getClosestFreehandToolOnElement",value:function(e,t){var n=O(e,this.referencedToolName),r=J(e,this.referencedToolName);if(r){for(var a=r.data,i=t.currentPoints.image,o={distance:1/0,toolIndex:null},s=0;s<a.length;s++){var l=n.distanceFromPoint(e,a[s],i);-1!==l&&l<o.distance&&(o.distance=l,o.toolIndex=s)}return o.toolIndex}}},{key:"minSpacing",get:function(){return this.configuration.minSpacing},set:function(e){if("number"!=typeof e)throw new Error("Attempting to set freehandSculpter minSpacing to a value other than a number.");this.configuration.minSpacing=e}},{key:"maxSpacing",get:function(){return this.configuration.maxSpacing},set:function(e){if("number"!=typeof e)throw new Error("Attempting to set freehandSculpter maxSpacing to a value other than a number.");this.configuration.maxSpacing=e}},{key:"showCursorOnHover",get:function(){return this.configuration.showCursorOnHover},set:function(e){if("boolean"!=typeof e)throw new Error("Attempting to set freehandSculpter showCursorOnHover to a value other than a boolean.");this.configuration.showCursorOnHover=e,g.cornerstone.updateImage(this.element)}},{key:"limitRadiusOutsideRegion",get:function(){return this.configuration.limitRadiusOutsideRegion},set:function(e){if("boolean"!=typeof e)throw new Error("Attempting to set freehandSculpter limitRadiusOutsideRegion to a value other than a boolean.");this.configuration.limitRadiusOutsideRegion=e,g.cornerstone.updateImage(this.element)}},{key:"hoverCursorFadeAlpha",get:function(){return this.configuration.hoverCursorFadeAlpha},set:function(e){if("number"!=typeof e)throw new Error("Attempting to set freehandSculpter hoverCursorFadeAlpha to a value other than a number.");e=Math.max(Math.min(e,1),0),this.configuration.hoverCursorFadeAlpha=e,g.cornerstone.updateImage(this.element)}},{key:"hoverCursorFadeDistance",get:function(){return this.configuration.hoverCursorFadeDistance},set:function(e){if("number"!=typeof e)throw new Error("Attempting to set freehandSculpter hoverCursorFadeDistance to a value other than a number.");e=Math.max(e,1),this.configuration.hoverCursorFadeDistance=e,g.cornerstone.updateImage(this.element)}}],[{key:"_getCorrectedPair",value:function(e,t){var n=[e[0]-t,e[1]-t];return n[1]<0&&(n[1]=0),n}},{key:"_getNextHandleIndex",value:function(e,t){return e===t-1?0:e+1}},{key:"_getPreviousHandleIndex",value:function(e,t){return 0===e?t-1:e-1}},{key:"_getNextHandleIndexBeforeInsert",value:function(e,t){return e===t?0:e}},{key:"_getInsertPosition",value:function(e,t,n,r){var a,i=e.toolSize,o=e.mousePoint,s=e.dataHandles,l=e.image,u={x:(s[n].x+s[r].x)/2,y:(s[n].y+s[r].y)/2},c=g.cornerstoneMath.point.distance(o,u);if(c<i){var d={x:(u.x-o.x)/c,y:(u.y-o.y)/c};a={x:o.x+i*d.x,y:o.y+i*d.y}}else a=u;return le(a,l),a}}]),t}(Y),ir=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,t);var r=Object.assign({name:"Magnify",supportedInteractionTypes:["Mouse","Touch"],configuration:{magnifySize:300,magnificationLevel:2}},n);return(e=l()(this,c()(t).call(this,r))).initialConfiguration=r,e.zoomCanvas=void 0,e.zoomElement=void 0,e.activeCallback=e._createMagnificationCanvas.bind(ct()(ct()(e))),e.enabledCallback=e._createMagnificationCanvas.bind(ct()(ct()(e))),e.disabledCallback=e._destroyMagnificationCanvas.bind(ct()(ct()(e))),e.postTouchStartCallback=e._addMagnifyingGlass.bind(ct()(ct()(e))),e.touchDragCallback=e._updateMagnifyingGlass.bind(ct()(ct()(e))),e.touchEndCallback=e._removeMagnifyingGlass.bind(ct()(ct()(e))),e.touchDragEndCallback=e._removeMagnifyingGlass.bind(ct()(ct()(e))),e.postMouseDownCallback=e._addMagnifyingGlass.bind(ct()(ct()(e))),e.mouseDragCallback=e._updateMagnifyingGlass.bind(ct()(ct()(e))),e.mouseUpCallback=e._removeMagnifyingGlass.bind(ct()(ct()(e))),e.mouseClickCallback=e._removeMagnifyingGlass.bind(ct()(ct()(e))),e.newImageCallback=e._drawMagnificationTool.bind(ct()(ct()(e))),e}return f()(t,e),o()(t,[{key:"_addMagnifyingGlass",value:function(e){var t=this;this._removeZoomElement(),this._drawZoomedElement(e),window.requestAnimationFrame(function(){return t._drawMagnificationTool(e)}),e.preventDefault(),e.stopPropagation()}},{key:"_updateMagnifyingGlass",value:function(e){this._drawMagnificationTool(e),e.preventDefault(),e.stopPropagation()}},{key:"_removeMagnifyingGlass",value:function(e){e.detail.element.querySelector(".magnifyTool").style.display="none",document.body.style.cursor="default",this._removeZoomElement()}},{key:"_drawMagnificationTool",value:function(e){var t=e.detail.element,n=t.querySelector(".magnifyTool");if(n||this._createMagnificationCanvas(t),void 0!==this.zoomCanvas){var r=t.querySelector("canvas:not(.magnifyTool)"),a=Ke(n),i=g.cornerstone.pixelToCanvas(e.detail.element,e.detail.currentPoints.image),o=Math.min(this.configuration.magnifySize,r.width,r.height),s=this.configuration.magnificationLevel;n.width=o,n.height=o,i.x=Math.max(i.x,.5*o/s),i.x=Math.min(i.x,r.width-.5*o/s),i.y=Math.max(i.y,.5*o/s),i.y=Math.min(i.y,r.height-.5*o/s);var l={x:i.x*s-.5*o,y:i.y*s-.5*o};l.x=Math.max(l.x,0),l.y=Math.max(l.y,0),a.drawImage(this.zoomCanvas,l.x,l.y,o,o,0,0,o,o);var u=e.detail.isTouchEvent?120:0,c={top:Math.max(i.y-.5*o-u,0),left:Math.max(i.x-.5*o,0)},d=n.getBoundingClientRect();c.top=Math.min(c.top,r.height-d.height),c.left=Math.min(c.left,r.width-d.width),n.style.top="".concat(c.top,"px"),n.style.left="".concat(c.left,"px"),n.style.display="block",document.body.style.cursor="none"}}},{key:"_drawZoomedElement",value:function(e){var t=e.detail.element,n=e.detail.enabledElement;void 0===n&&(n=g.cornerstone.getEnabledElement(t));var r=this.configuration.magnificationLevel,a=n.canvas,i=n.image;this.zoomElement=document.createElement("div"),this.zoomElement.width=a.width*r,this.zoomElement.height=a.height*r,g.cornerstone.enable(this.zoomElement,n.options);var o=g.cornerstone.getEnabledElement(this.zoomElement),s=g.cornerstone.getViewport(n.element);this.zoomCanvas=o.canvas,this.zoomCanvas.width=a.width*r,this.zoomCanvas.height=a.height*r,o.viewport=Object.assign({},s),s.scale*=r,g.cornerstone.displayImage(this.zoomElement,i),g.cornerstone.setViewport(this.zoomElement,s)}},{key:"_removeZoomElement",value:function(){void 0!==this.zoomElement&&(g.cornerstone.disable(this.zoomCanvas),this.zoomElement=void 0,this.zoomCanvas=void 0)}},{key:"_createMagnificationCanvas",value:function(e){if(null===e.querySelector(".magnifyTool")){var t=document.createElement("canvas");t.classList.add("magnifyTool"),t.width=this.configuration.magnifySize,t.height=this.configuration.magnifySize,t.style.position="absolute",t.style.display="none",e.appendChild(t)}}},{key:"_destroyMagnificationCanvas",value:function(e){var t=e.detail.element,n=t.querySelector(".magnifyTool");n&&t.removeChild(n)}}]),t}(Y),or=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,t);var r=Object.assign({name:"PanMultiTouch",supportedInteractionTypes:["MultiTouch"],configuration:{touchPointers:2}},n);return(e=l()(this,c()(t).call(this,r))).initialConfiguration=r,e.multiTouchDragCallback=e._dragCallback.bind(ct()(ct()(e))),e}return f()(t,e),o()(t,[{key:"_dragCallback",value:function(e){var t=e.detail,n=t.element,r=t.viewport;if(t.numPointers===this.configuration.touchPointers){var a=this._getTranslation(t);this._applyTranslation(r,a),g.cornerstone.setViewport(n,r)}}},{key:"_getTranslation",value:function(e){var t=e.viewport,n=e.image,r=e.deltaPoints,a=t.scale,i=t.scale;return n.rowPixelSpacing<n.columnPixelSpacing?a*=n.columnPixelSpacing/n.rowPixelSpacing:n.columnPixelSpacing<n.rowPixelSpacing&&(i*=n.rowPixelSpacing/n.columnPixelSpacing),{x:r.page.x/a,y:r.page.y/i}}},{key:"_applyTranslation",value:function(e,t){e.translation.x+=t.x,e.translation.y+=t.y}}]),t}(Y),sr=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,t);var r=Object.assign({name:"Pan",supportedInteractionTypes:["Mouse","Touch"]},n);return(e=l()(this,c()(t).call(this,r))).initialConfiguration=r,e.touchDragCallback=e._dragCallback.bind(ct()(ct()(e))),e.mouseDragCallback=e._dragCallback.bind(ct()(ct()(e))),e}return f()(t,e),o()(t,[{key:"_dragCallback",value:function(e){var t=e.detail,n=t.element,r=t.viewport,a=this._getTranslation(t);this._applyTranslation(r,a),g.cornerstone.setViewport(n,r)}},{key:"_getTranslation",value:function(e){var t=e.viewport,n=e.image,r=e.deltaPoints,a=t.scale,i=t.scale;return n.rowPixelSpacing<n.columnPixelSpacing?a*=n.columnPixelSpacing/n.rowPixelSpacing:n.columnPixelSpacing<n.rowPixelSpacing&&(i*=n.rowPixelSpacing/n.columnPixelSpacing),{x:r.page.x/a,y:r.page.y/i}}},{key:"_applyTranslation",value:function(e,t){e.translation.x+=t.x,e.translation.y+=t.y}}]),t}(Y),lr=n(7),ur=n.n(lr),cr=n(8),dr=n.n(cr),fr=function(e,t,n,r){var a=g.cornerstone,i=a.getEnabledElement(n).image,o=a.getEnabledElement(r).image;if(i&&o){var s=a.metaData.get("imagePlaneModule",i.imageId),l=a.metaData.get("imagePlaneModule",o.imageId);if(s&&l&&s.rowCosines&&s.columnCosines&&s.imagePositionPatient&&l.rowCosines&&l.columnCosines&&l.imagePositionPatient&&s.frameOfReferenceUID===l.frameOfReferenceUID){s.rowCosines=Wn(s.rowCosines),s.columnCosines=Wn(s.columnCosines),s.imagePositionPatient=Wn(s.imagePositionPatient),l.rowCosines=Wn(l.rowCosines),l.columnCosines=Wn(l.columnCosines),l.imagePositionPatient=Wn(l.imagePositionPatient);var u=s.rowCosines.clone().cross(s.columnCosines),c=l.rowCosines.clone().cross(l.columnCosines),d=u.angleTo(c);if(!((d=Math.abs(d))<.5)){var f=function(e,t){var n=Yn(e,t);if(n)return{start:qn(n.start,e),end:qn(n.end,e)}}(s,l);if(f){var h=Me.getActiveColor();e.setTransform(1,0,0,1,0,0),Oe(e,function(e){Ae(e,t.element,f.start,f.end,{color:h})})}}}}},hr=function(e){return new Promise(function(t){return setTimeout(t,e)})};function pr(e){try{var t=g.cornerstone.getEnabledElement(e);return t.image?t:hr(250).then(function(){return pr(e)})}catch(e){return null}}var mr,gr=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,t);var r={name:"ReferenceLines",mixins:["enabledOrDisabledBinaryTool"],configuration:{renderer:fr}},i=Object.assign(r,n);return(e=l()(this,c()(t).call(this,i))).initialConfiguration=i,e.renderer=null,e.synchronizationContext=null,e}return f()(t,e),o()(t,[{key:"enabledCallback",value:function(){var e=dr()(ur.a.mark(function e(t){var n,r,a,i=arguments;return ur.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},r=n.synchronizationContext,a=this.configuration.renderer,e.next=4,pr(t);case 4:if(e.sent&&a&&r){e.next=8;break}return console.warn("Unable to enable ".concat(this.name,". Exiting enable callback. Tool will be enabled, but will not render.")),e.abrupt("return");case 8:this.renderer=a,this.synchronizationContext=r,this.forceImageUpdate(t);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"disabledCallback",value:function(e){this.forceImageUpdate(e)}},{key:"forceImageUpdate",value:function(e){g.cornerstone.getEnabledElement(e).image&&g.cornerstone.updateImage(e)}},{key:"renderToolData",value:function(e){var t=this,n=e.detail;if(this.renderer&&this.synchronizationContext){var r=this.synchronizationContext.getSourceElements(),a=Ke(n.canvasContext.canvas);g.cornerstone.setToPixelCoordinateSystem(n.enabledElement,a),r.forEach(function(r){r!==e.currentTarget&&t.renderer(a,n,e.currentTarget,r)})}}}]),t}(Y),vr=function(e,t,n){var r=Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)),a=Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2)),i=Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2));return{angle:180*Math.acos((Math.pow(r,2)+Math.pow(a,2)-Math.pow(i,2))/(2*r*a))/Math.PI,direction:(t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x)}},yr=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,t);var r={name:"Rotate",strategies:{default:br,horizontal:wr,vertical:xr},defaultStrategy:"default",supportedInteractionTypes:["Mouse","Touch"]},i=Object.assign(r,n);return(e=l()(this,c()(t).call(this,i))).initialConfiguration=i,e}return f()(t,e),o()(t,[{key:"touchDragCallback",value:function(e){this.dragCallback(e)}},{key:"mouseDragCallback",value:function(e){this.dragCallback(e)}},{key:"postMouseDownCallback",value:function(e){this.initialRotation=e.detail.viewport.rotation}},{key:"dragCallback",value:function(e){e.detail.viewport.initialRotation=this.initialRotation,this.applyActiveStrategy(e,this.configuration),g.cornerstone.setViewport(e.detail.element,e.detail.viewport)}}]),t}(Y),br=function(e){var t=e.detail,n=t.element,r=t.viewport,a=r.initialRotation,i=n.getBoundingClientRect(n),o=n.clientWidth,s=n.clientHeight,l={x:t.startPoints.client.x,y:t.startPoints.client.y},u=r.scale,c=r.translation,d={x:i.left+o/2+c.x*u,y:i.top+s/2+c.y*u},f={x:t.currentPoints.client.x,y:t.currentPoints.client.y},h=vr(d,l,f);h.direction<0&&(h.angle=-h.angle),r.rotation=a+h.angle},wr=function(e){var t=e.detail,n=t.viewport,r=t.deltaPoints;n.rotation+=r.page.x/n.scale},xr=function(e){var t=e.detail,n=t.viewport,r=t.deltaPoints;n.rotation+=r.page.y/n.scale},Er=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,t);var r=Object.assign({name:"RotateTouch",supportedInteractionTypes:["TouchRotate"]},n);return(e=l()(this,c()(t).call(this,r))).initialConfiguration=r,e}return f()(t,e),o()(t,[{key:"touchRotateCallback",value:function(e){var t=e.detail,n=t.element,r=t.viewport,a=t.rotation;r.rotation+=a,g.cornerstone.setViewport(n,r)}}]),t}(Y),Tr=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,t);var r=Object.assign({name:"ScaleOverlay",configuration:{minorTickLength:12.5,majorTickLength:25},mixins:["enabledOrDisabledBinaryTool"]},n);return(e=l()(this,c()(t).call(this,r))).initialConfiguration=r,e}return f()(t,e),o()(t,[{key:"enabledCallback",value:function(e){this.forceImageUpdate(e)}},{key:"disabledCallback",value:function(e){this.forceImageUpdate(e)}},{key:"forceImageUpdate",value:function(e){g.cornerstone.getEnabledElement(e).image&&g.cornerstone.updateImage(e)}},{key:"renderToolData",value:function(e){var t=e.detail,n=Ke(t.canvasContext.canvas),r=t.image,a=t.viewport,i=t.element,o=r.rowPixelSpacing,s=r.columnPixelSpacing,l=g.cornerstone.metaData.get("imagePlaneModule",r.imageId);if(l&&(o=l.rowPixelSpacing||l.rowImagePixelSpacing,s=l.columnPixelSpacing||l.colImagePixelSpacing),o&&s){var u={width:n.canvas.width,height:n.canvas.height},c=10/o*a.scale,d=10/s*a.scale,f=_r(u,.25,.05),h=_r(u,.05,.15);if(u.width&&u.height&&f&&h){var p=Me.getToolColor(),m=Ce.getToolWidth(),v=Object.assign({},{hscaleBounds:f,vscaleBounds:h,verticalMinorTick:c,horizontalMinorTick:d,verticalLine:{start:{x:h.bottomRight.x,y:h.topLeft.y},end:{x:h.bottomRight.x,y:h.bottomRight.y}},horizontalLine:{start:{x:f.topLeft.x,y:f.bottomRight.y},end:{x:f.bottomRight.x,y:f.bottomRight.y}},color:p,lineWidth:m},this.configuration);Oe(n,function(e){Je(e,v),Ae(e,i,v.verticalLine.start,v.verticalLine.end,{color:p,lineWidth:m},"canvas"),Sr(e,i,v),Ae(e,i,v.horizontalLine.start,v.horizontalLine.end,{color:p,lineWidth:m},"canvas"),Cr(e,i,v)})}}else console.warn("unable to define rowPixelSpacing or colPixelSpacing from data on ".concat(this.name,"'s renderToolData"))}}]),t}(Y),_r=function(e,t,n){var r=t*Math.min(1e3,e.width),a=n*Math.min(1e3,e.height),i={left:r,top:a,width:e.width-2*r,height:e.height-2*a};return{topLeft:{x:i.left,y:i.top},bottomRight:{x:i.left+i.width,y:i.top+i.height}}},Sr=function(e,t,n){for(var r=0;n.verticalLine.start.y+r*n.verticalMinorTick<=n.vscaleBounds.bottomRight.y;){var a=n.color,i=n.lineWidth,o={x:n.verticalLine.start.x,y:n.verticalLine.start.y+r*n.verticalMinorTick},s={x:0,y:n.verticalLine.start.y+r*n.verticalMinorTick};s.x=r%5==0?n.verticalLine.start.x-n.majorTickLength:n.verticalLine.start.x-n.minorTickLength,Ae(e,t,o,s,{color:a,lineWidth:i},"canvas"),r++}},Cr=function(e,t,n){for(var r=0;n.horizontalLine.start.x+r*n.horizontalMinorTick<=n.hscaleBounds.bottomRight.x;){var a=n.color,i=n.lineWidth,o={x:n.horizontalLine.start.x+r*n.horizontalMinorTick,y:n.horizontalLine.start.y},s={x:n.horizontalLine.start.x+r*n.horizontalMinorTick,y:0};s.y=r%5==0?n.horizontalLine.start.y-n.majorTickLength:n.horizontalLine.start.y-n.minorTickLength,Ae(e,t,o,s,{color:a,lineWidth:i},"canvas"),r++}},kr={default:6,IE:{9:6,10:8,default:8},Firefox:{default:6},Opera:{10:8,11:6,12:6,default:6},Chrome:{default:6},Safari:{default:6}};function Pr(){var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(e=/\brv[ :]+(\d+)/g.exec(t)||[],"IE ".concat(e[1]||"")):"Chrome"===n[1]&&null!==(e=t.match(/\b(OPR|Edge)\/(\d+)/))?e.slice(1).join(" ").replace("OPR","Opera"):(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),n.join(" "))}function Ir(){return mr||Mr()}function Mr(){var e=Pr().split(" "),t=e[0],n=e[1],r=kr[t];return r?r[n]?r[n]:r.default:kr.default}var Or={interaction:[],thumbnail:[],prefetch:[]},Dr={interaction:0,thumbnail:0,prefetch:0},Ar={interaction:6,thumbnail:6,prefetch:5},Lr=!1,Rr=20;function jr(){Lr&&setTimeout(function(){Ur()},Rr)}function Nr(e){var t=g.cornerstone,n=e.type;Dr[n]++,Lr=!0;var r=e.imageId,a=e.doneCallback,i=e.failCallback,o=t.imageCache.getImageLoadObject(r);if(o)o.promise.then(function(e){Dr[n]--,a(e),jr()},function(e){Dr[n]--,i(e),jr()});else{var s=function(e){return"prefetch"===e.type?-5:"interactive"===e.type?0:"thumbnail"===e.type?5:void 0}(e);(!0===e.preventCache?t.loadImage(r,{priority:s,type:e.type}):t.loadAndCacheImage(r,{priority:s,type:e.type})).then(function(e){Dr[n]--,a(e),jr()},function(e){Dr[n]--,i(e),jr()})}}function Ur(){var e=Ir();Ar={interaction:Math.max(e,1),thumbnail:Math.max(e-2,1),prefetch:Math.max(e-1,1)};for(var t=e-(Dr.interaction+Dr.thumbnail+Dr.prefetch),n=0;n<t;n++){var r=Or.interaction.length&&Dr.interaction<Ar.interaction?Or.interaction.shift():Or.thumbnail.length&&Dr.thumbnail<Ar.thumbnail?Or.thumbnail.shift():Or.prefetch.length&&Dr.prefetch<Ar.prefetch?Or.prefetch.shift():(Or.interaction.length||Or.thumbnail.length||Or.prefetch.length||(Lr=!1),!1);r&&Nr(r)}}var Fr={addRequest:function(e,t,n,r,a,i,o){if(!Or.hasOwnProperty(n))throw new Error("Request type must be one of interaction, thumbnail, or prefetch");if(e&&t){var s={type:n,imageId:t,preventCache:r,doneCallback:a,failCallback:i},l=g.cornerstone.imageCache.getImageLoadObject(t);l?l.promise.then(function(e){a(e)},function(e){i(e)}):(o?Or[n].unshift(s):Or[n].push(s),Lr=!0)}},clearRequestStack:function(e){if(!Or.hasOwnProperty(e))throw new Error("Request type must be one of interaction, thumbnail, or prefetch");Or[e]=[]},startGrabbing:Ur,getRequestPool:function(){return Or}},Br=function(e,t){var n=J(e,"stack");if(n&&n.data&&n.data.length){var r,a=g.cornerstone;if(n.data.length>1){var i=J(e,"stackRenderer");i&&i.data&&i.data.length&&(r=i.data[0])}var o=n.data[0];t<0&&(t+=o.imageIds.length);var s=Vn.getStartLoadHandler(),l=Vn.getEndLoadHandler(),u=Vn.getErrorLoadingHandler();if(t!==o.currentImageIdIndex){s&&s(e);var c={newImageIdIndex:t,direction:t-o.currentImageIdIndex};o.currentImageIdIndex=t;var d=o.imageIds[t];(Boolean(o.preventCache)?a.loadImage(d):a.loadAndCacheImage(d)).then(function(i){if(o.currentImageIdIndex===t){try{a.getEnabledElement(e)}catch(e){return}r?(r.currentImageIdIndex=t,r.render(e,n.data)):a.displayImage(e,i),l&&l(e,i)}},function(n){var r=o.imageIds[t];u&&u(e,r,n)}),Fr.startGrabbing(),w(e,b.STACK_SCROLL,c)}}},zr=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=J(e,"stack");if(a&&a.data&&a.data.length){var i=a.data[0];i.pending||(i.pending=[]);var o=i.currentImageIdIndex+t;if(n?o%=i.imageIds.length:o=se(o,0,i.imageIds.length-1),r)Br(e,o);else{var s={index:o};i.pending.push(s),function e(t,n,r){if(t.pending[0]===n){if(t.currentImageIdIndex===n.index)return t.pending.splice(t.pending.indexOf(n),1),void(t.pending.length>0&&e(t,t.pending[0],r));r.addEventListener(g.cornerstone.EVENTS.NEW_IMAGE,function e(a){t.imageIds.indexOf(a.detail.image.imageId)===n.index&&(t.pending.splice(t.pending.indexOf(n),1),r.removeEventListener(g.cornerstone.EVENTS.NEW_IMAGE,e),t.pending.length>0&&function e(t,n,r){if(t.pending[0]===n){if(t.currentImageIdIndex===n.index)return t.pending.splice(t.pending.indexOf(n),1),void(t.pending.length>0&&e(t,t.pending[0],r));r.addEventListener(g.cornerstone.EVENTS.NEW_IMAGE,function a(i){t.imageIds.indexOf(i.detail.image.imageId)===n.index&&(t.pending.splice(t.pending.indexOf(n),1),r.removeEventListener(g.cornerstone.EVENTS.NEW_IMAGE,a),t.pending.length>0&&e(t,t.pending[0],r))}),Br(r,n.index)}}(t,t.pending[0],r))}),Br(r,n.index)}}(i,s,e)}}},Hr=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,t);var r=Object.assign({name:"StackScrollMouseWheel",supportedInteractionTypes:["MouseWheel"],configuration:{loop:!1,allowSkipping:!0,invert:!1}},n);return(e=l()(this,c()(t).call(this,r))).initialConfiguration=r,e}return f()(t,e),o()(t,[{key:"mouseWheelCallback",value:function(e){var t=e.detail,n=t.direction,r=t.element,a=this.configuration,i=a.loop,o=a.allowSkipping,s=a.invert;zr(r,s?-n:n,i,o)}}]),t}(Y),Vr=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,t);var r=Object.assign({name:"StackScrollMultiTouch",supportedInteractionTypes:["MultiTouch"],configuration:{loop:!1,allowSkipping:!0,touchPointers:3}},n);return(e=l()(this,c()(t).call(this,r))).initialConfiguration=r,e.multiTouchDragCallback=e._dragCallback.bind(ct()(ct()(e))),e}return f()(t,e),o()(t,[{key:"_dragCallback",value:function(e){var t=e.detail;if(t.numPointers===this.configuration.touchPointers){var n=t.element,r=t.deltaPoints,a=this.configuration,i=a.loop,o=a.allowSkipping,s=Xn(this.name,n),l=this._getPixelPerImage(n),u=this._getDeltaY(n,r.page.y);if(!l)return;if(Math.abs(u)>=l){var c=Math.round(u/l);zr(n,c,i,o),s.deltaY=u%l}else s.deltaY=u;Kn(this.name,n,s)}}},{key:"_getDeltaY",value:function(e,t){return(Xn(this.name,e).deltaY||0)+t}},{key:"_getPixelPerImage",value:function(e){var t=J(e,"stack");if(t&&t.data&&t.data.length){var n=t.data[0];return this.configuration.stackScrollSpeed||Math.max(2,e.offsetHeight/Math.max(n.imageIds.length,8))}}}]),t}(Y),Wr=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,t);var r=Object.assign({name:"StackScroll",supportedInteractionTypes:["Mouse","Touch"],configuration:{loop:!1,allowSkipping:!0}},n);return(e=l()(this,c()(t).call(this,r))).initialConfiguration=r,e.mouseDragCallback=e._dragCallback.bind(ct()(ct()(e))),e.touchDragCallback=e._dragCallback.bind(ct()(ct()(e))),e}return f()(t,e),o()(t,[{key:"_dragCallback",value:function(e){var t=e.detail,n=t.element,r=t.deltaPoints,a=this.configuration,i=a.loop,o=a.allowSkipping,s=Xn(this.name,n),l=this._getPixelPerImage(n),u=this._getDeltaY(n,r.page.y);if(l){if(Math.abs(u)>=l){var c=Math.round(u/l);zr(n,c,i,o),s.deltaY=u%l}else s.deltaY=u;Kn(this.name,n,s)}}},{key:"_getDeltaY",value:function(e,t){return(Xn(this.name,e).deltaY||0)+t}},{key:"_getPixelPerImage",value:function(e){var t=J(e,"stack");if(t&&t.data&&t.data.length){var n=t.data[0];return this.configuration.stackScrollSpeed||Math.max(2,e.offsetHeight/Math.max(n.imageIds.length,8))}}}]),t}(Y),qr=function(e,t,n,r,a){if(!e)throw new Error("getLuminance: parameter element must not be undefined");t=Math.round(t),n=Math.round(n);var i,o,s,l=g.cornerstone.getEnabledElement(e).image,u=[],c=0,d=l.getPixelData();if(l.color)for(o=0;o<a;o++)for(s=0;s<r;s++){var f=d[i=4*((o+n)*l.columns+(s+t))],h=d[i+1],p=d[i+2];u[c++]=.2126*f+.7152*h+.0722*p}else for(o=0;o<a;o++)for(s=0;s<r;s++)i=(o+n)*l.columns+(s+t),u[c++]=d[i]*l.slope+l.intercept;return u},Gr=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,t);var r=Object.assign({name:"WwwcRegion",supportedInteractionTypes:["Mouse","Touch"],configuration:{minWindowWidth:10}},n);return(e=l()(this,c()(t).call(this,r))).initialConfiguration=r,e._resetHandles(),e.postTouchStartCallback=e._startOutliningRegion.bind(ct()(ct()(e))),e.touchDragCallback=e._setHandlesAndUpdate.bind(ct()(ct()(e))),e.touchEndCallback=e._applyStrategy.bind(ct()(ct()(e))),e.postMouseDownCallback=e._startOutliningRegion.bind(ct()(ct()(e))),e.mouseClickCallback=e._startOutliningRegion.bind(ct()(ct()(e))),e.mouseDragCallback=e._setHandlesAndUpdate.bind(ct()(ct()(e))),e.mouseMoveCallback=e._setHandlesAndUpdate.bind(ct()(ct()(e))),e.mouseUpCallback=e._applyStrategy.bind(ct()(ct()(e))),e}return f()(t,e),o()(t,[{key:"renderToolData",value:function(e){var t=this,n=e.detail,r=n.element,a=Me.getColorIfActive({active:!0}),i=Ke(n.canvasContext.canvas);Oe(i,function(e){Xe(e,r,t.handles.start,t.handles.end,{color:a})})}},{key:"_startOutliningRegion",value:function(e){var t=e.detail.element,n=e.detail.currentPoints.image;return Yr(this.handles.start)?this.handles.start=n:(this.handles.end=n,this._applyStrategy(e)),g.cornerstone.updateImage(t),!0}},{key:"_setHandlesAndUpdate",value:function(e){var t=e.detail.element,n=e.detail.currentPoints.image;this.handles.end=n,g.cornerstone.updateImage(t)}},{key:"_applyStrategy",value:function(e){Yr(this.handles.start)||Yr(this.handles.end)||(e.detail.handles=this.handles,Zr(e,this.configuration),this._resetHandles())}},{key:"_resetHandles",value:function(){this.handles={start:{},end:{}}}}]),t}(Y),Yr=function(e){return 0===Object.keys(e).length&&e.constructor===Object},Zr=function(e,t){var n=e.detail,r=n.image,a=n.element,i=e.detail.handles,o=i.start,s=i.end,l=Math.min(o.x,s.x),u=Math.min(o.y,s.y),c=Math.abs(o.x-s.x),d=Math.abs(o.y-s.y);l=se(l,0,r.width),u=se(u,0,r.height),c=Math.floor(Math.min(c,Math.abs(r.width-l))),d=Math.floor(Math.min(d,Math.abs(r.height-u)));var f=qr(a,l,u,c,d),h=Xr(f,r.minPixelValue,r.maxPixelValue),p=n.viewport;void 0===t.minWindowWidth&&(t.minWindowWidth=10),p.voi.windowWidth=Math.max(Math.abs(h.max-h.min),t.minWindowWidth),p.voi.windowCenter=h.mean,g.cornerstone.setViewport(a,p),g.cornerstone.updateImage(a)},Xr=function(e,t,n){var r=e.length,a=n,i=t,o=0;if(r<2)return{min:a,max:i,mean:(t+n)/2};for(var s=0;s<r;s++){var l=e[s];a=Math.min(a,l),i=Math.max(i,l),o+=l}return{min:a,max:i,mean:o/r}},Kr=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,t);var r={name:"Wwwc",strategies:{basicLevelingStrategy:$r},supportedInteractionTypes:["Mouse","Touch"],configuration:{orientation:0}},i=Object.assign(r,n);return(e=l()(this,c()(t).call(this,i))).initialConfiguration=i,e}return f()(t,e),o()(t,[{key:"mouseDragCallback",value:function(e){this.applyActiveStrategy(e),g.cornerstone.setViewport(e.detail.element,e.detail.viewport)}},{key:"touchDragCallback",value:function(e){e.stopImmediatePropagation(),this.applyActiveStrategy(e),g.cornerstone.setViewport(e.detail.element,e.detail.viewport)}}]),t}(Y);function $r(e,t){var n=t.orientation,r=e.detail,a=(r.image.maxPixelValue*r.image.slope+r.image.intercept-(r.image.minPixelValue*r.image.slope+r.image.intercept))/1024,i=r.deltaPoints.page.x*a,o=r.deltaPoints.page.y*a;0===n?(r.viewport.voi.windowWidth+=i,r.viewport.voi.windowCenter+=o):(r.viewport.voi.windowWidth+=o,r.viewport.voi.windowCenter+=i)}var Jr=function(e,t,n){var r=n.maxScale,a=n.minScale,i=Math.log(e.scale)/Math.log(1.7)+t,o=Math.pow(1.7,i);return e.scale=r&&o>r?r:a&&o<a?a:o,e},Qr={changeViewportScale:Jr,correctShift:function(e,t){var n=t.hflip,r=t.vflip,a=t.rotation;if(e.x*=n?-1:1,e.y*=r?-1:1,0!==a){var i=a*Math.PI/180,o=Math.cos(i),s=Math.sin(i),l=e.x*o-e.y*s,u=e.x*s+e.y*o;e.x=l,e.y=u}return e}},ea=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,t);var r=Object.assign({name:"ZoomMouseWheel",supportedInteractionTypes:["MouseWheel"],configuration:{minScale:.25,maxScale:20,invert:!1}},n);return(e=l()(this,c()(t).call(this,r))).initialConfiguration=r,e}return f()(t,e),o()(t,[{key:"mouseWheelCallback",value:function(e){var t=e.detail,n=t.element,r=t.viewport,a=t.spinY,i=this.configuration,o=i.invert,s=i.maxScale,l=i.minScale,u=Jr(r,o?a/4:-a/4,{maxScale:s,minScale:l});g.cornerstone.setViewport(n,u)}}]),t}(Y),ta=Qr.correctShift,na=Qr.changeViewportScale,ra=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,t);var r={name:"Zoom",strategies:{default:ia,translate:oa,zoomToCenter:sa},defaultStrategy:"default",supportedInteractionTypes:["Mouse","Touch"],configuration:{invert:!1,preventZoomOutsideImage:!1,minScale:.25,maxScale:20}},i=Object.assign(r,n);return(e=l()(this,c()(t).call(this,i))).initialConfiguration=i,e}return f()(t,e),o()(t,[{key:"touchDragCallback",value:function(e){aa.call(this,e)}},{key:"mouseDragCallback",value:function(e){aa.call(this,e)}}]),t}(Y),aa=function(e){if(!e.detail.deltaPoints.page.y)return!1;this.applyActiveStrategy(e,this.configuration),g.cornerstone.setViewport(e.detail.element,e.detail.viewport)};function ia(e,t){var n=t.invert,r=t.maxScale,a=t.minScale,i=e.detail.deltaPoints.page.y,o=n?-i/100:i/100,s=e.detail,l=s.element,u=s.viewport,c=[e.detail.startPoints.page.x,e.detail.startPoints.page.y,e.detail.startPoints.image.x,e.detail.startPoints.image.y],d=c[0],f=c[1],h=c[2],p=c[3],m=na(u,o,{maxScale:r,minScale:a});g.cornerstone.setViewport(l,m);var v=g.cornerstone.pageToPixel(l,d,f),y={x:h-v.x,y:p-v.y};y=ta(y,m),u.translation.x-=y.x,u.translation.y-=y.y}function oa(e,t){var n=t.invert,r=t.preventZoomOutsideImage,a=t.maxScale,i=t.minScale,o=e.detail.deltaPoints.page.y,s=n?-o/100:o/100,l=e.detail.image,u=e.detail.viewport,c=[e.detail.startPoints.image.x,e.detail.startPoints.image.y],d=c[0],f=c[1],h=na(u,s,{maxScale:a,minScale:i}),p={x:0,y:0};if(s<0)h.scale<3&&(Math.abs(h.translation.x)<.01?h.translation.x=0:p.x=h.translation.x/8,Math.abs(h.translation.y)<.01?h.translation.y=0:p.y=h.translation.y/8);else{r&&le(e.detail.startPoints.image,l);var m={x:l.width/2-d,y:l.height/2-f};m=ta(m,h);var g={x:h.translation.x-m.x,y:h.translation.y-m.y};Math.abs(g.x)<.01?h.translation.x=m.x:p.x=g.x/8,Math.abs(g.y)<.01?h.translation.y=m.y:p.y=g.y/8}h.translation.x-=p.x,h.translation.y-=p.y}function sa(e,t){var n=t.invert,r=t.maxScale,a=t.minScale,i=e.detail.deltaPoints.page.y,o=n?-i/100:i/100,s=e.detail.viewport;na(s,o,{maxScale:r,minScale:a})}var la=Qr.correctShift,ua=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,t);var r=Object.assign({name:"ZoomTouchPinch",supportedInteractionTypes:["TouchPinch"],configuration:{minScale:.25,maxScale:20}},n);return(e=l()(this,c()(t).call(this,r))).initialConfiguration=r,e}return f()(t,e),o()(t,[{key:"touchPinchCallback",value:function(e){var t=e.detail,n=t.element,r=t.viewport,a=t.scaleChange,i=[e.detail.startPoints.page.x,e.detail.startPoints.page.y,e.detail.startPoints.image.x,e.detail.startPoints.image.y],o=i[0],s=i[1],l=i[2],u=i[3],c=this.configuration,d=c.maxScale,f=c.minScale;r.scale+=a*r.scale,d&&r.scale>d?r.scale=d:f&&r.scale<f&&(r.scale=f),g.cornerstone.setViewport(n,r);var h=g.cornerstone.pageToPixel(n,o,s),p={x:l-h.x,y:u-h.y};p=la(p,r),r.translation.x-=p.x,r.translation.y-=p.y,g.cornerstone.setViewport(n,r)}}]),t}(Y),ca=function(e){return{page:da(e.page),image:da(e.image),client:da(e.client),canvas:da(e.canvas)}};function da(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{x:e.x,y:e.y}}var fa,ha={48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",13:"RETURN",8:"BACKSPACE",9:"TAB",46:"DELETE",12:"DELETE",27:"ESCAPE",20:"CAPSLOCK",173:"-",189:"-",109:"-",61:"+",187:"+",107:"+",219:"[",221:"]",59:";",186:";",188:",",190:".",199:"/"},pa={"base/BaseTool":Y,"base/BaseAnnotationTool":Te,"base/BaseBrushTool":Ln,"manipulators/anyHandlesOutsideImage":oe,"manipulators/getHandleNearImagePoint":ae,"manipulators/handleActivator":ie,"manipulators/moveAllHandles":de,"manipulators/moveHandle":me,"manipulators/moveNewHandle":ye,"manipulators/moveHandleNearImagePoint":we,"manipulators/findHandleDataNearImagePoint":xe,"manipulators/moveAnnotation":Ee,"mixins/activeOrDisabledBinaryTool":G.activeOrDisabledBinaryTool,"mixins/enabledOrDisabledBinaryTool":G.enabledOrDisabledBinaryTool,"drawing/getNewContext":Ke,"drawing/draw":Oe,"drawing/path":De,"drawing/setShadow":Je,"drawing/drawLine":Ae,"drawing/drawLines":function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"pixel";De(e,r,function(e){n.forEach(function(n){var r=n.start,i=n.end;if("pixel"===a){var o=g.cornerstone;r=o.pixelToCanvas(t,r),i=o.pixelToCanvas(t,i)}e.moveTo(r.x,r.y),e.lineTo(i.x,i.y)})})},"drawing/drawJoinedLines":Le,"drawing/drawCircle":je,"drawing/drawEllipse":Ne,"drawing/drawRect":Xe,"drawing/fillOutsideRect":function(e,t,n,r,a){if("pixel"===(arguments.length>5&&void 0!==arguments[5]?arguments[5]:"pixel")){var i=g.cornerstone;n=i.pixelToCanvas(t,n),r=i.pixelToCanvas(t,r)}var o=Math.min(n.x,r.x),s=Math.min(n.y,r.y),l=Math.abs(n.x-r.x),u=Math.abs(n.y-r.y);De(e,a,function(e){e.rect(0,0,e.canvas.clientWidth,e.canvas.clientHeight),e.rect(o+l,s,-l,u)})},"drawing/drawTextBox":Ye,"drawing/drawArrow":Re,"drawing/fillBox":qe,"drawing/fillTextLines":We,"drawing/drawLink":Fe,"drawing/drawLinkedTextBox":Ze,"drawing/drawHandles":Ue,"drawing/textBoxWidth":Ge,"util/getLuminance":qr,"util/copyPoints":ca,"util/calculateSUV":jt,"util/setContextToDisplayFontSize":function(e,t,n){return g.cornerstone.setToPixelCoordinateSystem(e,t,.1),{fontSize:n/e.viewport.scale/.1,lineHeight:n/e.viewport.scale/.1,fontScale:.1}},"util/scrollToIndex":Br,"util/scroll":zr,"util/roundToDecimal":nt,"util/projectPatientPointToImagePlane":qn,"util/imagePointToPatientPoint":Gn,"util/planePlaneIntersection":Yn,"util/pointInsideBoundingBox":ne,"util/makeUnselectable":function(e,t){e.style.webkitUserSelect="none",e.style.webkitTouchCallout="none",e.style.mozUserSelect="none",e.style.msUserSelect="none",e.style.oUserSelect="none",e.style.khtmlUserSelect="none",e.style.userSelect="none",e.unselectable="on",e.oncontextmenu=function(){return!1},!0===t&&(e.style.pointerEvents="none")},"util/getRGBPixels":bn,"util/getDefaultSimultaneousRequests":Mr,"util/getMaxSimultaneousRequests":Ir,"util/getBrowserInfo":Pr,"util/isMobileDevice":function(){return new RegExp("Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini").test(navigator.userAgent)},"util/angleBetweenPoints":vr,"util/getKeyFromKeyCode":function(e){return ha[e]},"util/numbersWithCommas":zt,"util/lineSegDistance":tt,"util/triggerEvent":w,"util/convertToVectro3":Wn,"util/ellipseUtils":Bt,"util/freehandUtils":cn,"util/brushUtils":Rn,"util/zoomUtils":Qr},ma=function(e){return pa[e]},ga=!0,va=200;function ya(e){if("number"==typeof e.buttons)return e.buttons;switch(e.which){case 0:return 0;case 1:return 1;case 2:return 4;case 3:return 2}return 0}function ba(){ga=!1}function wa(e){var t=e.currentTarget,n=g.cornerstone.getEnabledElement(t);if(n.image){var r=b.MOUSE_DOUBLE_CLICK,a={page:g.cornerstoneMath.point.pageToPoint(e),image:g.cornerstone.pageToPixel(t,e.pageX,e.pageY),client:{x:e.clientX,y:e.clientY}};a.canvas=g.cornerstone.pixelToCanvas(t,a.image);var i=ca(a);console.log("double-click: ".concat(ya(e))),w(t,r,{event:e,buttons:ya(e),viewport:g.cornerstone.getViewport(t),image:n.image,element:t,startPoints:a,lastPoints:i,currentPoints:a,deltaPoints:{x:0,y:0},type:r})}}function xa(e){var t=e.currentTarget,n=g.cornerstone.getEnabledElement(t);if(n.image){fa=setTimeout(ba,va),t.removeEventListener("mousemove",Ea);var r={page:g.cornerstoneMath.point.pageToPoint(e),image:g.cornerstone.pageToPixel(t,e.pageX,e.pageY),client:{x:e.clientX,y:e.clientY}};r.canvas=g.cornerstone.pixelToCanvas(t,r.image);var a=ca(r),i={event:e,buttons:ya(e),viewport:g.cornerstone.getViewport(t),image:n.image,element:t,startPoints:r,lastPoints:a,currentPoints:r,deltaPoints:{x:0,y:0},type:b.MOUSE_DOWN};w(i.element,b.MOUSE_DOWN,i)&&(i.type=b.MOUSE_DOWN_ACTIVATE,w(i.element,b.MOUSE_DOWN_ACTIVATE,i)),document.addEventListener("mousemove",o),document.addEventListener("mouseup",function e(i){clearTimeout(fa);var s=b.MOUSE_UP;ga&&(s=b.MOUSE_CLICK);var l={page:g.cornerstoneMath.point.pageToPoint(i),image:g.cornerstone.pageToPixel(t,i.pageX,i.pageY),client:{x:i.clientX,y:i.clientY}};l.canvas=g.cornerstone.pixelToCanvas(t,l.image);var u={page:g.cornerstoneMath.point.subtract(l.page,a.page),image:g.cornerstoneMath.point.subtract(l.image,a.image),client:g.cornerstoneMath.point.subtract(l.client,a.client),canvas:g.cornerstoneMath.point.subtract(l.canvas,a.canvas)};console.log("mouseup: ".concat(ya(i)));var c={event:i,buttons:ya(i),viewport:g.cornerstone.getViewport(t),image:n.image,element:t,startPoints:r,lastPoints:a,currentPoints:l,deltaPoints:u,type:s};w(c.element,s,c),document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",e),t.addEventListener("mousemove",Ea),ga=!0})}function o(e){var i=b.MOUSE_DRAG,o={page:g.cornerstoneMath.point.pageToPoint(e),image:g.cornerstone.pageToPixel(t,e.pageX,e.pageY),client:{x:e.clientX,y:e.clientY}};o.canvas=g.cornerstone.pixelToCanvas(t,o.image);var s={page:g.cornerstoneMath.point.subtract(o.page,a.page),image:g.cornerstoneMath.point.subtract(o.image,a.image),client:g.cornerstoneMath.point.subtract(o.client,a.client),canvas:g.cornerstoneMath.point.subtract(o.canvas,a.canvas)};console.log("mousemove ".concat(ya(e)));var l={buttons:ya(e),viewport:g.cornerstone.getViewport(t),image:n.image,element:t,startPoints:r,lastPoints:a,currentPoints:o,deltaPoints:s,type:i,ctrlKey:e.ctrlKey,metaKey:e.metaKey,shiftKey:e.shiftKey};w(l.element,i,l),a=ca(o)}}function Ea(e){var t=e.currentTarget,n=g.cornerstone.getEnabledElement(t);if(n.image){var r=b.MOUSE_MOVE,a={page:g.cornerstoneMath.point.pageToPoint(e),image:g.cornerstone.pageToPixel(t,e.pageX,e.pageY),client:{x:e.clientX,y:e.clientY}};a.canvas=g.cornerstone.pixelToCanvas(t,a.image);var i=ca(a),o={page:g.cornerstoneMath.point.pageToPoint(e),image:g.cornerstone.pageToPixel(t,e.pageX,e.pageY),client:{x:e.clientX,y:e.clientY}};o.canvas=g.cornerstone.pixelToCanvas(t,o.image);var s={page:g.cornerstoneMath.point.subtract(o.page,i.page),image:g.cornerstoneMath.point.subtract(o.image,i.image),client:g.cornerstoneMath.point.subtract(o.client,i.client),canvas:g.cornerstoneMath.point.subtract(o.canvas,i.canvas)};w(t,r,{viewport:g.cornerstone.getViewport(t),image:n.image,element:t,startPoints:a,lastPoints:i,currentPoints:o,deltaPoints:s,type:r}),i=ca(o)}}function Ta(e){e.removeEventListener("mousedown",xa),e.removeEventListener("mousemove",Ea),e.removeEventListener("dblclick",wa)}var _a={enable:function(e){Ta(e),e.addEventListener("mousedown",xa),e.addEventListener("mousemove",Ea),e.addEventListener("dblclick",wa)},disable:Ta},Sa=function(e){var t=0,n=0,r=0,a=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),r=10*t,a=10*n,"deltaY"in e&&(a=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||a)&&e.deltaMode&&(1===e.deltaMode?(r*=40,a*=40):(r*=800,a*=800)),r&&!t&&(t=r<1?-1:1),a&&!n&&(n=a<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:a}};function Ca(e){var t=e.currentTarget,n=g.cornerstone.getEnabledElement(t);if(n.image){e.preventDefault();var r=e.pageX,a=e.pageY,i=g.cornerstone.pageToPixel(t,r,a),o=Sa(e),s=o.spinX,l=o.spinY,u=o.pixelX,c=o.pixelY,d=l<0?-1:1,f={element:t,viewport:g.cornerstone.getViewport(t),detail:e,image:n.image,direction:d,spinX:s,spinY:l,pixelX:u,pixelY:c,pageX:r,pageY:a,imageX:i.x,imageY:i.y};w(t,b.MOUSE_WHEEL,f)}}function ka(e){e.removeEventListener("wheel",Ca,{passive:!1})}var Pa,Ia,Ma={enable:function(e){ka(e),e.addEventListener("wheel",Ca,{passive:!1})},disable:ka},Oa=2e3,Da={mouse:0,touch:1};function Aa(e,t){var n=Date.now();if(e!==Pa){if(n-Ia<=Oa)return t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),!1;Pa=e}Ia=n}var La=Aa.bind(null,Da.mouse),Ra=Aa.bind(null,Da.touch);function ja(e,t,n){var r=n?La:Ra;t.forEach(function(t){e.addEventListener(t,r,{passive:!1})})}function Na(e,t,n){var r=n?La:Ra;t.forEach(function(t){e.removeEventListener(t,r)})}var Ua=["mousedown","mouseup"],Fa=["touchstart","touchend"];function Ba(e){Na(e,Ua,Da.mouse),Na(e,Fa,Da.touch)}var za,Ha,Va,Wa,qa,Ga,Ya,Za,Xa,Ka={enable:function(e){Ba(e),ja(e,Ua,Da.mouse),ja(e,Fa,Da.touch)},disable:Ba},$a=1,Ja=0,Qa=!1,ei=!1,ti=700,ni=5,ri="touchInput";function ai(e){var t=e.currentTarget||e.srcEvent.currentTarget,n=g.cornerstone.getEnabledElement(t);if(n.image){var r,a,i,o;switch(e.preventDefault(),(e.pointers&&e.pointers.length>1||e.touches&&e.touches.length>1)&&(ei=!1,clearTimeout(Ya)),e.type){case"tap":ei=!1,clearTimeout(Ya),(Ha={page:g.cornerstoneMath.point.pageToPoint(e.pointers[0]),image:g.cornerstone.pageToPixel(t,e.pointers[0].pageX,e.pointers[0].pageY),client:{x:e.pointers[0].clientX,y:e.pointers[0].clientY}}).canvas=g.cornerstone.pixelToCanvas(t,Ha.image),r=b.TAP,qa={event:e,viewport:g.cornerstone.getViewport(t),image:n.image,element:t,currentPoints:Ha,type:r,isTouchEvent:!0},w(t,r,qa);break;case"doubletap":ei=!1,clearTimeout(Ya),(Ha={page:g.cornerstoneMath.point.pageToPoint(e.pointers[0]),image:g.cornerstone.pageToPixel(t,e.pointers[0].pageX,e.pointers[0].pageY),client:{x:e.pointers[0].clientX,y:e.pointers[0].clientY}}).canvas=g.cornerstone.pixelToCanvas(t,Ha.image),r=b.DOUBLE_TAP,qa={event:e,viewport:g.cornerstone.getViewport(t),image:n.image,element:t,currentPoints:Ha,type:r,isTouchEvent:!0},w(t,r,qa);break;case"pinchstart":ei=!1,clearTimeout(Ya),$a=1;break;case"pinchmove":if(ei=!1,clearTimeout(Ya),!0===Qa){$a=e.scale,Qa=!1;break}a=(e.scale-$a)/$a,(za={page:e.center,image:g.cornerstone.pageToPixel(t,e.center.x,e.center.y)}).canvas=g.cornerstone.pixelToCanvas(t,za.image),r=b.TOUCH_PINCH,qa={event:e,startPoints:za,viewport:g.cornerstone.getViewport(t),image:n.image,element:t,direction:e.scale<1?1:-1,scaleChange:a,type:r,isTouchEvent:!0},w(t,r,qa),$a=e.scale;break;case"touchstart":$a=1,clearTimeout(Ya),clearTimeout(Ga),Ga=setTimeout(function(){(za={page:g.cornerstoneMath.point.pageToPoint(e.touches[0]),image:g.cornerstone.pageToPixel(t,e.touches[0].pageX,e.touches[0].pageY),client:{x:e.touches[0].clientX,y:e.touches[0].clientY}}).canvas=g.cornerstone.pixelToCanvas(t,za.image),r=b.TOUCH_START,e.touches.length>1&&(r=b.MULTI_TOUCH_START),qa={event:e,viewport:g.cornerstone.getViewport(t),image:n.image,element:t,startPoints:za,currentPoints:za,type:r,isTouchEvent:!0},!0===w(t,r,qa)&&(r=b.TOUCH_START_ACTIVE,e.touches.length>1&&(r=b.MULTI_TOUCH_START_ACTIVE),qa.type=r,w(t,r,qa)),Va=ca(za)},50),ei=!0,Za=0,Ya=setTimeout(function(){ei&&((Ha={page:g.cornerstoneMath.point.pageToPoint(e.touches[0]),image:g.cornerstone.pageToPixel(t,e.touches[0].pageX,e.touches[0].pageY),client:{x:e.touches[0].clientX,y:e.touches[0].clientY}}).canvas=g.cornerstone.pixelToCanvas(t,za.image),r=b.TOUCH_PRESS,qa={event:e,viewport:g.cornerstone.getViewport(t),image:n.image,element:t,currentPoints:Ha,type:r,isTouchEvent:!0},w(t,r,qa))},ti);break;case"touchend":$a=1,ei=!1,clearTimeout(Ya),setTimeout(function(){(za={page:g.cornerstoneMath.point.pageToPoint(e.changedTouches[0]),image:g.cornerstone.pageToPixel(t,e.changedTouches[0].pageX,e.changedTouches[0].pageY),client:{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}}).canvas=g.cornerstone.pixelToCanvas(t,za.image),r=b.TOUCH_END,qa={event:e,viewport:g.cornerstone.getViewport(t),image:n.image,element:t,startPoints:za,currentPoints:za,type:r,isTouchEvent:!0},w(t,r,qa)},50);break;case"panmove":i={x:e.deltaX-Xa.x,y:e.deltaY-Xa.y},Xa={x:e.deltaX,y:e.deltaY},(Ha={page:{x:Va.page.x+i.x,y:Va.page.y+i.y},image:g.cornerstone.pageToPixel(t,Va.page.x+i.x,Va.page.y+i.y),client:{x:Va.client.x+i.x,y:Va.client.y+i.y}}).canvas=g.cornerstone.pixelToCanvas(t,Ha.image),Wa={page:g.cornerstoneMath.point.subtract(Ha.page,Va.page),image:g.cornerstoneMath.point.subtract(Ha.image,Va.image),client:g.cornerstoneMath.point.subtract(Ha.client,Va.client),canvas:g.cornerstoneMath.point.subtract(Ha.canvas,Va.canvas)},(Za+=Math.sqrt(Wa.page.x*Wa.page.x+Wa.page.y*Wa.page.y))>ni&&(ei=!1,clearTimeout(Ya)),r=b.TOUCH_DRAG,e.pointers.length>1&&(r=b.MULTI_TOUCH_DRAG),qa={viewport:g.cornerstone.getViewport(t),image:n.image,element:t,startPoints:za,lastPoints:Va,currentPoints:Ha,deltaPoints:Wa,numPointers:e.pointers.length,type:r,isTouchEvent:!0},w(t,r,qa),Va=ca(Ha);break;case"panstart":Xa={x:e.deltaX,y:e.deltaY},(Ha={page:g.cornerstoneMath.point.pageToPoint(e.pointers[0]),image:g.cornerstone.pageToPixel(t,e.pointers[0].pageX,e.pointers[0].pageY),client:{x:e.pointers[0].clientX,y:e.pointers[0].clientY}}).canvas=g.cornerstone.pixelToCanvas(t,Ha.image),Va=ca(Ha);break;case"panend":if(ei=!1,clearTimeout(Ya),!Va)return!1;(Ha={page:g.cornerstoneMath.point.pageToPoint(e.pointers[0]),image:g.cornerstone.pageToPixel(t,e.pointers[0].pageX,e.pointers[0].pageY),client:{x:e.pointers[0].clientX,y:e.pointers[0].clientY}}).canvas=g.cornerstone.pixelToCanvas(t,Ha.image),Wa={page:g.cornerstoneMath.point.subtract(Ha.page,Va.page),image:g.cornerstoneMath.point.subtract(Ha.image,Va.image),client:g.cornerstoneMath.point.subtract(Ha.client,Va.client),canvas:g.cornerstoneMath.point.subtract(Ha.canvas,Va.canvas)},r=b.TOUCH_DRAG_END,qa={event:e.srcEvent,viewport:g.cornerstone.getViewport(t),image:n.image,element:t,startPoints:za,lastPoints:Va,currentPoints:Ha,deltaPoints:Wa,type:r,isTouchEvent:!0},w(t,r,qa),2===e.pointers.length-e.changedPointers.length&&(Qa=!0);break;case"rotatemove":ei=!1,clearTimeout(Ya),o=e.rotation-Ja,Ja=e.rotation,r=b.TOUCH_ROTATE,qa={event:e.srcEvent,viewport:g.cornerstone.getViewport(t),image:n.image,element:t,rotation:o,type:r},w(t,r,qa)}return!1}}function ii(e){Ka.disable(e),["touchstart","touchend"].forEach(function(t){e.removeEventListener(t,ai)});var t=Xn(ri,e).hammer;t&&t.off("tap doubletap panstart panmove panend pinchstart pinchmove rotatemove",ai)}var oi={enable:function(e){ii(e);var t=g.Hammer,n={inputClass:t.SUPPORT_POINTER_EVENTS?t.PointerEventInput:t.TouchInput},r=new t.Manager(e,n),a={pointers:0,direction:t.DIRECTION_ALL,threshold:0},i=new t.Pan(a),o=new t.Pinch({threshold:0}),s=new t.Rotate({threshold:0});o.recognizeWith(i),o.recognizeWith(s),s.recognizeWith(i);var l=new t.Tap({event:"doubletap",taps:2,interval:1500,threshold:50,posThreshold:50});l.recognizeWith(i),r.add([l,i,s,o]),r.on("tap doubletap panstart panmove panend pinchstart pinchmove rotatemove",ai),Ka.enable(e),["touchstart","touchend"].forEach(function(t){e.addEventListener(t,ai,{passive:!1})});var u=Xn(ri,e);u.hammer=r,Kn(ri,e,u)},disable:ii},si=function(e,t,n){return t.filter(function(t){return t.element===e&&"active"===t.mode&&(void 0===n||t.options["is".concat(n,"Active")])})};"createImageBitmap"in window||(window.createImageBitmap=function(){var e=dr()(ur.a.mark(function e(t){return ur.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){var n=document.createElement("img");n.addEventListener("load",function(){e(this)});var r=document.createElement("canvas");r.width=t.width,r.height=t.height,r.getContext("2d").putImageData(t,0,0,0,0,r.width,r.height),n.src=r.toDataURL()}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}());var li=M.modules.brush,ui=li.state,ci=li.getters,di=li.setters;function fi(e,t,n){var r=e.detail.element,a=n.toolData,i=n.visibleSegmentations;return!(!a.data[t]||!a.data[t].pixelData)&&(!!i[t]||ui.drawColorId===t&&si(r,M.state.tools).filter(function(e){return e instanceof Ln}).length>0)}function hi(e,t,n){var r=n.toolData,a=n.imageBitmapCache,i=n.visibleSegmentations;a&&a[t]&&function(e,t,n){var r=e.detail,a=Ke(r.canvasContext.canvas),i=g.cornerstone.pixelToCanvas(r.element,{x:0,y:0}),o=g.cornerstone.pixelToCanvas(r.element,{x:r.image.width,y:0}),s=g.cornerstone.pixelToCanvas(r.element,{x:r.image.width,y:r.image.height}),l=g.cornerstoneMath.point.distance(i,o),u=g.cornerstoneMath.point.distance(o,s),c=r.canvasContext.canvas,d=r.viewport;a.imageSmoothingEnabled=!1,a.globalAlpha=ui.hiddenButActiveAlpha,Qe(a,c,d);var f={x:d.translation.x*d.scale,y:d.translation.y*d.scale};a.drawImage(t,c.width/2-l/2+f.x,c.height/2-u/2+f.y,l,u),a.globalAlpha=1,et(a)}(e,a[t],i[t]),r.data[t].invalidated&&function(e,t,n){var r=e.detail,a=r.element,i=g.cornerstone.getEnabledElement(a),o=t.data[n].pixelData;if(o){var s=ui.colorMapId,l=[[0,0,0,0],g.cornerstone.colors.getColormap(s).getColor(n)],u=new ImageData(r.image.width,r.image.height),c={stats:{},minPixelValue:0,getPixelData:function(){return o}};g.cornerstone.storedPixelDataToCanvasImageDataColorLUT(c,l,u.data),window.createImageBitmap(u).then(function(e){di.imageBitmapCacheForElement(i.uuid,n,e),t.data[n].invalidated=!1,g.cornerstone.updateImage(r.element)})}}(e,r,t)}var pi=function(e){var t=e.detail.element,n=k.tools.filter(function(e){return e.element===t&&("active"===e.mode||"passive"===e.mode||"enabled"===e.mode)});n.filter(function(e){return e instanceof Ln}).length>0&&function(e){var t=e.detail,n=t.element,r=Ln.getNumberOfColors(),a=J(n,Ln.getReferencedToolDataName());if(!a){for(var i=0;i<r;i++)$(n,Ln.getReferencedToolDataName(),{});a=J(n,Ln.getReferencedToolDataName());var o=new Uint8ClampedArray(t.image.width*t.image.height);a.data[0].pixelData=o,a=J(n,Ln.getReferencedToolDataName())}for(var s=g.cornerstone.getEnabledElement(n).uuid,l={visibleSegmentations:ci.visibleSegmentationsForElement(s),imageBitmapCache:ci.imageBitmapCacheForElement(s),toolData:a},u=0;u<r;u++)fi(e,u,l)&&hi(e,u,l)}(e),n.forEach(function(t){t.renderToolData&&t.renderToolData(e)})},mi=function(e,t,n){if(k.isToolLocked)return!1;var r=n.detail.element,a=k.tools.filter(function(t){return t.supportedInteractionTypes.includes(e)});if(0===(a=(a=si(r,a,e)).filter(function(e){return"function"==typeof e[t]})).length)return!1;a[0][t](n)},gi=function(e,t,n){var r="mouse"===(arguments.length>3&&void 0!==arguments[3]?arguments[3]:"mouse")?k.clickProximity:k.touchProximity;return t.filter(function(t){for(var a=J(e,t.name),i=0;i<a.data.length;i++)if(void 0!==ae(e,a.data[i].handles,n,r))return!0;return!1})},vi=function(e,t){return t.filter(function(t){return t.element===e&&("active"===t.mode||"passive"===t.mode)})},yi=function(e,t){return t.filter(function(t){var n=J(e,t.name);return n&&n.data.length>0})},bi=function(e){if(!k.isToolLocked){var t=e.detail,n=e.detail.element,r=e.detail.currentPoints.canvas,a=vi(n,P.mouseTools()),i=a.filter(function(e){return"active"===e.mode&&Array.isArray(e.options.mouseButtonMask)&&e.options.mouseButtonMask.includes(t.buttons)&&e.options.isMouseActive});if(i.length>0){var o=i.find(function(e){return"function"==typeof e.preMouseDownCallback});if(o&&o.preMouseDownCallback(e))return}var s=yi(n,a),l=gi(n,s,r,"mouse");if(l.length>0){var u=l[0],c=J(n,u.name),d=xe(n,c,u.name,r),f=d.handle,h=d.data;u.handleSelectedCallback(e,h,f,"mouse")}else{var p=a.filter(function(e){var t=J(n,e.name);return t&&t.data&&e.pointNearTool&&t.data.some(function(t){return e.pointNearTool(n,t,r,"mouse")})});if(p.length>0){var m=p[0],g=J(n,m.name).data.find(function(e){return m.pointNearTool(n,e,r)});m.toolSelectedCallback(e,g,"mouse")}else if(i.length>0){var v=i.find(function(e){return"function"==typeof e.postMouseDownCallback});if(v&&v.postMouseDownCallback(e))return}}}},wi=function(e){if(!k.isToolLocked){var t=e.detail,n=t.element,r=si(n,P.mouseTools());if(0!==(r=r.filter(function(e){return Array.isArray(e.options.mouseButtonMask)&&e.options.mouseButtonMask.includes(t.buttons)&&e.options.isMouseActive})).length){var a=r[0];if("function"==typeof a.preMouseDownActivateCallback&&a.preMouseDownActivateCallback(e))return;a.addNewMeasurement?a.addNewMeasurement(e,"mouse"):a instanceof Te&&function(e,t){e.preventDefault(),e.stopPropagation();var n=e.detail,r=n.element,a=t.createNewMeasurement(n);a&&($(r,t.name,a),g.cornerstone.updateImage(r),(1===Object.keys(a.handles).length?me:ye)(n,t.name,a,a.handles.end,t.options,"mouse"))}(e,a)}}},xi=function(e){if(!k.isToolLocked){var t,n=e.detail,r=n.element;0!==(t=(t=(t=si(r,P.mouseTools())).filter(function(e){return Array.isArray(e.options.mouseButtonMask)&&e.options.mouseButtonMask.includes(n.buttons)&&e.options.isMouseActive})).filter(function(e){return"function"==typeof e.mouseDragCallback})).length&&t[0].mouseDragCallback(e)}},Ei=function(e){if(!k.isToolLocked){var t,n=e.detail,r=n.element,a=n.currentPoints;k.mousePositionImage=a.image;var i=(t=vi(r,P.mouseTools())).filter(function(e){return"active"===e.mode&&e.options.isMouseActive}),o=!1;i.length>0&&(o=i.some(function(e){return e.hasCursor})),t=yi(r,t);for(var s=0;s<t.length;s++){var l=t[s];"function"==typeof l.mouseMoveCallback&&(o=l.mouseMoveCallback(e)||o)}!0===o&&g.cornerstone.updateImage(r)}},Ti=mi.bind(null,"Mouse","mouseClickCallback"),_i=mi.bind(null,"Mouse","doubleClickCallback"),Si=mi.bind(null,"Mouse","mouseUpCallback"),Ci=mi.bind(null,"MouseWheel","mouseWheelCallback"),ki=(M.modules.brush.setters,function(e){if(k.isToolLocked)return!1;var t=e.detail.element,n=k.tools.filter(function(e){return e.element===t&&("active"===e.mode||"passive"===e.mode||"enabled"===e.mode)});if(0===n.length)return!1;n.forEach(function(t){t.newImageCallback&&t.newImageCallback(e)}),n.filter(function(e){return e instanceof Ln}).length>0&&function(e){var t=e.detail,n=t.element,r=J(n,Ln.getReferencedToolDataName());if(!r){for(var a=Ln.getNumberOfColors(),i=0;i<a;i++)$(n,Ln.getReferencedToolDataName(),{});r=J(n,Ln.getReferencedToolDataName());var o=new Uint8ClampedArray(t.image.width*t.image.height);r.data[0].pixelData=o,r=J(n,Ln.getReferencedToolDataName())}g.cornerstone.getEnabledElement(n);for(var s=Ln.getNumberOfColors(),l=0;l<s;l++)r.data[l]&&(r.data[l].invalidated=!0);g.cornerstone.updateImage(t.element)}(e)}),Pi=function(e){if(k.isToolLocked)return!1;var t=e.detail,n=t.element,r=t.numPointers,a=k.tools.filter(function(e){return e.supportedInteractionTypes.includes("MultiTouch")});if(0===(a=(a=si(n,a,"MultiTouch")).filter(function(e){return"function"==typeof e.multiTouchDragCallback&&r===e.configuration.touchPointers})).length)return!1;a[0].multiTouchDragCallback(e)},Ii=function(e){if(!k.isToolLocked){var t=e.detail.element,n=si(t,P.touchTools());if(0!==(n=n.filter(function(e){return e.options.isTouchActive})).length){var r=n[0];r&&r.addNewMeasurement?r.addNewMeasurement(e,"touch"):r instanceof Te&&function(e,t){console.log("touch: addNewMeasurement"),e.preventDefault(),e.stopPropagation();var n=e.detail,r=n.element,a=t.createNewMeasurement(n);if(a){if($(r,t.name,a),1===Object.keys(a.handles).length&&n.type===b.TAP)return a.active=!1,a.handles.end.active=!1,a.handles.end.highlight=!1,a.invalidated=!0,(k.deleteIfHandleOutsideImage||t.options.deleteIfHandleOutsideImage)&&oe(n,a.handles)&&Q(r,t.name,a),void g.cornerstone.updateImage(r);g.cornerstone.updateImage(r),ye(n,t.name,a,a.handles.end,t.options,"touch")}}(e,r)}}},Mi=function(e){if(e)for(var t=0;t<e.data.length;t++){var n=e.data[t];n.active=!1,n.handles&&Oi(n.handles)}};function Oi(e){Object.keys(e).forEach(function(t){e[t].active=!1})}var Di,Ai=function(e){if(!k.isToolLocked){var t,n=e.detail.element,r=e.detail.currentPoints.canvas;t=si(n,P.touchTools());var a=(t=yi(n,t)).filter(function(e){for(var t=J(n,e.name),a=0;a<t.data.length;a++)if(void 0!==ae(n,t.data[a].handles,r,28))return!0;return!1});if(a.length>0){var i=a[0],o=J(n,i.name),s=o.data.find(function(e){return void 0!==ae(n,e.handles,r,28)});o.data.active=!0,s.active=!0,g.cornerstone.updateImage(n);var l=Object.assign({},{doneMovingCallback:function(){Mi(o)}},i.options);return me(e.detail,i.name,o.data,s,l,"touch"),e.stopImmediatePropagation(),void e.preventDefault()}var u=t.filter(function(e){var t=J(n,e.name);return t&&t.data&&e.pointNearTool&&t.data.some(function(t){return e.pointNearTool(n,t,r)})});if(u.length>0){var c=u[0],d=J(n,c.name),f=d.data.find(function(e){return c.pointNearTool(n,e,r)});f.active=!0,g.cornerstone.updateImage(n);var h=Object.assign({},{doneMovingCallback:function(){Mi(d)}},c.options);return de(e.detail,c.name,f,null,h,"touch"),e.stopImmediatePropagation(),void e.preventDefault()}var p=si(n,P.touchTools());return p.length>0&&p[0].touchStartActiveCallback?p[0].touchStartActiveCallback(e):Ii(e),!1}},Li=function(e){if(!k.isToolLocked){var t=e.detail,n=t.element,r=t.startPoints.canvas,a=vi(n,P.touchTools()),i=a.filter(function(e){return"active"===e.mode&&e.options.isTouchActive});if(i.length>0){var o=i.find(function(e){return"function"==typeof e.preTouchStartCallback});if(o&&o.preTouchStartCallback(e))return}var s=yi(n,a),l=gi(n,s,r,"touch");if(l.length>0){var u=l[0],c=J(n,u.name),d=xe(n,c,u.name,r,"touch"),f=d.handle,h=d.data;u.handleSelectedCallback(e,h,f,"touch")}else{var p=s.filter(function(e){var t=J(n,e.name);return t&&t.data&&e.pointNearTool&&t.data.some(function(t){return e.pointNearTool(n,t,r,"touch")})});if(p.length>0){var m=p[0],g=J(n,m.name).data.find(function(e){return m.pointNearTool(n,e,r)});m.toolSelectedCallback(e,g,"touch")}else if(i.length>0){var v=i.find(function(e){return"function"==typeof e.postTouchStartCallback});if(v&&v.postTouchStartCallback(e))return}}}},Ri=mi.bind(null,"DoubleTap","doubleTapCallback"),ji=mi.bind(null,"Touch","touchDragCallback"),Ni=mi.bind(null,"Touch","touchEndCallback"),Ui=mi.bind(null,"TouchPinch","touchPinchCallback"),Fi=mi.bind(null,"Touch","touchPressCallback"),Bi=mi.bind(null,"TouchRotate","touchRotateCallback"),zi=function(e,t,n){var r=new t(n);O(e,r.name)?console.warn("".concat(r.name," has already been added to the target element")):(r.element=e,M.state.tools.push(r))},Hi=function(e,t){Vi(e,t),M.state.enabledElements.forEach(function(n){zi(n,e,t)})},Vi=function(e,t){if(M.modules.globalConfiguration.state.globalToolSyncEnabled){var n=new e(t);void 0!==M.state.globalTools[n.name]?console.warn("".concat(n.name," has already been added globally")):M.state.globalTools[n.name]={tool:e,configuration:t,activeBindings:[]}}},Wi=function(e){console.log("EVENT:ELEMENT_ENABLED");var t=e.detail.element;(function(e){e.addEventListener(g.cornerstone.EVENTS.IMAGE_RENDERED,pi)})(t),function(e){e.addEventListener(g.cornerstone.EVENTS.NEW_IMAGE,ki)}(t),M.modules.globalConfiguration.state.mouseEnabled&&(_a.enable(t),Ma.enable(t),function(e){e.addEventListener(b.MOUSE_CLICK,Ti),e.addEventListener(b.MOUSE_DOWN,bi),e.addEventListener(b.MOUSE_DOWN_ACTIVATE,wi),e.addEventListener(b.MOUSE_DOUBLE_CLICK,_i),e.addEventListener(b.MOUSE_DRAG,xi),e.addEventListener(b.MOUSE_MOVE,Ei),e.addEventListener(b.MOUSE_UP,Si),e.addEventListener(b.MOUSE_WHEEL,Ci)}(t)),M.modules.globalConfiguration.state.touchEnabled&&(oi.enable(t),function(e){e.addEventListener(b.TAP,Ai),e.addEventListener(b.TOUCH_START,Li,{passive:!1}),e.addEventListener(b.TOUCH_DRAG,ji,{passive:!1}),e.addEventListener(b.TOUCH_END,Ni),e.addEventListener(b.TOUCH_START_ACTIVE,Ii),e.addEventListener(b.TOUCH_PRESS,Fi),e.addEventListener(b.DOUBLE_TAP,Ri),e.addEventListener(b.TOUCH_PINCH,Ui),e.addEventListener(b.TOUCH_ROTATE,Bi),e.addEventListener(b.MULTI_TOUCH_DRAG,Pi)}(t)),qi(t)},qi=function(e){M.state.enabledElements.push(e),M.modules&&function(e){var t=M.modules;Object.keys(t).forEach(function(n){"function"==typeof t[n].enabledElementCallback&&t[n].enabledElementCallback(e)})}(e),function(e){M.modules.globalConfiguration.state.globalToolSyncEnabled&&Object.keys(M.state.globalTools).forEach(function(t){var n=M.state.globalTools[t],r=n.tool,a=n.configuration;zi(e,r,a)})}(e),function(e){if(M.modules.globalConfiguration.state.globalToolSyncEnabled){var t={active:D,passive:U,enabled:j,disabled:L};M.state.globalToolChangeHistory.forEach(function(n){var r=n.args.slice(0);r.unshift(e),t[n.mode].apply(null,r)})}}(e)},Gi=function(e){console.info("EVENT:ELEMENT_DISABLED");var t=e.detail.element;(function(e){e.removeEventListener(g.cornerstone.EVENTS.IMAGE_RENDERED,pi)})(t),function(e){e.removeEventListener(g.cornerstone.EVENTS.NEW_IMAGE,ki)}(t),M.modules.globalConfiguration.state.mouseEnabled&&(_a.disable(t),Ma.disable(t),function(e){e.removeEventListener(b.MOUSE_CLICK,Ti),e.removeEventListener(b.MOUSE_DOWN,bi),e.removeEventListener(b.MOUSE_DOWN_ACTIVATE,wi),e.removeEventListener(b.MOUSE_DOUBLE_CLICK,_i),e.removeEventListener(b.MOUSE_DRAG,xi),e.removeEventListener(b.MOUSE_MOVE,Ei),e.removeEventListener(b.MOUSE_UP,Si),e.removeEventListener(b.MOUSE_WHEEL,Ci)}(t)),M.modules.globalConfiguration.state.touchEnabled&&(oi.disable(t),function(e){e.removeEventListener(b.TAP,Ai),e.removeEventListener(b.TOUCH_START,Li),e.removeEventListener(b.TOUCH_DRAG,ji),e.removeEventListener(b.TOUCH_END,Ni),e.removeEventListener(b.TOUCH_START_ACTIVE,Ii),e.removeEventListener(b.TOUCH_PRESS,Fi),e.removeEventListener(b.DOUBLE_TAP,Ri),e.removeEventListener(b.TOUCH_PINCH,Ui),e.removeEventListener(b.TOUCH_ROTATE,Bi),e.removeEventListener(b.MULTI_TOUCH_DRAG,Pi)}(t)),Yi(t),Zi(t)},Yi=function(e){M.state.tools=M.state.tools.filter(function(t){return t.element!==e})},Zi=function(e){M.modules&&function(e){var t=M.modules;Object.keys(t).forEach(function(n){"function"==typeof t[n].removeEnabledElementCallback&&t[n].removeEnabledElementCallback(e)})}(e);var t=M.state.enabledElements.findIndex(function(t){return t===e});t>-1?M.state.enabledElements.splice(t,1):console.warn("unable to remove element")};function Xi(){Di||(Di=setTimeout(function(){Di=null,$i()},66))}var Ki,$i=function(){k.enabledElements.forEach(function(e){g.cornerstone.resize(e)})},Ji=function(){window.removeEventListener("resize",Xi,!1),window.addEventListener("resize",Xi,!1)},Qi=function(e){var t;!function(){!function(){var e=g.cornerstone,t=e.EVENTS.ELEMENT_ENABLED,n=e.EVENTS.ELEMENT_DISABLED;e.events.removeEventListener(t,Wi),e.events.removeEventListener(n,Gi)}();var e=g.cornerstone,t=e.EVENTS.ELEMENT_ENABLED,n=e.EVENTS.ELEMENT_DISABLED;e.events.addEventListener(t,Wi),e.events.addEventListener(n,Gi)}(),t=M.modules,Object.keys(t).forEach(function(e){"function"==typeof t[e].onRegisterCallback&&t[e].onRegisterCallback()}),Ji(),M.modules.globalConfiguration.state=Object.assign({},M.modules.globalConfiguration.state,e)},eo="stackPrefetch",to="prefetch",no={maxImagesToPrefetch:1/0},ro=10,ao=function(e){return Math.max.apply(null,e)},io=function(e){return Math.min.apply(null,e)};function oo(e){var t=J(e,"stack");if(t&&t.data&&t.data.length){var n=t.data[0],r=J(e,eo);if(r){var a=r.data[0]||{};if(a.indicesToRequest&&a.indicesToRequest.length||(a.enabled=!1),!1!==a.enabled&&(r.data[0].indicesToRequest.sort(function(e,t){return e-t}),a.indicesToRequest.slice().forEach(function(e){var t=n.imageIds[e];t&&g.cornerstone.imageCache.getImageLoadObject(t)&&x(e)}),a.indicesToRequest.length)){Fr.clearRequestStack(to);for(var i,o,s,l,u,c,d=(i=a.indicesToRequest,o=n.currentImageIdIndex,s=[],l=[],i.forEach(function(e){e<o?s.push(e):e>o&&l.push(e)}),{low:i.indexOf(ao(s)),high:i.indexOf(io(l))}),f=Vn.getErrorLoadingHandler(),h=d.low,p=d.high;h>=0||p<a.indicesToRequest.length;){var m=n.currentImageIdIndex,v=m-a.indicesToRequest[h]>no.maxImagesToPrefetch,y=a.indicesToRequest[p]-m>no.maxImagesToPrefetch,b=!v&&h>=0,w=!y&&p<a.indicesToRequest.length;if(!w&&!b)break;b&&(c=a.indicesToRequest[h--],u=n.imageIds[c],Fr.addRequest(e,u,to,!1,E,T)),w&&(c=a.indicesToRequest[p++],u=n.imageIds[c],Fr.addRequest(e,u,to,!1,E,T))}Fr.startGrabbing()}}}function x(e){var t=a.indicesToRequest.indexOf(e);t>-1&&a.indicesToRequest.splice(t,1)}function E(e){x(n.imageIds.indexOf(e.imageId))}function T(t){console.log("prefetch errored: ".concat(t)),f&&f(e,u,t,"stackPrefetch")}}function so(e){return function(t){var n,r=t.detail;try{n=J(e,"stack")}catch(e){return}if(n&&n.data&&n.data.length){var a=n.data[0].imageIds.indexOf(r.imageId);if(!(a<0)){var i=J(e,eo);i&&i.data&&i.data.length&&i.data[0].indicesToRequest.push(a)}}}}function lo(e){clearTimeout(Ki),Ki=setTimeout(function(){var t=e.target;try{oo(t)}catch(e){return}},ro)}var uo={enable:function(e){J(e,eo).data=[];var t=J(e,"stack");if(t&&t.data&&t.data.length){var n=t.data[0];if(!0!==n.preventCache){var r={indicesToRequest:function(e,t){e=Math.round(e)||0;var n=[],r=(t=Math.round(t)||0)-e+1;if(r<=0)return n;for(;r--;)n[r]=t--;return n}(0,n.imageIds.length-1),enabled:!0,direction:1},a=r.indicesToRequest.indexOf(n.currentImageIdIndex);r.indicesToRequest.splice(a,1),$(e,eo,r),oo(e),e.removeEventListener(g.cornerstone.EVENTS.NEW_IMAGE,lo),e.addEventListener(g.cornerstone.EVENTS.NEW_IMAGE,lo);var i=so(e);g.cornerstone.events.removeEventListener(g.cornerstone.EVENTS.IMAGE_CACHE_PROMISE_REMOVED,i),g.cornerstone.events.addEventListener(g.cornerstone.EVENTS.IMAGE_CACHE_PROMISE_REMOVED,i)}else console.warn("A stack that should not be cached was given the stackPrefetch")}},disable:function(e){clearTimeout(Ki),e.removeEventListener(g.cornerstone.EVENTS.NEW_IMAGE,lo);var t=so(e);g.cornerstone.events.removeEventListener(g.cornerstone.EVENTS.IMAGE_CACHE_PROMISE_REMOVED,t);var n=J(e,eo);n&&n.data.length&&(n.data[0].enabled=!1,Fr.clearRequestStack(to))},getConfiguration:function(){return no},setConfiguration:function(e){var t;no=e,e.maxSimultaneousRequests&&(t=e.maxSimultaneousRequests,mr=t)}},co=function(){function e(){a()(this,e),this.currentImageIdIndex=0,this.layerIds=[],this.findImageFn=void 0}return o()(e,[{key:"render",value:function(e,t){var n=this;if(!Number.isInteger(this.currentImageIdIndex))throw new Error("FusionRenderer: render - Image ID Index is not an integer");if(!this.findImageFn)throw new Error("No findImage function has been defined");t||(t=J(e,"stack").data);var r=g.cornerstone,a=t[0],i=a.imageIds[this.currentImageIdIndex],o=t.slice(1,t.length);r.loadAndCacheImage(i).then(function(t){var s=n.layerIds[0];s?r.setLayerImage(e,t,s):(s=r.addLayer(e,t,a.options),n.layerIds.push(s)),r.displayImage(e,t),o.forEach(function(t,a){var o=n.findImageFn(t.imageIds,i),l=a+1,u=n.layerIds[l];u||(u=r.addLayer(e,void 0,t.options),n.layerIds.push(u)),o?r.loadAndCacheImage(o).then(function(t){r.setLayerImage(e,t,u),r.updateImage(e)}):(r.setLayerImage(e,void 0,u),r.setActiveLayer(e,s),r.updateImage(e))})})}}]),e}(),fo={};fo.FusionRenderer=co;var ho=fo,po="playClip";function mo(e){var t=e.intervalId;void 0!==t&&(e.intervalId=void 0,e.usingFrameTimeVector?clearTimeout(t):clearInterval(t))}function go(e,t){var n,r;if(void 0===e)throw new Error("playClip: element must not be undefined");var a=J(e,"stack");if(a&&a.data&&a.data.length){var i,o=g.cornerstone;if(a.data.length>1){var s=J(e,"stackRenderer");s&&s.data&&s.data.length&&(i=s.data[0])}var l=a.data[0],u=J(e,po);u&&u.data&&u.data.length?mo(n=u.data[0]):$(e,po,n={intervalId:void 0,framesPerSecond:30,lastFrameTimeStamp:void 0,frameRate:0,frameTimeVector:void 0,ignoreFrameTimeVector:!1,usingFrameTimeVector:!1,speed:1,reverse:!1,loop:!0}),(t<0||t>0)&&(n.framesPerSecond=Number(t),n.reverse=n.framesPerSecond<0,n.ignoreFrameTimeVector=!0),!0!==n.ignoreFrameTimeVector&&n.frameTimeVector&&n.frameTimeVector.length===l.imageIds.length&&(r=function(e,t){var n,r,a,i=0,o=e.length,s=[];for(s.isTimeVarying=!1,("number"!=typeof t||t<=0)&&(t=1),n=1;n<o;n++)a=Number(e[n])/t|0,s.push(a),1===n?r=a:a!==r&&(s.isTimeVarying=!0),i+=a;return s.length>0&&(a=s.isTimeVarying?i/s.length|0:s[0],s.push(a)),s}(n.frameTimeVector,n.speed));var c=function(){var t,r,s,u=l.currentImageIdIndex,c=l.imageIds.length;if(n.reverse?u--:u++,!n.loop&&(u<0||u>=c))return mo(n),void function(e){var t={element:e};w(e,b.CLIP_STOPPED,t)}(e);u>=c&&(u=0),u<0&&(u=c-1),u!==l.currentImageIdIndex&&(t=Vn.getStartLoadHandler(),r=Vn.getEndLoadHandler(),s=Vn.getErrorLoadingHandler(),t&&t(e),(!0===l.preventCache?o.loadImage(l.imageIds[u]):o.loadAndCacheImage(l.imageIds[u])).then(function(t){try{l.currentImageIdIndex=u,i?(i.currentImageIdIndex=u,i.render(e,a.data)):o.displayImage(e,t),r&&r(e,t)}catch(e){return}},function(t){var n=l.imageIds[u];s&&s(e,n,t)}))};r&&r.length>0&&r.isTimeVarying?(n.usingFrameTimeVector=!0,n.intervalId=setTimeout(function e(){n.intervalId=setTimeout(e,r[l.currentImageIdIndex]),c()},0)):(n.usingFrameTimeVector=!1,n.intervalId=setInterval(c,1e3/Math.abs(n.framesPerSecond)))}}function vo(e){var t=J(e,po);t&&t.data&&t.data.length&&mo(t.data[0])}var yo=function(e,t){var n=M.state.tools.findIndex(function(n){return n.element===e&&n.name===t});n>=0&&M.state.tools.splice(n,1)},bo=function(e){wo(e),M.state.enabledElements.forEach(function(t){yo(t,e)})},wo=function(e){M.modules.globalConfiguration.state.globalToolSyncEnabled&&M.state.globalTools[e]&&delete M.state.globalTools[e]},xo=function(e,t,n){var r=O(e,t);r&&r.mergeOptions(n)},Eo=function(e,t){k.enabledElements.forEach(function(e){xo(e,t)})};function To(e,t){var n={};return{get:function(r,a){return e.indexOf(a)>=0?(!1===n.hasOwnProperty(a)&&(n[a]={data:[]}),n[a]):t.get(r,a)},add:function(r,a,i){if(!(e.indexOf(a)>=0))return t.add(r,a,i);!1===n.hasOwnProperty(a)&&(n[a]={data:[]}),n[a].data.push(i)},saveToolState:function(){return n},restoreToolState:function(e){n=e},toolState:n}}var _o=[];function So(e,t){var n=K(e);n||(n=X);var r=["stack","stackPrefetch","playClip","volume","slab","referenceLines","crosshairs","stackRenderer"];t&&(r=r.concat(t));var a=To(r,n);_o.push(a),te(e,a)}var Co={newStackSpecificToolStateManager:To,addStackStateManager:So};function ko(){var e={};return{get:function(t,n){if(!1!==e.hasOwnProperty(t)){var r=e[t];if(!1!==r.hasOwnProperty(n))return r[n]}},add:function(t,n,r){!1===e.hasOwnProperty(t)&&(e[t]={});var a=e[t];!1===a.hasOwnProperty(n)&&(a[n]={data:[]}),a[n].data.push(r)},remove:function(t,n,r){if(!1!==e.hasOwnProperty(t)){var a=e[t];if(!1!==a.hasOwnProperty(n)){for(var i=a[n],o=-1,s=0;s<i.data.length;s++)i.data[s]===r&&(o=s);-1!==o&&i.data.splice(o,1)}}}}}var Po=ko(),Io={getOrientationString:function(e){for(var t=Wn(e),n="",r=t.x<0?"R":"L",a=t.y<0?"A":"P",i=t.z<0?"F":"H",o=new g.cornerstoneMath.Vector3(Math.abs(t.x),Math.abs(t.y),Math.abs(t.z)),s=0;s<3;s++)if(o.x>1e-4&&o.x>o.y&&o.x>o.z)n+=r,o.x=0;else if(o.y>1e-4&&o.y>o.x&&o.y>o.z)n+=a,o.y=0;else{if(!(o.z>1e-4&&o.z>o.x&&o.z>o.y))break;n+=i,o.z=0}return n},invertOrientationString:function(e){var t=e.replace("H","f");return t=(t=(t=(t=(t=(t=t.replace("F","h")).replace("R","l")).replace("L","r")).replace("A","p")).replace("P","a")).toUpperCase()}},Mo=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"image/png",r=e.querySelector("canvas");if(r.msToBlob){var a=r.msToBlob();return window.navigator.msSaveBlob(a,t)}var i=document.createElement("a");if(i.download=t,i.href=r.toDataURL(n,1),document.createEvent){var o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),i.dispatchEvent(o)}else i.fireEvent&&i.fireEvent("onclick")},Oo=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(function(e,t,n){return e?t?"object"===y()(n)||"function"==typeof n||(console.warn("The ".concat(n," is a ").concat(y()(n),", it should be an Object or a function.")),!1):(console.warn("The ".concat(e," must have a name in order to register.")),!1):(console.warn("The type must be given in order to register."),!1)}(e,t,n))switch(e){case"module":!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(function(e){return Object.keys(I).some(function(t){return t===e})}(e)){if(console.warn("A module with the name ".concat(e," is already registered")),!n)return;console.warn("Overwriting module ".concat(e))}I[e]=t}(t,n,r);break;case"mixin":!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(function(e){return void 0!==G[e]}(e)){if(console.warn("mixins/".concat(e," is already registered")),!n)return;console.warn("Overwriting mixins/".concat(e))}G[e]=t,pa["mixins/".concat(e)]=G[e]}(t,n,r);break;default:(function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(function(e,t){return void 0!==pa["".concat(e,"/").concat(t)]}(e,t)){if(console.warn("".concat(e,"/").concat(t," is already registered")),!r)return;console.warn("Overwriting ".concat(e,"/").concat(t))}pa["".concat(e,"/").concat(t)]=n})(e,t,n,r),console.warn("unrecognised type ".concat(e,", not registering ").concat(t))}},Do=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=0;n<e.length;n++){var r=e[n],a=r.type,i=r.name,o=r.item;Oo(a,i,o,t)}},Ao=function(e,t,n){if(n!==t){var r=g.cornerstone,a=r.getViewport(t),i=r.getViewport(n);i.voi.windowWidth===a.voi.windowWidth&&i.voi.windowCenter===a.voi.windowCenter&&i.invert===a.invert||(i.voi.windowWidth=a.voi.windowWidth,i.voi.windowCenter=a.voi.windowCenter,i.invert=a.invert,e.setViewport(n,i))}},Lo=function(e,t,n){n!==t&&g.cornerstone.updateImage(n)};function Ro(e){return e.filter(function(e,t,n){return n.indexOf(e)===t})}var jo=function(e,t){var n=g.cornerstone,r=this,a=[],i=[],o=!1,s={},l=t;function u(e,t){var n=!r.enabled,u=!a.length||!i.length;n||u||(o=!0,i.forEach(function(n){var o=i.indexOf(n);if(-1!==o){var u=s.imageIds.targetElements[o],c=a.indexOf(e);if(-1!==c){var d,f=s.imageIds.sourceElements[c];f===u?d=0:void 0!==s.distances[f]&&(d=s.distances[f][u]),l(r,e,n,t,d)}}}),o=!1)}function c(e){var t=e.detail;!0!==o&&u(e.currentTarget,t)}function d(e){var t=e.detail.element;r.remove(t),function(e){for(var t in Zn)Zn[t]=Zn[t].filter(function(t){return t.element!==e})}(t)}this.enabled=!0,this.setHandler=function(e){l=e},this.getHandler=function(){return l},this.getDistances=function(){a.length&&i.length&&(s.distances={},s.imageIds={sourceElements:[],targetElements:[]},a.forEach(function(e){var t=n.getEnabledElement(e);if(t&&t.image){var r=t.image.imageId,a=n.metaData.get("imagePlaneModule",r);if(a&&a.imagePositionPatient){var o=Wn(a.imagePositionPatient);s.hasOwnProperty(t)||(s.distances[r]={},s.imageIds.sourceElements.push(r),i.forEach(function(t){var a=n.getEnabledElement(t);if(a&&a.image){var i=a.image.imageId;if(s.imageIds.targetElements.push(i),e!==t&&r!==i&&!s.distances[r].hasOwnProperty(i)){var l=n.metaData.get("imagePlaneModule",i);if(l&&l.imagePositionPatient){var u=Wn(l.imagePositionPatient);s.distances[r][i]=u.clone().sub(o)}}}}),Object.keys(s.distances[r]).length||delete s.distances[r])}}}))},this.addSource=function(t){-1===a.indexOf(t)&&(a.push(t),e.split(" ").forEach(function(e){t.addEventListener(e,c)}),r.getDistances(),r.updateDisableHandlers())},this.addTarget=function(e){-1===i.indexOf(e)&&(i.push(e),r.getDistances(),l(r,e,e,0),r.updateDisableHandlers())},this.add=function(e){r.addSource(e),r.addTarget(e)},this.removeSource=function(t){var n=a.indexOf(t);-1!==n&&(a.splice(n,1),e.split(" ").forEach(function(e){t.removeEventListener(e,c)}),r.getDistances(),u(t),r.updateDisableHandlers())},this.removeTarget=function(e){var t=i.indexOf(e);-1!==t&&(i.splice(t,1),r.getDistances(),l(r,e,e,0),r.updateDisableHandlers())},this.remove=function(e){r.removeTarget(e),r.removeSource(e)},this.getSourceElements=function(){return a},this.getTargetElements=function(){return i},this.displayImage=function(e,t,r){o=!0,n.displayImage(e,t,r),o=!1},this.setViewport=function(e,t){o=!0,n.setViewport(e,t),o=!1},this.updateDisableHandlers=function(){Ro(a.concat(i)).forEach(function(e){e.removeEventListener(g.cornerstone.EVENTS.ELEMENT_DISABLED,d),e.addEventListener(g.cornerstone.EVENTS.ELEMENT_DISABLED,d)})},this.destroy=function(){Ro(a.concat(i)).forEach(function(e){r.remove(e)})}},No=function(e,t,n,r){if(t!==n&&r&&r.direction){var a=g.cornerstone,i=J(n,"stack").data[0],o=i.currentImageIdIndex+r.direction;if(o=se(o,0,i.imageIds.length-1),i.currentImageIdIndex!==o){var s=Vn.getStartLoadHandler(),l=Vn.getEndLoadHandler(),u=Vn.getErrorLoadingHandler();i.currentImageIdIndex=o;var c=i.imageIds[o];s&&s(n),(!0===i.preventCache?a.loadImage(c):a.loadAndCacheImage(c)).then(function(t){var r=a.getViewport(n);i.currentImageIdIndex===o&&(e.displayImage(n,t,r),l&&l(n,t))},function(e){var t=i.imageIds[o];u&&u(n,t,e)})}}},Uo=function(e,t,n){if(n!==t){var r=g.cornerstone,a=J(t,"stack").data[0],i=a.imageIds[a.currentImageIdIndex],o=r.metaData.get("imagePlaneModule",i);if(void 0!==o&&void 0!==o.imagePositionPatient){var s=Wn(o.imagePositionPatient),l=J(n,"stack").data[0],u=Number.MAX_VALUE,c=-1;if(l.imageIds.forEach(function(e,t){var n=r.metaData.get("imagePlaneModule",e);if(void 0!==n&&void 0!==n.imagePositionPatient){var a=Wn(n.imagePositionPatient).distanceToSquared(s);a<u&&(u=a,c=t)}}),c!==l.currentImageIdIndex){var d=Vn.getStartLoadHandler(),f=Vn.getEndLoadHandler(),h=Vn.getErrorLoadingHandler();l.currentImageIdIndex=c;var p=l.imageIds[c];d&&d(n),-1!==c&&(!0===l.preventCache?r.loadImage(p):r.loadAndCacheImage(p)).then(function(t){var a=r.getViewport(n);l.currentImageIdIndex===c&&(e.displayImage(n,t,a),f&&f(n,t))},function(e){var t=l.imageIds[c];h&&h(n,t,e)})}}}},Fo=function(e,t,n,r,a){if(n!==t){var i=g.cornerstone,o=J(t,"stack").data[0],s=o.imageIds[o.currentImageIdIndex],l=i.metaData.get("imagePlaneModule",s);if(void 0!==l&&void 0!==l.imagePositionPatient){var u=Wn(l.imagePositionPatient),c=J(n,"stack").data[0],d=Number.MAX_VALUE,f=-1;if(a){var h=u.clone().add(a);if(c.imageIds.forEach(function(e,t){var n=i.metaData.get("imagePlaneModule",e);if(void 0!==n&&void 0!==n.imagePositionPatient){var r=Wn(n.imagePositionPatient),a=h.distanceToSquared(r);a<d&&(d=a,f=t)}}),f!==c.currentImageIdIndex&&-1!==f){var p=Vn.getStartLoadHandler(),m=Vn.getEndLoadHandler(),v=Vn.getErrorLoadingHandler();c.currentImageIdIndex=f;var y=c.imageIds[f];p&&p(n),(!0===c.preventCache?i.loadImage(y):i.loadAndCacheImage(y)).then(function(t){var r=i.getViewport(n);c.currentImageIdIndex===f&&(e.displayImage(n,t,r),m&&m(n,t))},function(e){var t=c.imageIds[f];v&&v(n,t,e)})}}}}},Bo=function(e,t,n){if(n!==t){var r=g.cornerstone,a=J(t,"stack").data[0],i=J(n,"stack").data[0],o=a.currentImageIdIndex;if((o=se(o,0,i.imageIds.length-1))!==i.currentImageIdIndex){var s=Vn.getStartLoadHandler(),l=Vn.getEndLoadHandler(),u=Vn.getErrorLoadingHandler();s&&s(n),(!0===i.preventCache?r.loadImage(i.imageIds[o]):r.loadAndCacheImage(i.imageIds[o])).then(function(t){var a=r.getViewport(n);i.currentImageIdIndex=o,e.displayImage(n,t,a),l&&l(n,t)},function(e){var t=i.imageIds[o];u&&u(n,t,e)})}}},zo=function(e,t,n){if(n!==t){var r=g.cornerstone,a=r.getViewport(t),i=r.getViewport(n);i.scale===a.scale&&i.translation.x===a.translation.x&&i.translation.y===a.translation.y||(i.scale=a.scale,i.translation.x=a.translation.x,i.translation.y=a.translation.y,e.setViewport(n,i))}};n.d(t,"AngleTool",function(){return at}),n.d(t,"ArrowAnnotateTool",function(){return it}),n.d(t,"BidirectionalTool",function(){return Lt}),n.d(t,"CobbAngleTool",function(){return Rt}),n.d(t,"EllipticalRoiTool",function(){return Wt}),n.d(t,"FreehandMouseTool",function(){return gn}),n.d(t,"LengthTool",function(){return yn}),n.d(t,"ProbeTool",function(){return wn}),n.d(t,"RectangleRoiTool",function(){return xn}),n.d(t,"TextMarkerTool",function(){return In}),n.d(t,"BrushTool",function(){return Fn}),n.d(t,"CrosshairsTool",function(){return $n}),n.d(t,"DoubleTapFitToWindowTool",function(){return Jn}),n.d(t,"DragProbeTool",function(){return Qn}),n.d(t,"EraserTool",function(){return nr}),n.d(t,"FreehandSculpterMouseTool",function(){return ar}),n.d(t,"MagnifyTool",function(){return ir}),n.d(t,"PanMultiTouchTool",function(){return or}),n.d(t,"PanTool",function(){return sr}),n.d(t,"ReferenceLinesTool",function(){return gr}),n.d(t,"RotateTool",function(){return yr}),n.d(t,"RotateTouchTool",function(){return Er}),n.d(t,"ScaleOverlayTool",function(){return Tr}),n.d(t,"StackScrollMouseWheelTool",function(){return Hr}),n.d(t,"StackScrollMultiTouchTool",function(){return Vr}),n.d(t,"StackScrollTool",function(){return Wr}),n.d(t,"WwwcRegionTool",function(){return Gr}),n.d(t,"WwwcTool",function(){return Kr}),n.d(t,"ZoomMouseWheelTool",function(){return ea}),n.d(t,"ZoomTool",function(){return ra}),n.d(t,"ZoomTouchPinchTool",function(){return ua}),n.d(t,"init",function(){return Qi}),n.d(t,"stackPrefetch",function(){return uo}),n.d(t,"stackRenderers",function(){return ho}),n.d(t,"playClip",function(){return go}),n.d(t,"stopClip",function(){return vo}),n.d(t,"store",function(){return M}),n.d(t,"getToolForElement",function(){return O}),n.d(t,"addTool",function(){return Hi}),n.d(t,"addToolForElement",function(){return zi}),n.d(t,"removeTool",function(){return bo}),n.d(t,"removeToolForElement",function(){return yo}),n.d(t,"setToolOptions",function(){return Eo}),n.d(t,"setToolOptionsForElement",function(){return xo}),n.d(t,"setToolActive",function(){return A}),n.d(t,"setToolActiveForElement",function(){return D}),n.d(t,"setToolEnabled",function(){return N}),n.d(t,"setToolEnabledForElement",function(){return j}),n.d(t,"setToolDisabled",function(){return R}),n.d(t,"setToolDisabledForElement",function(){return L}),n.d(t,"setToolPassive",function(){return F}),n.d(t,"setToolPassiveForElement",function(){return U}),n.d(t,"addToolState",function(){return $}),n.d(t,"getToolState",function(){return J}),n.d(t,"removeToolState",function(){return Q}),n.d(t,"clearToolState",function(){return ee}),n.d(t,"setElementToolStateManager",function(){return te}),n.d(t,"getElementToolStateManager",function(){return K}),n.d(t,"textStyle",function(){return Ve}),n.d(t,"toolStyle",function(){return Ce}),n.d(t,"toolColors",function(){return Me}),n.d(t,"toolCoordinates",function(){return bt}),n.d(t,"stackSpecificStateManager",function(){return Co}),n.d(t,"newStackSpecificToolStateManager",function(){return To}),n.d(t,"addStackStateManager",function(){return So}),n.d(t,"loadHandlerManager",function(){return Vn}),n.d(t,"newImageIdSpecificToolStateManager",function(){return Z}),n.d(t,"globalImageIdSpecificToolStateManager",function(){return X}),n.d(t,"newFrameOfReferenceSpecificToolStateManager",function(){return ko}),n.d(t,"globalFrameOfReferenceSpecificToolStateManager",function(){return Po}),n.d(t,"forceEnabledElementResize",function(){return $i}),n.d(t,"orientation",function(){return Io}),n.d(t,"SaveAs",function(){return Mo}),n.d(t,"register",function(){return Oo}),n.d(t,"registerSome",function(){return Do}),n.d(t,"wwwcSynchronizer",function(){return Ao}),n.d(t,"updateImageSynchronizer",function(){return Lo}),n.d(t,"Synchronizer",function(){return jo}),n.d(t,"stackScrollSynchronizer",function(){return No}),n.d(t,"stackImagePositionSynchronizer",function(){return Uo}),n.d(t,"stackImagePositionOffsetSynchronizer",function(){return Fo}),n.d(t,"stackImageIndexSynchronizer",function(){return Bo}),n.d(t,"panZoomSynchronizer",function(){return zo}),n.d(t,"requestPoolManager",function(){return Fr}),n.d(t,"external",function(){return g}),n.d(t,"EVENTS",function(){return b}),n.d(t,"version",function(){return"3.0.0-b.1720"}),n.d(t,"import",function(){return ma});var Ho={AngleTool:at,ArrowAnnotateTool:it,BidirectionalTool:Lt,CobbAngleTool:Rt,EllipticalRoiTool:Wt,FreehandMouseTool:gn,LengthTool:yn,ProbeTool:wn,RectangleRoiTool:xn,TextMarkerTool:In,BrushTool:Fn,CrosshairsTool:$n,DoubleTapFitToWindowTool:Jn,DragProbeTool:Qn,EraserTool:nr,FreehandSculpterMouseTool:ar,MagnifyTool:ir,PanMultiTouchTool:or,PanTool:sr,ReferenceLinesTool:gr,RotateTool:yr,RotateTouchTool:Er,ScaleOverlayTool:Tr,StackScrollMouseWheelTool:Hr,StackScrollMultiTouchTool:Vr,StackScrollTool:Wr,WwwcRegionTool:Gr,WwwcTool:Kr,ZoomMouseWheelTool:ea,ZoomTool:ra,ZoomTouchPinchTool:ua,init:Qi,stackPrefetch:uo,stackRenderers:ho,playClip:go,stopClip:vo,store:M,getToolForElement:O,addTool:Hi,addToolForElement:zi,removeTool:bo,removeToolForElement:yo,setToolOptions:Eo,setToolOptionsForElement:xo,setToolActive:A,setToolActiveForElement:D,setToolEnabled:N,setToolEnabledForElement:j,setToolDisabled:R,setToolDisabledForElement:L,setToolPassive:F,setToolPassiveForElement:U,addToolState:$,getToolState:J,removeToolState:Q,clearToolState:ee,setElementToolStateManager:te,getElementToolStateManager:K,textStyle:Ve,toolStyle:Ce,toolColors:Me,toolCoordinates:bt,stackSpecificStateManager:Co,newStackSpecificToolStateManager:To,addStackStateManager:So,loadHandlerManager:Vn,newImageIdSpecificToolStateManager:Z,globalImageIdSpecificToolStateManager:X,newFrameOfReferenceSpecificToolStateManager:ko,globalFrameOfReferenceSpecificToolStateManager:Po,forceEnabledElementResize:$i,orientation:Io,SaveAs:Mo,import:ma,register:Oo,registerSome:Do,wwwcSynchronizer:Ao,updateImageSynchronizer:Lo,Synchronizer:jo,stackScrollSynchronizer:No,stackImagePositionSynchronizer:Uo,stackImagePositionOffsetSynchronizer:Fo,stackImageIndexSynchronizer:Bo,panZoomSynchronizer:zo,requestPoolManager:Fr,external:g,EVENTS:b,version:"3.0.0-b.1720"};t.default=Ho},function(e,t){!function(t){"use strict";var n,r=Object.prototype,a=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag",u="object"==typeof e,c=t.regeneratorRuntime;if(c)u&&(e.exports=c);else{(c=t.regeneratorRuntime=u?e.exports:{}).wrap=w;var d="suspendedStart",f="suspendedYield",h="executing",p="completed",m={},g={};g[o]=function(){return this};var v=Object.getPrototypeOf,y=v&&v(v(O([])));y&&y!==r&&a.call(y,o)&&(g=y);var b=_.prototype=E.prototype=Object.create(g);T.prototype=b.constructor=_,_.constructor=T,_[l]=T.displayName="GeneratorFunction",c.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===T||"GeneratorFunction"===(t.displayName||t.name))},c.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,l in e||(e[l]="GeneratorFunction")),e.prototype=Object.create(b),e},c.awrap=function(e){return{__await:e}},S(C.prototype),C.prototype[s]=function(){return this},c.AsyncIterator=C,c.async=function(e,t,n,r){var a=new C(w(e,t,n,r));return c.isGeneratorFunction(t)?a:a.next().then(function(e){return e.done?e.value:a.next()})},S(b),b[l]="Generator",b[o]=function(){return this},b.toString=function(){return"[object Generator]"},c.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},c.values=O,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,a){return s.type="throw",s.arg=e,t.next=r,a&&(t.method="next",t.arg=n),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),u=a.call(o,"finallyLoc");if(l&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;I(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),m}}}function w(e,t,n,r){var a=t&&t.prototype instanceof E?t:E,i=Object.create(a.prototype),o=new M(r||[]);return i._invoke=function(e,t,n){var r=d;return function(a,i){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===a)throw i;return D()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var s=k(o,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var l=x(e,t,n);if("normal"===l.type){if(r=n.done?p:f,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=p,n.method="throw",n.arg=l.arg)}}}(e,n,o),i}function x(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function E(){}function T(){}function _(){}function S(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function C(e){var t;this._invoke=function(n,r){function i(){return new Promise(function(t,i){!function t(n,r,i,o){var s=x(e[n],e,r);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&a.call(u,"__await")?Promise.resolve(u.__await).then(function(e){t("next",e,i,o)},function(e){t("throw",e,i,o)}):Promise.resolve(u).then(function(e){l.value=e,i(l)},function(e){return t("throw",e,i,o)})}o(s.arg)}(n,r,t,i)})}return t=t?t.then(i,i):i()}}function k(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,k(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var a=x(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,m):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return i.next=i}}return{next:D}}function D(){return{value:n,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(e,t,n){var r=function(){return this||"object"==typeof self&&self}()||Function("return this")(),a=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=a&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(11),a)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n}])},function(e,t,n){e.exports=function e(t){"use strict";var n=/^\0+/g,r=/[\0\r\f]/g,a=/: */g,i=/zoo|gra/,o=/([,: ])(transform)/g,s=/,+\s*(?![^(]*[)])/g,l=/ +\s*(?![^(]*[)])/g,u=/ *[\0] */g,c=/,\r+?/g,d=/([\t\r\n ])*\f?&/g,f=/:global\(((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,h=/\W+/g,p=/@(k\w+)\s*(\S*)\s*/,m=/::(place)/g,g=/:(read-only)/g,v=/\s+(?=[{\];=:>])/g,y=/([[}=:>])\s+/g,b=/(\{[^{]+?);(?=\})/g,w=/\s{2,}/g,x=/([^\(])(:+) */g,E=/[svh]\w+-[tblr]{2}/,T=/\(\s*(.*)\s*\)/g,_=/([\s\S]*?);/g,S=/-self|flex-/g,C=/[^]*?(:[rp][el]a[\w-]+)[^]*/,k=/stretch|:\s*\w+\-(?:conte|avail)/,P=/([^-])(image-set\()/,I="-webkit-",M="-moz-",O="-ms-",D=59,A=125,L=123,R=40,j=41,N=91,U=93,F=10,B=13,z=9,H=64,V=32,W=38,q=45,G=95,Y=42,Z=44,X=58,K=39,$=34,J=47,Q=62,ee=43,te=126,ne=0,re=12,ae=11,ie=107,oe=109,se=115,le=112,ue=111,ce=105,de=99,fe=100,he=112,pe=1,me=1,ge=0,ve=1,ye=1,be=1,we=0,xe=0,Ee=0,Te=[],_e=[],Se=0,Ce=null,ke=-2,Pe=-1,Ie=0,Me=1,Oe=2,De=3,Ae=0,Le=1,Re="",je="",Ne="";function Ue(e,t,a,i,o){for(var s,l,c=0,d=0,f=0,h=0,v=0,y=0,b=0,w=0,E=0,_=0,S=0,C=0,k=0,P=0,G=0,we=0,_e=0,Ce=0,ke=0,Pe=a.length,Be=Pe-1,Ge="",Ye="",Ze="",Xe="",Ke="",$e="";G<Pe;){if(b=a.charCodeAt(G),G===Be&&d+h+f+c!==0&&(0!==d&&(b=d===J?F:J),h=f=c=0,Pe++,Be++),d+h+f+c===0){if(G===Be&&(we>0&&(Ye=Ye.replace(r,"")),Ye.trim().length>0)){switch(b){case V:case z:case D:case B:case F:break;default:Ye+=a.charAt(G)}b=D}if(1===_e)switch(b){case L:case A:case D:case $:case K:case R:case j:case Z:_e=0;case z:case B:case F:case V:break;default:for(_e=0,ke=G,v=b,G--,b=D;ke<Pe;)switch(a.charCodeAt(ke++)){case F:case B:case D:++G,b=v,ke=Pe;break;case X:we>0&&(++G,b=v);case L:ke=Pe}}switch(b){case L:for(v=(Ye=Ye.trim()).charCodeAt(0),S=1,ke=++G;G<Pe;){switch(b=a.charCodeAt(G)){case L:S++;break;case A:S--;break;case J:switch(y=a.charCodeAt(G+1)){case Y:case J:G=qe(y,G,Be,a)}break;case N:b++;case R:b++;case $:case K:for(;G++<Be&&a.charCodeAt(G)!==b;);}if(0===S)break;G++}switch(Ze=a.substring(ke,G),v===ne&&(v=(Ye=Ye.replace(n,"").trim()).charCodeAt(0)),v){case H:switch(we>0&&(Ye=Ye.replace(r,"")),y=Ye.charCodeAt(1)){case fe:case oe:case se:case q:s=t;break;default:s=Te}if(ke=(Ze=Ue(t,s,Ze,y,o+1)).length,Ee>0&&0===ke&&(ke=Ye.length),Se>0&&(s=Fe(Te,Ye,Ce),l=We(De,Ze,s,t,me,pe,ke,y,o,i),Ye=s.join(""),void 0!==l&&0===(ke=(Ze=l.trim()).length)&&(y=0,Ze="")),ke>0)switch(y){case se:Ye=Ye.replace(T,Ve);case fe:case oe:case q:Ze=Ye+"{"+Ze+"}";break;case ie:Ze=(Ye=Ye.replace(p,"$1 $2"+(Le>0?Re:"")))+"{"+Ze+"}",Ze=1===ye||2===ye&&He("@"+Ze,3)?"@"+I+Ze+"@"+Ze:"@"+Ze;break;default:Ze=Ye+Ze,i===he&&(Xe+=Ze,Ze="")}else Ze="";break;default:Ze=Ue(t,Fe(t,Ye,Ce),Ze,i,o+1)}Ke+=Ze,C=0,_e=0,P=0,we=0,Ce=0,k=0,Ye="",Ze="",b=a.charCodeAt(++G);break;case A:case D:if((ke=(Ye=(we>0?Ye.replace(r,""):Ye).trim()).length)>1)switch(0===P&&((v=Ye.charCodeAt(0))===q||v>96&&v<123)&&(ke=(Ye=Ye.replace(" ",":")).length),Se>0&&void 0!==(l=We(Me,Ye,t,e,me,pe,Xe.length,i,o,i))&&0===(ke=(Ye=l.trim()).length)&&(Ye="\0\0"),v=Ye.charCodeAt(0),y=Ye.charCodeAt(1),v){case ne:break;case H:if(y===ce||y===de){$e+=Ye+a.charAt(G);break}default:if(Ye.charCodeAt(ke-1)===X)break;Xe+=ze(Ye,v,y,Ye.charCodeAt(2))}C=0,_e=0,P=0,we=0,Ce=0,Ye="",b=a.charCodeAt(++G)}}switch(b){case B:case F:if(d+h+f+c+xe===0)switch(_){case j:case K:case $:case H:case te:case Q:case Y:case ee:case J:case q:case X:case Z:case D:case L:case A:break;default:P>0&&(_e=1)}d===J?d=0:ve+C===0&&i!==ie&&Ye.length>0&&(we=1,Ye+="\0"),Se*Ae>0&&We(Ie,Ye,t,e,me,pe,Xe.length,i,o,i),pe=1,me++;break;case D:case A:if(d+h+f+c===0){pe++;break}default:switch(pe++,Ge=a.charAt(G),b){case z:case V:if(h+c+d===0)switch(w){case Z:case X:case z:case V:Ge="";break;default:b!==V&&(Ge=" ")}break;case ne:Ge="\\0";break;case re:Ge="\\f";break;case ae:Ge="\\v";break;case W:h+d+c===0&&ve>0&&(Ce=1,we=1,Ge="\f"+Ge);break;case 108:if(h+d+c+ge===0&&P>0)switch(G-P){case 2:w===le&&a.charCodeAt(G-3)===X&&(ge=w);case 8:E===ue&&(ge=E)}break;case X:h+d+c===0&&(P=G);break;case Z:d+f+h+c===0&&(we=1,Ge+="\r");break;case $:case K:0===d&&(h=h===b?0:0===h?b:h);break;case N:h+d+f===0&&c++;break;case U:h+d+f===0&&c--;break;case j:h+d+c===0&&f--;break;case R:if(h+d+c===0){if(0===C)switch(2*w+3*E){case 533:break;default:S=0,C=1}f++}break;case H:d+f+h+c+P+k===0&&(k=1);break;case Y:case J:if(h+c+f>0)break;switch(d){case 0:switch(2*b+3*a.charCodeAt(G+1)){case 235:d=J;break;case 220:ke=G,d=Y}break;case Y:b===J&&w===Y&&ke+2!==G&&(33===a.charCodeAt(ke+2)&&(Xe+=a.substring(ke,G+1)),Ge="",d=0)}}if(0===d){if(ve+h+c+k===0&&i!==ie&&b!==D)switch(b){case Z:case te:case Q:case ee:case j:case R:if(0===C){switch(w){case z:case V:case F:case B:Ge+="\0";break;default:Ge="\0"+Ge+(b===Z?"":"\0")}we=1}else switch(b){case R:P+7===G&&108===w&&(P=0),C=++S;break;case j:0==(C=--S)&&(we=1,Ge+="\0")}break;case z:case V:switch(w){case ne:case L:case A:case D:case Z:case re:case z:case V:case F:case B:break;default:0===C&&(we=1,Ge+="\0")}}Ye+=Ge,b!==V&&b!==z&&(_=b)}}E=w,w=b,G++}if(ke=Xe.length,Ee>0&&0===ke&&0===Ke.length&&0===t[0].length==0&&(i!==oe||1===t.length&&(ve>0?je:Ne)===t[0])&&(ke=t.join(",").length+2),ke>0){if(s=0===ve&&i!==ie?function(e){for(var t,n,a=0,i=e.length,o=Array(i);a<i;++a){for(var s=e[a].split(u),l="",c=0,d=0,f=0,h=0,p=s.length;c<p;++c)if(!(0===(d=(n=s[c]).length)&&p>1)){if(f=l.charCodeAt(l.length-1),h=n.charCodeAt(0),t="",0!==c)switch(f){case Y:case te:case Q:case ee:case V:case R:break;default:t=" "}switch(h){case W:n=t+je;case te:case Q:case ee:case V:case j:case R:break;case N:n=t+n+je;break;case X:switch(2*n.charCodeAt(1)+3*n.charCodeAt(2)){case 530:if(be>0){n=t+n.substring(8,d-1);break}default:(c<1||s[c-1].length<1)&&(n=t+je+n)}break;case Z:t="";default:n=d>1&&n.indexOf(":")>0?t+n.replace(x,"$1"+je+"$2"):t+n+je}l+=n}o[a]=l.replace(r,"").trim()}return o}(t):t,Se>0&&void 0!==(l=We(Oe,Xe,s,e,me,pe,ke,i,o,i))&&0===(Xe=l).length)return $e+Xe+Ke;if(Xe=s.join(",")+"{"+Xe+"}",ye*ge!=0){switch(2!==ye||He(Xe,2)||(ge=0),ge){case ue:Xe=Xe.replace(g,":"+M+"$1")+Xe;break;case le:Xe=Xe.replace(m,"::"+I+"input-$1")+Xe.replace(m,"::"+M+"$1")+Xe.replace(m,":"+O+"input-$1")+Xe}ge=0}}return $e+Xe+Ke}function Fe(e,t,n){var r=t.trim().split(c),a=r,i=r.length,o=e.length;switch(o){case 0:case 1:for(var s=0,l=0===o?"":e[0]+" ";s<i;++s)a[s]=Be(l,a[s],n,o).trim();break;default:s=0;var u=0;for(a=[];s<i;++s)for(var d=0;d<o;++d)a[u++]=Be(e[d]+" ",r[s],n,o).trim()}return a}function Be(e,t,n,r){var a=t,i=a.charCodeAt(0);switch(i<33&&(i=(a=a.trim()).charCodeAt(0)),i){case W:switch(ve+r){case 0:case 1:if(0===e.trim().length)break;default:return a.replace(d,"$1"+e.trim())}break;case X:switch(a.charCodeAt(1)){case 103:if(be>0&&ve>0)return a.replace(f,"$1").replace(d,"$1"+Ne);break;default:return e.trim()+a.replace(d,"$1"+e.trim())}default:if(n*ve>0&&a.indexOf("\f")>0)return a.replace(d,(e.charCodeAt(0)===X?"":"$1")+e.trim())}return e+a}function ze(e,t,n,r){var u,c=0,d=e+";",f=2*t+3*n+4*r;if(944===f)return function(e){var t=e.length,n=e.indexOf(":",9)+1,r=e.substring(0,n).trim(),a=e.substring(n,t-1).trim();switch(e.charCodeAt(9)*Le){case 0:break;case q:if(110!==e.charCodeAt(10))break;default:for(var i=a.split((a="",s)),o=0,n=0,t=i.length;o<t;n=0,++o){for(var u=i[o],c=u.split(l);u=c[n];){var d=u.charCodeAt(0);if(1===Le&&(d>H&&d<90||d>96&&d<123||d===G||d===q&&u.charCodeAt(1)!==q))switch(isNaN(parseFloat(u))+(-1!==u.indexOf("("))){case 1:switch(u){case"infinite":case"alternate":case"backwards":case"running":case"normal":case"forwards":case"both":case"none":case"linear":case"ease":case"ease-in":case"ease-out":case"ease-in-out":case"paused":case"reverse":case"alternate-reverse":case"inherit":case"initial":case"unset":case"step-start":case"step-end":break;default:u+=Re}}c[n++]=u}a+=(0===o?"":",")+c.join(" ")}}return a=r+a+";",1===ye||2===ye&&He(a,1)?I+a+a:a}(d);if(0===ye||2===ye&&!He(d,1))return d;switch(f){case 1015:return 97===d.charCodeAt(10)?I+d+d:d;case 951:return 116===d.charCodeAt(3)?I+d+d:d;case 963:return 110===d.charCodeAt(5)?I+d+d:d;case 1009:if(100!==d.charCodeAt(4))break;case 969:case 942:return I+d+d;case 978:return I+d+M+d+d;case 1019:case 983:return I+d+M+d+O+d+d;case 883:return d.charCodeAt(8)===q?I+d+d:d.indexOf("image-set(",11)>0?d.replace(P,"$1"+I+"$2")+d:d;case 932:if(d.charCodeAt(4)===q)switch(d.charCodeAt(5)){case 103:return I+"box-"+d.replace("-grow","")+I+d+O+d.replace("grow","positive")+d;case 115:return I+d+O+d.replace("shrink","negative")+d;case 98:return I+d+O+d.replace("basis","preferred-size")+d}return I+d+O+d+d;case 964:return I+d+O+"flex-"+d+d;case 1023:if(99!==d.charCodeAt(8))break;return u=d.substring(d.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),I+"box-pack"+u+I+d+O+"flex-pack"+u+d;case 1005:return i.test(d)?d.replace(a,":"+I)+d.replace(a,":"+M)+d:d;case 1e3:switch(c=(u=d.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(c)){case 226:u=d.replace(E,"tb");break;case 232:u=d.replace(E,"tb-rl");break;case 220:u=d.replace(E,"lr");break;default:return d}return I+d+O+u+d;case 1017:if(-1===d.indexOf("sticky",9))return d;case 975:switch(c=(d=e).length-10,f=(u=(33===d.charCodeAt(c)?d.substring(0,c):d).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(u.charCodeAt(8)<111)break;case 115:d=d.replace(u,I+u)+";"+d;break;case 207:case 102:d=d.replace(u,I+(f>102?"inline-":"")+"box")+";"+d.replace(u,I+u)+";"+d.replace(u,O+u+"box")+";"+d}return d+";";case 938:if(d.charCodeAt(5)===q)switch(d.charCodeAt(6)){case 105:return u=d.replace("-items",""),I+d+I+"box-"+u+O+"flex-"+u+d;case 115:return I+d+O+"flex-item-"+d.replace(S,"")+d;default:return I+d+O+"flex-line-pack"+d.replace("align-content","").replace(S,"")+d}break;case 973:case 989:if(d.charCodeAt(3)!==q||122===d.charCodeAt(4))break;case 931:case 953:if(!0===k.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?ze(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):d.replace(u,I+u)+d.replace(u,M+u.replace("fill-",""))+d;break;case 962:if(d=I+d+(102===d.charCodeAt(5)?O+d:"")+d,n+r===211&&105===d.charCodeAt(13)&&d.indexOf("transform",10)>0)return d.substring(0,d.indexOf(";",27)+1).replace(o,"$1"+I+"$2")+d}return d}function He(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10),a=e.substring(n+1,e.length-1);return Ce(2!==t?r:r.replace(C,"$1"),a,t)}function Ve(e,t){var n=ze(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(_," or ($1)").substring(4):"("+t+")"}function We(e,t,n,r,a,i,o,s,l,u){for(var c,d=0,f=t;d<Se;++d)switch(c=_e[d].call(Ye,e,f,n,r,a,i,o,s,l,u)){case void 0:case!1:case!0:case null:break;default:f=c}if(f!==t)return f}function qe(e,t,n,r){for(var a=t+1;a<n;++a)switch(r.charCodeAt(a)){case J:if(e===Y&&r.charCodeAt(a-1)===Y&&t+2!==a)return a+1;break;case F:if(e===J)return a+1}return a}function Ge(e){for(var t in e){var n=e[t];switch(t){case"keyframe":Le=0|n;break;case"global":be=0|n;break;case"cascade":ve=0|n;break;case"compress":we=0|n;break;case"semicolon":xe=0|n;break;case"preserve":Ee=0|n;break;case"prefix":Ce=null,n?"function"!=typeof n?ye=1:(ye=2,Ce=n):ye=0}}return Ge}function Ye(t,n){if(void 0!==this&&this.constructor===Ye)return e(t);var a=t,i=a.charCodeAt(0);i<33&&(i=(a=a.trim()).charCodeAt(0)),Le>0&&(Re=a.replace(h,i===N?"":"-")),i=1,1===ve?Ne=a:je=a;var o,s=[Ne];Se>0&&void 0!==(o=We(Pe,n,s,s,me,pe,0,0,0,0))&&"string"==typeof o&&(n=o);var l=Ue(Te,s,n,0,0);return Se>0&&void 0!==(o=We(ke,l,s,s,me,pe,l.length,0,0,0))&&"string"!=typeof(l=o)&&(i=0),Re="",Ne="",je="",ge=0,me=1,pe=1,we*i==0?l:l.replace(r,"").replace(v,"").replace(y,"$1").replace(b,"$1").replace(w," ")}return Ye.use=function e(t){switch(t){case void 0:case null:Se=_e.length=0;break;default:if("function"==typeof t)_e[Se++]=t;else if("object"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else Ae=0|!!t}return e},Ye.set=Ge,void 0!==t&&Ge(t),Ye}(null)},function(e,t,n){"use strict";var r=function(e,t){return e===t};t.a=function(e,t){var n;void 0===t&&(t=r);var a,i=[],o=!1,s=function(e,n){return t(e,i[n],n)};return function(){for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return o&&n===this&&r.length===i.length&&r.every(s)?a:(a=e.apply(this,r),o=!0,n=this,i=r,a)}}},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(a){return!1}}()?Object.assign:function(e,t){for(var n,o,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var u in n=Object(arguments[l]))a.call(n,u)&&(s[u]=n[u]);if(r){o=r(n);for(var c=0;c<o.length;c++)i.call(n,o[c])&&(s[o[c]]=n[o[c]])}}return s}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(3);function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){Object(r.a)(e,t,n[t])})}return e}},,,function(e,t,n){"use strict";(function(e){for(var n="undefined"!==typeof window&&"undefined"!==typeof document,r=["Edge","Trident","Firefox"],a=0,i=0;i<r.length;i+=1)if(n&&navigator.userAgent.indexOf(r[i])>=0){a=1;break}var o=n&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},a))}};function s(e){return e&&"[object Function]"==={}.toString.call(e)}function l(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function u(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function c(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=l(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/(auto|scroll|overlay)/.test(n+a+r)?e:c(u(e))}var d=n&&!(!window.MSInputMethodContext||!document.documentMode),f=n&&/MSIE 10/.test(navigator.userAgent);function h(e){return 11===e?d:10===e?f:d||f}function p(e){if(!e)return document.documentElement;for(var t=h(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===l(n,"position")?p(n):n:e?e.ownerDocument.documentElement:document.documentElement}function m(e){return null!==e.parentNode?m(e.parentNode):e}function g(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,a=n?t:e,i=document.createRange();i.setStart(r,0),i.setEnd(a,0);var o=i.commonAncestorContainer;if(e!==o&&t!==o||r.contains(a))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||p(e.firstElementChild)===e)}(o)?o:p(o);var s=m(e);return s.host?g(s.host,t):g(e,m(t).host)}function v(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var r=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||r)[t]}return e[t]}function y(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"],10)+parseFloat(e["border"+r+"Width"],10)}function b(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],h(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function w(e){var t=e.body,n=e.documentElement,r=h(10)&&getComputedStyle(n);return{height:b("Height",t,n,r),width:b("Width",t,n,r)}}var x=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},E=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),T=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function S(e){return _({},e,{right:e.left+e.width,bottom:e.top+e.height})}function C(e){var t={};try{if(h(10)){t=e.getBoundingClientRect();var n=v(e,"top"),r=v(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(f){}var a={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},i="HTML"===e.nodeName?w(e.ownerDocument):{},o=i.width||e.clientWidth||a.right-a.left,s=i.height||e.clientHeight||a.bottom-a.top,u=e.offsetWidth-o,c=e.offsetHeight-s;if(u||c){var d=l(e);u-=y(d,"x"),c-=y(d,"y"),a.width-=u,a.height-=c}return S(a)}function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=h(10),a="HTML"===t.nodeName,i=C(e),o=C(t),s=c(e),u=l(t),d=parseFloat(u.borderTopWidth,10),f=parseFloat(u.borderLeftWidth,10);n&&a&&(o.top=Math.max(o.top,0),o.left=Math.max(o.left,0));var p=S({top:i.top-o.top-d,left:i.left-o.left-f,width:i.width,height:i.height});if(p.marginTop=0,p.marginLeft=0,!r&&a){var m=parseFloat(u.marginTop,10),g=parseFloat(u.marginLeft,10);p.top-=d-m,p.bottom-=d-m,p.left-=f-g,p.right-=f-g,p.marginTop=m,p.marginLeft=g}return(r&&!n?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=v(t,"top"),a=v(t,"left"),i=n?-1:1;return e.top+=r*i,e.bottom+=r*i,e.left+=a*i,e.right+=a*i,e}(p,t)),p}function P(e){if(!e||!e.parentElement||h())return document.documentElement;for(var t=e.parentElement;t&&"none"===l(t,"transform");)t=t.parentElement;return t||document.documentElement}function I(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i={top:0,left:0},o=a?P(e):g(e,t);if("viewport"===r)i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=k(e,n),a=Math.max(n.clientWidth,window.innerWidth||0),i=Math.max(n.clientHeight,window.innerHeight||0),o=t?0:v(n),s=t?0:v(n,"left");return S({top:o-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:a,height:i})}(o,a);else{var s=void 0;"scrollParent"===r?"BODY"===(s=c(u(t))).nodeName&&(s=e.ownerDocument.documentElement):s="window"===r?e.ownerDocument.documentElement:r;var d=k(s,o,a);if("HTML"!==s.nodeName||function e(t){var n=t.nodeName;if("BODY"===n||"HTML"===n)return!1;if("fixed"===l(t,"position"))return!0;var r=u(t);return!!r&&e(r)}(o))i=d;else{var f=w(e.ownerDocument),h=f.height,p=f.width;i.top+=d.top-d.marginTop,i.bottom=h+d.top,i.left+=d.left-d.marginLeft,i.right=p+d.left}}var m="number"===typeof(n=n||0);return i.left+=m?n:n.left||0,i.top+=m?n:n.top||0,i.right-=m?n:n.right||0,i.bottom-=m?n:n.bottom||0,i}function M(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var o=I(n,r,i,a),s={top:{width:o.width,height:t.top-o.top},right:{width:o.right-t.right,height:o.height},bottom:{width:o.width,height:o.bottom-t.bottom},left:{width:t.left-o.left,height:o.height}},l=Object.keys(s).map(function(e){return _({key:e},s[e],{area:(t=s[e],t.width*t.height)});var t}).sort(function(e,t){return t.area-e.area}),u=l.filter(function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight}),c=u.length>0?u[0].key:l[0].key,d=e.split("-")[1];return c+(d?"-"+d:"")}function O(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return k(n,r?P(t):g(t,n),r)}function D(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function A(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function L(e,t,n){n=n.split("-")[0];var r=D(e),a={width:r.width,height:r.height},i=-1!==["right","left"].indexOf(n),o=i?"top":"left",s=i?"left":"top",l=i?"height":"width",u=i?"width":"height";return a[o]=t[o]+t[l]/2-r[l]/2,a[s]=n===s?t[s]-r[u]:t[A(s)],a}function R(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function j(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===n});var r=R(e,function(e){return e[t]===n});return e.indexOf(r)}(e,"name",n))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&s(n)&&(t.offsets.popper=S(t.offsets.popper),t.offsets.reference=S(t.offsets.reference),t=n(t,e))}),t}function N(e,t){return e.some(function(e){var n=e.name;return e.enabled&&n===t})}function U(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var a=t[r],i=a?""+a+n:e;if("undefined"!==typeof document.body.style[i])return i}return null}function F(e){var t=e.ownerDocument;return t?t.defaultView:window}function B(e,t,n,r){n.updateBound=r,F(e).addEventListener("resize",n.updateBound,{passive:!0});var a=c(e);return function e(t,n,r,a){var i="BODY"===t.nodeName,o=i?t.ownerDocument.defaultView:t;o.addEventListener(n,r,{passive:!0}),i||e(c(o.parentNode),n,r,a),a.push(o)}(a,"scroll",n.updateBound,n.scrollParents),n.scrollElement=a,n.eventsEnabled=!0,n}function z(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,F(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function H(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function V(e,t){Object.keys(t).forEach(function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&H(t[n])&&(r="px"),e.style[n]=t[n]+r})}var W=n&&/Firefox/i.test(navigator.userAgent);function q(e,t,n){var r=R(e,function(e){return e.name===t}),a=!!r&&e.some(function(e){return e.name===n&&e.enabled&&e.order<r.order});if(!a){var i="`"+t+"`",o="`"+n+"`";console.warn(o+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return a}var G=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Y=G.slice(3);function Z(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Y.indexOf(e),r=Y.slice(n+1).concat(Y.slice(0,n));return t?r.reverse():r}var X={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function K(e,t,n,r){var a=[0,0],i=-1!==["right","left"].indexOf(r),o=e.split(/(\+|\-)/).map(function(e){return e.trim()}),s=o.indexOf(R(o,function(e){return-1!==e.search(/,|\s/)}));o[s]&&-1===o[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,u=-1!==s?[o.slice(0,s).concat([o[s].split(l)[0]]),[o[s].split(l)[1]].concat(o.slice(s+1))]:[o];return(u=u.map(function(e,r){var a=(1===r?!i:i)?"height":"width",o=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,o=!0,e):o?(e[e.length-1]+=t,o=!1,e):e.concat(t)},[]).map(function(e){return function(e,t,n,r){var a=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+a[1],o=a[2];if(!i)return e;if(0===o.indexOf("%")){var s=void 0;switch(o){case"%p":s=n;break;case"%":case"%r":default:s=r}return S(s)[t]/100*i}if("vh"===o||"vw"===o)return("vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*i;return i}(e,a,t,n)})})).forEach(function(e,t){e.forEach(function(n,r){H(n)&&(a[t]+=n*("-"===e[r-1]?-1:1))})}),a}var $={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var a=e.offsets,i=a.reference,o=a.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",u=s?"width":"height",c={start:T({},l,i[l]),end:T({},l,i[l]+i[u]-o[u])};e.offsets.popper=_({},o,c[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,a=e.offsets,i=a.popper,o=a.reference,s=r.split("-")[0],l=void 0;return l=H(+n)?[+n,0]:K(n,i,o,s),"left"===s?(i.top+=l[0],i.left-=l[1]):"right"===s?(i.top+=l[0],i.left+=l[1]):"top"===s?(i.left+=l[0],i.top-=l[1]):"bottom"===s&&(i.left+=l[0],i.top+=l[1]),e.popper=i,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||p(e.instance.popper);e.instance.reference===n&&(n=p(n));var r=U("transform"),a=e.instance.popper.style,i=a.top,o=a.left,s=a[r];a.top="",a.left="",a[r]="";var l=I(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);a.top=i,a.left=o,a[r]=s,t.boundaries=l;var u=t.priority,c=e.offsets.popper,d={primary:function(e){var n=c[e];return c[e]<l[e]&&!t.escapeWithReference&&(n=Math.max(c[e],l[e])),T({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=c[n];return c[e]>l[e]&&!t.escapeWithReference&&(r=Math.min(c[n],l[e]-("right"===e?c.width:c.height))),T({},n,r)}};return u.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";c=_({},c,d[t](e))}),e.offsets.popper=c,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,a=e.placement.split("-")[0],i=Math.floor,o=-1!==["top","bottom"].indexOf(a),s=o?"right":"bottom",l=o?"left":"top",u=o?"width":"height";return n[s]<i(r[l])&&(e.offsets.popper[l]=i(r[l])-n[u]),n[l]>i(r[s])&&(e.offsets.popper[l]=i(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!q(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"===typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var a=e.placement.split("-")[0],i=e.offsets,o=i.popper,s=i.reference,u=-1!==["left","right"].indexOf(a),c=u?"height":"width",d=u?"Top":"Left",f=d.toLowerCase(),h=u?"left":"top",p=u?"bottom":"right",m=D(r)[c];s[p]-m<o[f]&&(e.offsets.popper[f]-=o[f]-(s[p]-m)),s[f]+m>o[p]&&(e.offsets.popper[f]+=s[f]+m-o[p]),e.offsets.popper=S(e.offsets.popper);var g=s[f]+s[c]/2-m/2,v=l(e.instance.popper),y=parseFloat(v["margin"+d],10),b=parseFloat(v["border"+d+"Width"],10),w=g-e.offsets.popper[f]-y-b;return w=Math.max(Math.min(o[c]-m,w),0),e.arrowElement=r,e.offsets.arrow=(T(n={},f,Math.round(w)),T(n,h,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(N(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=I(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],a=A(r),i=e.placement.split("-")[1]||"",o=[];switch(t.behavior){case X.FLIP:o=[r,a];break;case X.CLOCKWISE:o=Z(r);break;case X.COUNTERCLOCKWISE:o=Z(r,!0);break;default:o=t.behavior}return o.forEach(function(s,l){if(r!==s||o.length===l+1)return e;r=e.placement.split("-")[0],a=A(r);var u=e.offsets.popper,c=e.offsets.reference,d=Math.floor,f="left"===r&&d(u.right)>d(c.left)||"right"===r&&d(u.left)<d(c.right)||"top"===r&&d(u.bottom)>d(c.top)||"bottom"===r&&d(u.top)<d(c.bottom),h=d(u.left)<d(n.left),p=d(u.right)>d(n.right),m=d(u.top)<d(n.top),g=d(u.bottom)>d(n.bottom),v="left"===r&&h||"right"===r&&p||"top"===r&&m||"bottom"===r&&g,y=-1!==["top","bottom"].indexOf(r),b=!!t.flipVariations&&(y&&"start"===i&&h||y&&"end"===i&&p||!y&&"start"===i&&m||!y&&"end"===i&&g);(f||v||b)&&(e.flipped=!0,(f||v)&&(r=o[l+1]),b&&(i=function(e){return"end"===e?"start":"start"===e?"end":e}(i)),e.placement=r+(i?"-"+i:""),e.offsets.popper=_({},e.offsets.popper,L(e.instance.popper,e.offsets.reference,e.placement)),e=j(e.instance.modifiers,e,"flip"))}),e},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,a=r.popper,i=r.reference,o=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return a[o?"left":"top"]=i[n]-(s?a[o?"width":"height"]:0),e.placement=A(t),e.offsets.popper=S(a),e}},hide:{order:800,enabled:!0,fn:function(e){if(!q(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=R(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,a=e.offsets.popper,i=R(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==i&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o=void 0!==i?i:t.gpuAcceleration,s=p(e.instance.popper),l=C(s),u={position:a.position},c=function(e,t){var n=e.offsets,r=n.popper,a=n.reference,i=Math.round,o=Math.floor,s=function(e){return e},l=i(a.width),u=i(r.width),c=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),f=t?c||d||l%2===u%2?i:o:s,h=t?i:s;return{left:f(l%2===1&&u%2===1&&!d&&t?r.left-1:r.left),top:h(r.top),bottom:h(r.bottom),right:f(r.right)}}(e,window.devicePixelRatio<2||!W),d="bottom"===n?"top":"bottom",f="right"===r?"left":"right",h=U("transform"),m=void 0,g=void 0;if(g="bottom"===d?"HTML"===s.nodeName?-s.clientHeight+c.bottom:-l.height+c.bottom:c.top,m="right"===f?"HTML"===s.nodeName?-s.clientWidth+c.right:-l.width+c.right:c.left,o&&h)u[h]="translate3d("+m+"px, "+g+"px, 0)",u[d]=0,u[f]=0,u.willChange="transform";else{var v="bottom"===d?-1:1,y="right"===f?-1:1;u[d]=g*v,u[f]=m*y,u.willChange=d+", "+f}var b={"x-placement":e.placement};return e.attributes=_({},b,e.attributes),e.styles=_({},u,e.styles),e.arrowStyles=_({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return V(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach(function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)}),e.arrowElement&&Object.keys(e.arrowStyles).length&&V(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,a){var i=O(a,t,e,n.positionFixed),o=M(n.placement,i,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",o),V(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},J=function(){function e(t,n){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};x(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=o(this.update.bind(this)),this.options=_({},e.Defaults,a),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(_({},e.Defaults.modifiers,a.modifiers)).forEach(function(t){r.options.modifiers[t]=_({},e.Defaults.modifiers[t]||{},a.modifiers?a.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return _({name:e},r.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&s(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)}),this.update();var i=this.options.eventsEnabled;i&&this.enableEventListeners(),this.state.eventsEnabled=i}return E(e,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=O(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=M(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=L(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=j(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,N(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[U("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=B(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return z.call(this)}}]),e}();J.Utils=("undefined"!==typeof window?window:e).PopperUtils,J.placements=G,J.Defaults=$,t.a=J}).call(this,n(23))},function(e,t,n){e.exports=function(){"use strict";return function(e){function t(t){if(t)try{e(t+"}")}catch(n){}}return function(n,r,a,i,o,s,l,u,c,d){switch(n){case 1:if(0===c&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===u)return r+"/*|*/";break;case 3:switch(u){case 102:case 112:return e(a[0]+r),"";default:return r+(0===d?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}}()},function(e,t,n){"use strict";t.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,n){e.exports=function(){"use strict";var e=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var n=Object.prototype.toString.call(e);return"[object RegExp]"===n||"[object Date]"===n||function(e){return e.$$typeof===t}(e)}(e)},t="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function n(e,t){return!1!==t.clone&&t.isMergeableObject(e)?i((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function r(e,t,r){return e.concat(t).map(function(e){return n(e,r)})}function a(e,t,r){var a={};return r.isMergeableObject(e)&&Object.keys(e).forEach(function(t){a[t]=n(e[t],r)}),Object.keys(t).forEach(function(o){r.isMergeableObject(t[o])&&e[o]?a[o]=function(e,t){if(!t.customMerge)return i;var n=t.customMerge(e);return"function"===typeof n?n:i}(o,r)(e[o],t[o],r):a[o]=n(t[o],r)}),a}function i(t,i,o){(o=o||{}).arrayMerge=o.arrayMerge||r,o.isMergeableObject=o.isMergeableObject||e;var s=Array.isArray(i),l=Array.isArray(t),u=s===l;return u?s?o.arrayMerge(t,i,o):a(t,i,o):n(i,o)}return i.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(e,n){return i(e,n,t)},{})},i}()},function(e,t){e.exports=function(e,t,n,r){var a=n?n.call(r,e,t):void 0;if(void 0!==a)return!!a;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<i.length;l++){var u=i[l];if(!s(u))return!1;var c=e[u],d=t[u];if(!1===(a=n?n.call(r,c,d,u):void 0)||void 0===a&&c!==d)return!1}return!0}},function(e,t,n){var r;!function(a,i,o,s){"use strict";var l,u=["","webkit","Moz","MS","ms","o"],c=i.createElement("div"),d="function",f=Math.round,h=Math.abs,p=Date.now;function m(e,t,n){return setTimeout(E(e,n),t)}function g(e,t,n){return!!Array.isArray(e)&&(v(e,n[t],n),!0)}function v(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==s)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function y(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=a.console&&(a.console.warn||a.console.log);return i&&i.call(a.console,r,n),e.apply(this,arguments)}}l="function"!==typeof Object.assign?function(e){if(e===s||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var a in r)r.hasOwnProperty(a)&&(t[a]=r[a])}return t}:Object.assign;var b=y(function(e,t,n){for(var r=Object.keys(t),a=0;a<r.length;)(!n||n&&e[r[a]]===s)&&(e[r[a]]=t[r[a]]),a++;return e},"extend","Use `assign`."),w=y(function(e,t){return b(e,t,!0)},"merge","Use `assign`.");function x(e,t,n){var r,a=t.prototype;(r=e.prototype=Object.create(a)).constructor=e,r._super=a,n&&l(r,n)}function E(e,t){return function(){return e.apply(t,arguments)}}function T(e,t){return typeof e==d?e.apply(t&&t[0]||s,t):e}function _(e,t){return e===s?t:e}function S(e,t,n){v(I(t),function(t){e.addEventListener(t,n,!1)})}function C(e,t,n){v(I(t),function(t){e.removeEventListener(t,n,!1)})}function k(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function P(e,t){return e.indexOf(t)>-1}function I(e){return e.trim().split(/\s+/g)}function M(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function O(e){return Array.prototype.slice.call(e,0)}function D(e,t,n){for(var r=[],a=[],i=0;i<e.length;){var o=t?e[i][t]:e[i];M(a,o)<0&&r.push(e[i]),a[i]=o,i++}return n&&(r=t?r.sort(function(e,n){return e[t]>n[t]}):r.sort()),r}function A(e,t){for(var n,r,a=t[0].toUpperCase()+t.slice(1),i=0;i<u.length;){if((r=(n=u[i])?n+a:t)in e)return r;i++}return s}var L=1;function R(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||a}var j="ontouchstart"in a,N=A(a,"PointerEvent")!==s,U=j&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),F=25,B=1,z=2,H=4,V=8,W=1,q=2,G=4,Y=8,Z=16,X=q|G,K=Y|Z,$=X|K,J=["x","y"],Q=["clientX","clientY"];function ee(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){T(e.options.enable,[e])&&n.handler(t)},this.init()}function te(e,t,n){var r=n.pointers.length,a=n.changedPointers.length,i=t&B&&r-a===0,o=t&(H|V)&&r-a===0;n.isFirst=!!i,n.isFinal=!!o,i&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,r=t.pointers,a=r.length;n.firstInput||(n.firstInput=ne(t));a>1&&!n.firstMultiple?n.firstMultiple=ne(t):1===a&&(n.firstMultiple=!1);var i=n.firstInput,o=n.firstMultiple,l=o?o.center:i.center,u=t.center=re(r);t.timeStamp=p(),t.deltaTime=t.timeStamp-i.timeStamp,t.angle=se(l,u),t.distance=oe(l,u),function(e,t){var n=t.center,r=e.offsetDelta||{},a=e.prevDelta||{},i=e.prevInput||{};t.eventType!==B&&i.eventType!==H||(a=e.prevDelta={x:i.deltaX||0,y:i.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y});t.deltaX=a.x+(n.x-r.x),t.deltaY=a.y+(n.y-r.y)}(n,t),t.offsetDirection=ie(t.deltaX,t.deltaY);var c=ae(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=c.x,t.overallVelocityY=c.y,t.overallVelocity=h(c.x)>h(c.y)?c.x:c.y,t.scale=o?(d=o.pointers,f=r,oe(f[0],f[1],Q)/oe(d[0],d[1],Q)):1,t.rotation=o?function(e,t){return se(t[1],t[0],Q)+se(e[1],e[0],Q)}(o.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,r,a,i,o=e.lastInterval||t,l=t.timeStamp-o.timeStamp;if(t.eventType!=V&&(l>F||o.velocity===s)){var u=t.deltaX-o.deltaX,c=t.deltaY-o.deltaY,d=ae(l,u,c);r=d.x,a=d.y,n=h(d.x)>h(d.y)?d.x:d.y,i=ie(u,c),e.lastInterval=t}else n=o.velocity,r=o.velocityX,a=o.velocityY,i=o.direction;t.velocity=n,t.velocityX=r,t.velocityY=a,t.direction=i}(n,t);var d,f;var m=e.element;k(t.srcEvent.target,m)&&(m=t.srcEvent.target);t.target=m}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function ne(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:f(e.pointers[n].clientX),clientY:f(e.pointers[n].clientY)},n++;return{timeStamp:p(),pointers:t,center:re(t),deltaX:e.deltaX,deltaY:e.deltaY}}function re(e){var t=e.length;if(1===t)return{x:f(e[0].clientX),y:f(e[0].clientY)};for(var n=0,r=0,a=0;a<t;)n+=e[a].clientX,r+=e[a].clientY,a++;return{x:f(n/t),y:f(r/t)}}function ae(e,t,n){return{x:t/e||0,y:n/e||0}}function ie(e,t){return e===t?W:h(e)>=h(t)?e<0?q:G:t<0?Y:Z}function oe(e,t,n){n||(n=J);var r=t[n[0]]-e[n[0]],a=t[n[1]]-e[n[1]];return Math.sqrt(r*r+a*a)}function se(e,t,n){n||(n=J);var r=t[n[0]]-e[n[0]],a=t[n[1]]-e[n[1]];return 180*Math.atan2(a,r)/Math.PI}ee.prototype={handler:function(){},init:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(R(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C(R(this.element),this.evWin,this.domHandler)}};var le={mousedown:B,mousemove:z,mouseup:H},ue="mousedown",ce="mousemove mouseup";function de(){this.evEl=ue,this.evWin=ce,this.pressed=!1,ee.apply(this,arguments)}x(de,ee,{handler:function(e){var t=le[e.type];t&B&&0===e.button&&(this.pressed=!0),t&z&&1!==e.which&&(t=H),this.pressed&&(t&H&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var fe={pointerdown:B,pointermove:z,pointerup:H,pointercancel:V,pointerout:V},he={2:"touch",3:"pen",4:"mouse",5:"kinect"},pe="pointerdown",me="pointermove pointerup pointercancel";function ge(){this.evEl=pe,this.evWin=me,ee.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}a.MSPointerEvent&&!a.PointerEvent&&(pe="MSPointerDown",me="MSPointerMove MSPointerUp MSPointerCancel"),x(ge,ee,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),a=fe[r],i=he[e.pointerType]||e.pointerType,o="touch"==i,s=M(t,e.pointerId,"pointerId");a&B&&(0===e.button||o)?s<0&&(t.push(e),s=t.length-1):a&(H|V)&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,a,{pointers:t,changedPointers:[e],pointerType:i,srcEvent:e}),n&&t.splice(s,1))}});var ve={touchstart:B,touchmove:z,touchend:H,touchcancel:V},ye="touchstart",be="touchstart touchmove touchend touchcancel";function we(){this.evTarget=ye,this.evWin=be,this.started=!1,ee.apply(this,arguments)}x(we,ee,{handler:function(e){var t=ve[e.type];if(t===B&&(this.started=!0),this.started){var n=function(e,t){var n=O(e.touches),r=O(e.changedTouches);t&(H|V)&&(n=D(n.concat(r),"identifier",!0));return[n,r]}.call(this,e,t);t&(H|V)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}});var xe={touchstart:B,touchmove:z,touchend:H,touchcancel:V},Ee="touchstart touchmove touchend touchcancel";function Te(){this.evTarget=Ee,this.targetIds={},ee.apply(this,arguments)}x(Te,ee,{handler:function(e){var t=xe[e.type],n=function(e,t){var n=O(e.touches),r=this.targetIds;if(t&(B|z)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var a,i,o=O(e.changedTouches),s=[],l=this.target;if(i=n.filter(function(e){return k(e.target,l)}),t===B)for(a=0;a<i.length;)r[i[a].identifier]=!0,a++;a=0;for(;a<o.length;)r[o[a].identifier]&&s.push(o[a]),t&(H|V)&&delete r[o[a].identifier],a++;if(!s.length)return;return[D(i.concat(s),"identifier",!0),s]}.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}});var _e=2500,Se=25;function Ce(){ee.apply(this,arguments);var e=E(this.handler,this);this.touch=new Te(this.manager,e),this.mouse=new de(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function ke(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout(function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)},_e)}}x(Ce,ee,{handler:function(e,t,n){var r="touch"==n.pointerType,a="mouse"==n.pointerType;if(!(a&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)(function(e,t){e&B?(this.primaryTouch=t.changedPointers[0].identifier,ke.call(this,t)):e&(H|V)&&ke.call(this,t)}).call(this,t,n);else if(a&&function(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var a=this.lastTouches[r],i=Math.abs(t-a.x),o=Math.abs(n-a.y);if(i<=Se&&o<=Se)return!0}return!1}.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Pe=A(c.style,"touchAction"),Ie=Pe!==s,Me="auto",Oe="manipulation",De="none",Ae="pan-x",Le="pan-y",Re=function(){if(!Ie)return!1;var e={},t=a.CSS&&a.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){e[n]=!t||a.CSS.supports("touch-action",n)}),e}();function je(e,t){this.manager=e,this.set(t)}je.prototype={set:function(e){"compute"==e&&(e=this.compute()),Ie&&this.manager.element.style&&Re[e]&&(this.manager.element.style[Pe]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return v(this.manager.recognizers,function(t){T(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(e){if(P(e,De))return De;var t=P(e,Ae),n=P(e,Le);if(t&&n)return De;if(t||n)return t?Ae:Le;if(P(e,Oe))return Oe;return Me}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var r=this.actions,a=P(r,De)&&!Re[De],i=P(r,Le)&&!Re[Le],o=P(r,Ae)&&!Re[Ae];if(a){var s=1===e.pointers.length,l=e.distance<2,u=e.deltaTime<250;if(s&&l&&u)return}if(!o||!i)return a||i&&n&X||o&&n&K?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var Ne=1,Ue=2,Fe=4,Be=8,ze=Be,He=16;function Ve(e){this.options=l({},this.defaults,e||{}),this.id=L++,this.manager=null,this.options.enable=_(this.options.enable,!0),this.state=Ne,this.simultaneous={},this.requireFail=[]}function We(e){return e&He?"cancel":e&Be?"end":e&Fe?"move":e&Ue?"start":""}function qe(e){return e==Z?"down":e==Y?"up":e==q?"left":e==G?"right":""}function Ge(e,t){var n=t.manager;return n?n.get(e):e}function Ye(){Ve.apply(this,arguments)}function Ze(){Ye.apply(this,arguments),this.pX=null,this.pY=null}function Xe(){Ye.apply(this,arguments)}function Ke(){Ve.apply(this,arguments),this._timer=null,this._input=null}function $e(){Ye.apply(this,arguments)}function Je(){Ye.apply(this,arguments)}function Qe(){Ve.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function et(e,t){return(t=t||{}).recognizers=_(t.recognizers,et.defaults.preset),new tt(e,t)}Ve.prototype={defaults:{},set:function(e){return l(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(g(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=Ge(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return g(e,"dropRecognizeWith",this)?this:(e=Ge(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(g(e,"requireFailure",this))return this;var t=this.requireFail;return-1===M(t,e=Ge(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(g(e,"dropRequireFailure",this))return this;e=Ge(e,this);var t=M(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function r(n){t.manager.emit(n,e)}n<Be&&r(t.options.event+We(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=Be&&r(t.options.event+We(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(32|Ne)))return!1;e++}return!0},recognize:function(e){var t=l({},e);if(!T(this.options.enable,[this,t]))return this.reset(),void(this.state=32);this.state&(ze|He|32)&&(this.state=Ne),this.state=this.process(t),this.state&(Ue|Fe|Be|He)&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},x(Ye,Ve,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=t&(Ue|Fe),a=this.attrTest(e);return r&&(n&V||!a)?t|He:r||a?n&H?t|Be:t&Ue?t|Fe:Ue:32}}),x(Ze,Ye,{defaults:{event:"pan",threshold:10,pointers:1,direction:$},getTouchAction:function(){var e=this.options.direction,t=[];return e&X&&t.push(Le),e&K&&t.push(Ae),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,a=e.direction,i=e.deltaX,o=e.deltaY;return a&t.direction||(t.direction&X?(a=0===i?W:i<0?q:G,n=i!=this.pX,r=Math.abs(e.deltaX)):(a=0===o?W:o<0?Y:Z,n=o!=this.pY,r=Math.abs(e.deltaY))),e.direction=a,n&&r>t.threshold&&a&t.direction},attrTest:function(e){return Ye.prototype.attrTest.call(this,e)&&(this.state&Ue||!(this.state&Ue)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=qe(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),x(Xe,Ye,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[De]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&Ue)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),x(Ke,Ve,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Me]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,a=e.deltaTime>t.time;if(this._input=e,!r||!n||e.eventType&(H|V)&&!a)this.reset();else if(e.eventType&B)this.reset(),this._timer=m(function(){this.state=ze,this.tryEmit()},t.time,this);else if(e.eventType&H)return ze;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===ze&&(e&&e.eventType&H?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}}),x($e,Ye,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[De]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&Ue)}}),x(Je,Ye,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:X|K,pointers:1},getTouchAction:function(){return Ze.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(X|K)?t=e.overallVelocity:n&X?t=e.overallVelocityX:n&K&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&h(t)>this.options.velocity&&e.eventType&H},emit:function(e){var t=qe(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),x(Qe,Ve,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Oe]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,a=e.deltaTime<t.time;if(this.reset(),e.eventType&B&&0===this.count)return this.failTimeout();if(r&&a&&n){if(e.eventType!=H)return this.failTimeout();var i=!this.pTime||e.timeStamp-this.pTime<t.interval,o=!this.pCenter||oe(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,o&&i?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=m(function(){this.state=ze,this.tryEmit()},t.interval,this),Ue):ze}return 32},failTimeout:function(){return this._timer=m(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ze&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),et.VERSION="2.0.7",et.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[$e,{enable:!1}],[Xe,{enable:!1},["rotate"]],[Je,{direction:X}],[Ze,{direction:X},["swipe"]],[Qe],[Qe,{event:"doubletap",taps:2},["tap"]],[Ke]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function tt(e,t){this.options=l({},et.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=function(e){var t=e.options.inputClass;return new(t||(N?ge:U?Te:j?Ce:de))(e,te)}(this),this.touchAction=new je(this,this.options.touchAction),nt(this,!0),v(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function nt(e,t){var n,r=e.element;r.style&&(v(e.options.cssProps,function(a,i){n=A(r.style,i),t?(e.oldCssProps[n]=r.style[n],r.style[n]=a):r.style[n]=e.oldCssProps[n]||""}),t||(e.oldCssProps={}))}tt.prototype={set:function(e){return l(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var r=this.recognizers,a=t.curRecognizer;(!a||a&&a.state&ze)&&(a=t.curRecognizer=null);for(var i=0;i<r.length;)n=r[i],2===t.stopped||a&&n!=a&&!n.canRecognizeWith(a)?n.reset():n.recognize(e),!a&&n.state&(Ue|Fe|Be)&&(a=t.curRecognizer=n),i++}},get:function(e){if(e instanceof Ve)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(g(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(g(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=M(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==s&&t!==s){var n=this.handlers;return v(I(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this}},off:function(e,t){if(e!==s){var n=this.handlers;return v(I(e),function(e){t?n[e]&&n[e].splice(M(n[e],t),1):delete n[e]}),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=i.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&nt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},l(et,{INPUT_START:B,INPUT_MOVE:z,INPUT_END:H,INPUT_CANCEL:V,STATE_POSSIBLE:Ne,STATE_BEGAN:Ue,STATE_CHANGED:Fe,STATE_ENDED:Be,STATE_RECOGNIZED:ze,STATE_CANCELLED:He,STATE_FAILED:32,DIRECTION_NONE:W,DIRECTION_LEFT:q,DIRECTION_RIGHT:G,DIRECTION_UP:Y,DIRECTION_DOWN:Z,DIRECTION_HORIZONTAL:X,DIRECTION_VERTICAL:K,DIRECTION_ALL:$,Manager:tt,Input:ee,TouchAction:je,TouchInput:Te,MouseInput:de,PointerEventInput:ge,TouchMouseInput:Ce,SingleTouchInput:we,Recognizer:Ve,AttrRecognizer:Ye,Tap:Qe,Pan:Ze,Swipe:Je,Pinch:Xe,Rotate:$e,Press:Ke,on:S,off:C,each:v,merge:w,extend:b,assign:l,inherit:x,bindFn:E,prefixed:A}),("undefined"!==typeof a?a:"undefined"!==typeof self?self:{}).Hammer=et,(r=function(){return et}.call(t,n,t,e))===s||(e.exports=r)}(window,document)},function(e,t,n){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clamp=function(e,t,n){return e<t?t:e>n?n:e},t.degToRad=function(e){return e*(Math.PI/180)},t.radToDeg=function(e){return e*(180/Math.PI)},t.sign=function(e){return"number"==typeof e?e?e<0?-1:1:e==e?0:NaN:NaN}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a,i,o,s,l,u=n(3),c=(r=u)&&r.__esModule?r:{default:r},d=n(0),f=function(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0};f.prototype={constructor:f,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Vector3's .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},sub:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Vector3's .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Vector3's .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyAxisAngle:(l=void 0,function(e,t){return void 0===l&&(l=new c.default),this.applyQuaternion(l.setFromAxisAngle(e.normalize(),t)),this}),applyMatrix3:function(e){var t=this.x,n=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[3]*n+a[6]*r,this.y=a[1]*t+a[4]*n+a[7]*r,this.z=a[2]*t+a[5]*n+a[8]*r,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12],this.y=a[1]*t+a[5]*n+a[9]*r+a[13],this.z=a[2]*t+a[6]*n+a[10]*r+a[14],this},applyProjection:function(e){var t=this.x,n=this.y,r=this.z,a=e.elements,i=1/(a[3]*t+a[7]*n+a[11]*r+a[15]);return this.x=(a[0]*t+a[4]*n+a[8]*r+a[12])*i,this.y=(a[1]*t+a[5]*n+a[9]*r+a[13])*i,this.z=(a[2]*t+a[6]*n+a[10]*r+a[14])*i,this},applyQuaternion:function(e){var t=this.x,n=this.y,r=this.z,a=e.x,i=e.y,o=e.z,s=e.w,l=s*t+i*r-o*n,u=s*n+o*t-a*r,c=s*r+a*n-i*t,d=-a*t-i*n-o*r;return this.x=l*s+d*-a+u*-o-c*-i,this.y=u*s+d*-i+c*-a-l*-o,this.z=c*s+d*-o+l*-i-u*-a,this},transformDirection:function(e){var t=this.x,n=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r,this.y=a[1]*t+a[5]*n+a[9]*r,this.z=a[2]*t+a[6]*n+a[10]*r,this.normalize(),this},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){if(0!==e){var t=1/e;this.x*=t,this.y*=t,this.z*=t}else this.x=0,this.y=0,this.z=0;return this},min:function(e){return this.x>e.x&&(this.x=e.x),this.y>e.y&&(this.y=e.y),this.z>e.z&&(this.z=e.z),this},max:function(e){return this.x<e.x&&(this.x=e.x),this.y<e.y&&(this.y=e.y),this.z<e.z&&(this.z=e.z),this},clamp:function(e,t){return this.x<e.x?this.x=e.x:this.x>t.x&&(this.x=t.x),this.y<e.y?this.y=e.y:this.y>t.y&&(this.y=t.y),this.z<e.z?this.z=e.z:this.z>t.z&&(this.z=t.z),this},clampScalar:(o=void 0,s=void 0,function(e,t){return void 0===o&&(o=new f,s=new f),o.set(e,e,e),s.set(t,t,t),this.clamp(o,s)}),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.multiplyScalar(-1)},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(e){var t=this.length();return 0!==t&&e!==t&&this.multiplyScalar(e/t),this},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},cross:function(e,t){if(void 0!==t)return console.warn("DEPRECATED: Vector3's .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t);var n=this.x,r=this.y,a=this.z;return this.x=r*e.z-a*e.y,this.y=a*e.x-n*e.z,this.z=n*e.y-r*e.x,this},crossVectors:function(e,t){var n=e.x,r=e.y,a=e.z,i=t.x,o=t.y,s=t.z;return this.x=r*s-a*o,this.y=a*i-n*s,this.z=n*o-r*i,this},projectOnVector:(a=void 0,i=void 0,function(e){return void 0===a&&(a=new f),a.copy(e).normalize(),i=this.dot(a),this.copy(a).multiplyScalar(i)}),projectOnPlane:function(){var e=void 0;return function(t){return void 0===e&&(e=new f),e.copy(this).projectOnVector(t),this.sub(e)}}(),reflect:function(){var e=void 0;return function(t){return void 0===e&&(e=new f),this.sub(e.copy(t).multiplyScalar(2*this.dot(t)))}}(),angleTo:function(e){var t=this.dot(e)/(this.length()*e.length());return Math.acos((0,d.clamp)(t,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r},setFromMatrixPosition:function(e){return this.x=e.elements[12],this.y=e.elements[13],this.z=e.elements[14],this},setFromMatrixScale:function(e){var t=this.set(e.elements[0],e.elements[1],e.elements[2]).length(),n=this.set(e.elements[4],e.elements[5],e.elements[6]).length(),r=this.set(e.elements[8],e.elements[9],e.elements[10]).length();return this.x=t,this.y=n,this.z=r,this},setFromMatrixColumn:function(e,t){var n=4*e,r=t.elements;return this.x=r[n],this.y=r[n+1],this.z=r[n+2],this},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e){return this.x=e[0],this.y=e[1],this.z=e[2],this},toArray:function(){return[this.x,this.y,this.z]},clone:function(){return new f(this.x,this.y,this.z)}},t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);function a(e){return e*e}function i(e,t){return a(e.x-t.x)+a(e.y-t.y)}var o={distanceToPoint:function(e,t){return Math.sqrt(function(e,t){var n=i(e.start,e.end);if(0===n)return i(t,e.start);var r=((t.x-e.start.x)*(e.end.x-e.start.x)+(t.y-e.start.y)*(e.end.y-e.start.y))/n;return i(t,r<0?e.start:r>1?e.end:{x:e.start.x+r*(e.end.x-e.start.x),y:e.start.y+r*(e.end.y-e.start.y)})}(e,t))},intersectLine:function(e,t){var n,a,i,o,s,l,u,c,d,f,h,p={},m=e.start.x,g=e.start.y,v=e.end.x,y=e.end.y,b=t.start.x,w=t.start.y,x=t.end.x,E=t.end.y,T=void 0;if(f=(n=y-g)*x+(i=m-v)*E+(s=v*g-m*y),(0===(d=n*b+i*w+s)||0===f||(0,r.sign)(d)!==(0,r.sign)(f))&&(c=(a=E-w)*v+(o=b-x)*y+(l=x*w-b*E),0===(u=a*m+o*g+l)||0===c||(0,r.sign)(u)!==(0,r.sign)(c))){h=n*o-a*i,T=i*l-o*s;var _=parseFloat(T/h);T=a*s-n*l;var S=parseFloat(T/h);return p.x=_,p.y=S,p}}};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n,r){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==r?r:1};r.prototype.setFromAxisAngle=function(e,t){var n=t/2,r=Math.sin(n);return this.x=e.x*r,this.y=e.y*r,this.z=e.z*r,this.w=Math.cos(n),this},r.prototype.multiplyQuaternions=function(e,t){var n=e.x,r=e.y,a=e.z,i=e.w,o=t.x,s=t.y,l=t.z,u=t.w;return this.x=n*u+i*o+r*l-a*s,this.y=r*u+i*s+a*o-n*l,this.z=a*u+i*l+n*s-r*o,this.w=i*u-n*o-r*s-a*l,this},r.prototype.setFromRotationMatrix=function(e){var t=e.elements,n=t[0],r=t[4],a=t[8],i=t[1],o=t[5],s=t[9],l=t[2],u=t[6],c=t[10],d=n+o+c,f=void 0;return d>0?(f=.5/Math.sqrt(d+1),this.w=.25/f,this.x=(u-s)*f,this.y=(a-l)*f,this.z=(i-r)*f):n>o&&n>c?(f=2*Math.sqrt(1+n-o-c),this.w=(u-s)/f,this.x=.25*f,this.y=(r+i)/f,this.z=(a+l)/f):o>c?(f=2*Math.sqrt(1+o-n-c),this.w=(a-l)/f,this.x=(r+i)/f,this.y=.25*f,this.z=(s+u)/f):(f=2*Math.sqrt(1+c-n-o),this.w=(i-r)/f,this.x=(a+l)/f,this.y=(s+u)/f,this.z=.25*f),this},t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(2),i=(r=a)&&r.__esModule?r:{default:r};function o(e){return{topLeft:{x:e.left,y:e.top},bottomRight:{x:e.left+e.width,y:e.top+e.height}}}var s={distanceToPoint:function(e,t){var n=655535;return function(e){return[{start:{x:e.left,y:e.top},end:{x:e.left+e.width,y:e.top}},{start:{x:e.left+e.width,y:e.top},end:{x:e.left+e.width,y:e.top+e.height}},{start:{x:e.left+e.width,y:e.top+e.height},end:{x:e.left,y:e.top+e.height}},{start:{x:e.left,y:e.top+e.height},end:{x:e.left,y:e.top}}]}(e).forEach(function(e){var r=i.default.distanceToPoint(e,t);r<n&&(n=r)}),n},getIntersectionRect:function(e,t){var n={topLeft:{},bottomRight:{}};if(function(e,t){var n=void 0,r=void 0,a=o(e),i=o(t);return n=e.width>=0?t.width>=0?!(a.bottomRight.x<=i.topLeft.x||i.bottomRight.x<=a.topLeft.x):!(a.bottomRight.x<=i.bottomRight.x||i.topLeft.x<=a.topLeft.x):t.width>=0?!(a.topLeft.x<=i.topLeft.x||i.bottomRight.x<=a.bottomRight.x):!(a.topLeft.x<=i.bottomRight.x||i.topLeft.x<=a.bottomRight.x),r=e.height>=0?t.height>=0?!(a.bottomRight.y<=i.topLeft.y||i.bottomRight.y<=a.topLeft.y):!(a.bottomRight.y<=i.bottomRight.y||i.topLeft.y<=a.topLeft.y):t.height>=0?!(a.topLeft.y<=i.topLeft.y||i.bottomRight.y<=a.bottomRight.y):!(a.topLeft.y<=i.bottomRight.y||i.top<=a.bottomRight.y),n&&r}(e,t)){var r=o(e),a=o(t);return e.width>=0?t.width>=0?(n.topLeft.x=Math.max(r.topLeft.x,a.topLeft.x),n.bottomRight.x=Math.min(r.bottomRight.x,a.bottomRight.x)):(n.topLeft.x=Math.max(r.topLeft.x,a.bottomRight.x),n.bottomRight.x=Math.min(r.bottomRight.x,a.topLeft.x)):t.width>=0?(n.topLeft.x=Math.min(r.topLeft.x,a.bottomRight.x),n.bottomRight.x=Math.max(r.bottomRight.x,a.topLeft.x)):(n.topLeft.x=Math.min(r.topLeft.x,a.topLeft.x),n.bottomRight.x=Math.max(r.bottomRight.x,a.bottomRight.x)),e.height>=0?t.height>=0?(n.topLeft.y=Math.max(r.topLeft.y,a.topLeft.y),n.bottomRight.y=Math.min(r.bottomRight.y,a.bottomRight.y)):(n.topLeft.y=Math.max(r.topLeft.y,a.bottomRight.y),n.bottomRight.y=Math.min(r.bottomRight.y,a.topLeft.y)):t.height>=0?(n.topLeft.y=Math.min(r.topLeft.y,a.bottomRight.y),n.bottomRight.y=Math.max(r.bottomRight.y,a.topLeft.y)):(n.topLeft.y=Math.min(r.topLeft.y,a.topLeft.y),n.bottomRight.y=Math.max(r.bottomRight.y,a.bottomRight.y)),n}}};t.default=s},function(e,t,n){"use strict";function r(e,t){return{x:e.x-t.x,y:e.y-t.y}}function a(e,t){return Math.sqrt(i(e,t))}function i(e,t){var n=r(e,t);return n.x*n.x+n.y*n.y}Object.defineProperty(t,"__esModule",{value:!0});var o={subtract:r,copy:function(e){return{x:e.x,y:e.y}},pageToPoint:function(e){return{x:e.pageX,y:e.pageY}},distance:a,distanceSquared:i,insideRect:function(e,t){return!(e.x<t.left||e.x>t.left+t.width||e.y<t.top||e.y>t.top+t.height)},findClosestPoint:function(e,t){var n=[],r=void 0;return e.forEach(function(e,i){var o=a(e,t);n.push(o),r=0===i?o:Math.min(o,r)}),e[n.indexOf(r)]}};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a,i,o=n(1),s=(r=o)&&r.__esModule?r:{default:r},l=function(e,t){this.normal=void 0!==e?e:new s.default(1,0,0),this.constant=void 0!==t?t:0};l.prototype={constructor:l,set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:(a=new s.default,i=new s.default,function(e,t,n){var r=a.subVectors(n,t).cross(i.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}),copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return this.orthoPoint(e,t).sub(e).negate()},orthoPoint:function(e,t){var n=this.distanceToPoint(e);return(t||new s.default).copy(this.normal).multiplyScalar(n)},isIntersectionLine:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0},intersectLine:function(){var e=new s.default;return function(t,n){var r=n||new s.default,a=t.delta(e),i=this.normal.dot(a);if(0===i)return 0===this.distanceToPoint(t.start)?r.copy(t.start):void 0;var o=-(t.start.dot(this.normal)+this.constant)/i;return o<0||o>1?void 0:r.copy(a).multiplyScalar(o).add(t.start)}}(),intersectPlane:function(e){var t=this.normal.clone().cross(e.normal),n={origin:new s.default,direction:t};if(this.normal.clone().cross(e.normal).length<1e-10)return n.direction=new s.default,n;var r=this.constant,a=e.constant,i=this.normal.clone().dot(e.normal),o=-(r-a*i)/(1-i*i),l=-(a-r*i)/(1-i*i);return n.origin=this.normal.clone().multiplyScalar(o).add(e.normal.clone().multiplyScalar(l)),n},coplanarPoint:function(e){return(e||new s.default).copy(this.normal).multiplyScalar(-this.constant)},translate:function(e){return this.constant=this.constant-e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant},clone:function(){return(new l).copy(this)}},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(1),i=(r=a)&&r.__esModule?r:{default:r},o=function(e,t,n,r,a,i,o,s,l,u,c,d,f,h,p,m){this.elements=new Float32Array(16);var g=this.elements;g[0]=void 0!==e?e:1,g[4]=t||0,g[8]=n||0,g[12]=r||0,g[1]=a||0,g[5]=void 0!==i?i:1,g[9]=o||0,g[13]=s||0,g[2]=l||0,g[6]=u||0,g[10]=void 0!==c?c:1,g[14]=d||0,g[3]=f||0,g[7]=h||0,g[11]=p||0,g[15]=void 0!==m?m:1};o.prototype.makeRotationFromQuaternion=function(e){var t=this.elements,n=e.x,r=e.y,a=e.z,i=e.w,o=n+n,s=r+r,l=a+a,u=n*o,c=n*s,d=n*l,f=r*s,h=r*l,p=a*l,m=i*o,g=i*s,v=i*l;return t[0]=1-(f+p),t[4]=c-v,t[8]=d+g,t[1]=c+v,t[5]=1-(u+p),t[9]=h-m,t[2]=d-g,t[6]=h+m,t[10]=1-(u+f),t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},o.prototype.multiplyMatrices=function(e,t){var n=e.elements,r=t.elements,a=this.elements,i=n[0],o=n[4],s=n[8],l=n[12],u=n[1],c=n[5],d=n[9],f=n[13],h=n[2],p=n[6],m=n[10],g=n[14],v=n[3],y=n[7],b=n[11],w=n[15],x=r[0],E=r[4],T=r[8],_=r[12],S=r[1],C=r[5],k=r[9],P=r[13],I=r[2],M=r[6],O=r[10],D=r[14],A=r[3],L=r[7],R=r[11],j=r[15];return a[0]=i*x+o*S+s*I+l*A,a[4]=i*E+o*C+s*M+l*L,a[8]=i*T+o*k+s*O+l*R,a[12]=i*_+o*P+s*D+l*j,a[1]=u*x+c*S+d*I+f*A,a[5]=u*E+c*C+d*M+f*L,a[9]=u*T+c*k+d*O+f*R,a[13]=u*_+c*P+d*D+f*j,a[2]=h*x+p*S+m*I+g*A,a[6]=h*E+p*C+m*M+g*L,a[10]=h*T+p*k+m*O+g*R,a[14]=h*_+p*P+m*D+g*j,a[3]=v*x+y*S+b*I+w*A,a[7]=v*E+y*C+b*M+w*L,a[11]=v*T+y*k+b*O+w*R,a[15]=v*_+y*P+b*D+w*j,this},o.prototype.multiply=function(e,t){return void 0!==t?(console.warn("DEPRECATED: Matrix4's .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},o.prototype.getInverse=function(e,t){var n=this.elements,r=e.elements,a=r[0],i=r[4],o=r[8],s=r[12],l=r[1],u=r[5],c=r[9],d=r[13],f=r[2],h=r[6],p=r[10],m=r[14],g=r[3],v=r[7],y=r[11],b=r[15];n[0]=c*m*v-d*p*v+d*h*y-u*m*y-c*h*b+u*p*b,n[4]=s*p*v-o*m*v-s*h*y+i*m*y+o*h*b-i*p*b,n[8]=o*d*v-s*c*v+s*u*y-i*d*y-o*u*b+i*c*b,n[12]=s*c*h-o*d*h-s*u*p+i*d*p+o*u*m-i*c*m,n[1]=d*p*g-c*m*g-d*f*y+l*m*y+c*f*b-l*p*b,n[5]=o*m*g-s*p*g+s*f*y-a*m*y-o*f*b+a*p*b,n[9]=s*c*g-o*d*g-s*l*y+a*d*y+o*l*b-a*c*b,n[13]=o*d*f-s*c*f+s*l*p-a*d*p-o*l*m+a*c*m,n[2]=u*m*g-d*h*g+d*f*v-l*m*v-u*f*b+l*h*b,n[6]=s*h*g-i*m*g-s*f*v+a*m*v+i*f*b-a*h*b,n[10]=i*d*g-s*u*g+s*l*v-a*d*v-i*l*b+a*u*b,n[14]=s*u*f-i*d*f-s*l*h+a*d*h+i*l*m-a*u*m,n[3]=c*h*g-u*p*g-c*f*v+l*p*v+u*f*y-l*h*y,n[7]=i*p*g-o*h*g+o*f*v-a*p*v-i*f*y+a*h*y,n[11]=o*u*g-i*c*g-o*l*v+a*c*v+i*l*y-a*u*y,n[15]=i*c*f-o*u*f+o*l*h-a*c*h-i*l*p+a*u*p;var w=a*n[0]+l*n[4]+f*n[8]+g*n[12];if(0===w){var x="Matrix4.getInverse(): can't invert matrix, determinant is 0";if(t)throw new Error(x);return console.warn(x),this.identity(),this}return this.multiplyScalar(1/w),this},o.prototype.applyToVector3Array=function(){var e=new i.default;return function(t,n,r){void 0===n&&(n=0),void 0===r&&(r=t.length);for(var a=0,i=n;a<r;a+=3,i+=3)e.x=t[i],e.y=t[i+1],e.z=t[i+2],e.applyMatrix4(this),t[i]=e.x,t[i+1]=e.y,t[i+2]=e.z;return t}},o.prototype.makeTranslation=function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},o.prototype.multiplyScalar=function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},o.prototype.set=function(e,t,n,r,a,i,o,s,l,u,c,d,f,h,p,m){var g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=r,g[1]=a,g[5]=i,g[9]=o,g[13]=s,g[2]=l,g[6]=u,g[10]=c,g[14]=d,g[3]=f,g[7]=h,g[11]=p,g[15]=m,this},o.prototype.makeScale=function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=(r=i)&&r.__esModule?r:{default:r},s=n(0),l=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.start=void 0!==t?t:new o.default,this.end=void 0!==n?n:new o.default}return a(e,[{key:"set",value:function(e,t){return this.start.copy(e),this.end.copy(t),this}},{key:"copy",value:function(e){return this.start.copy(e.start),this.end.copy(e.end),this}},{key:"center",value:function(e){return(e||new o.default).addVectors(this.start,this.end).multiplyScalar(.5)}},{key:"delta",value:function(e){return(e||new o.default).subVectors(this.end,this.start)}},{key:"distanceSq",value:function(){return this.start.distanceToSquared(this.end)}},{key:"distance",value:function(){return this.start.distanceTo(this.end)}},{key:"at",value:function(e,t){var n=t||new o.default;return this.delta(n).multiplyScalar(e).add(this.start)}},{key:"closestPointToPointParameter",value:function(e,t){var n=new o.default,r=new o.default;n.subVectors(e,this.start),r.subVectors(this.end,this.start);var a=r.dot(r),i=r.dot(n)/a;return t&&(i=(0,s.clamp)(i,0,1)),i}},{key:"closestPointToPoint",value:function(e,t,n){var r=this.closestPointToPointParameter(e,t),a=n||new o.default;return this.delta(a).multiplyScalar(r).add(this.start)}},{key:"applyMatrix4",value:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}},{key:"equals",value:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}},{key:"clone",value:function(){return(new e).copy(this)}},{key:"intersectLine",value:function(e){var t=this.end.clone().sub(this.start),n=e.end.clone().sub(e.start),r=e.start.clone().sub(this.start),a=t.clone().cross(n),i=r.clone().cross(n);if(0!==r.dot(t)){var o=i.dot(a)/a.lengthSq();if(!(o>1||isNaN(o))){var s=this.start.clone().add(t.clone().multiplyScalar(o));return s.clone().sub(e.start).lengthSq()+s.clone().sub(e.end).lengthSq()<=e.distanceSq()?s:void 0}}}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Vector3=t.rect=t.quaternion=t.point=t.Plane=t.Matrix4=t.sign=t.radToDeg=t.degToRad=t.clamp=t.lineSegment=t.Line3=void 0;var r=f(n(8)),a=f(n(2)),i=n(0),o=f(n(7)),s=f(n(6)),l=f(n(5)),u=f(n(3)),c=f(n(4)),d=f(n(1));function f(e){return e&&e.__esModule?e:{default:e}}var h={Line3:r.default,lineSegment:a.default,clamp:i.clamp,degToRad:i.degToRad,radToDeg:i.radToDeg,sign:i.sign,Matrix4:o.default,Plane:s.default,point:l.default,quaternion:u.default,rect:c.default,Vector3:d.default};t.Line3=r.default,t.lineSegment=a.default,t.clamp=i.clamp,t.degToRad=i.degToRad,t.radToDeg=i.radToDeg,t.sign=i.sign,t.Matrix4=o.default,t.Plane=s.default,t.point=l.default,t.quaternion=u.default,t.rect=c.default,t.Vector3=d.default,t.default=h}])},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=79)}([function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";(function(e){var r=n(73),a=n(72),i=n(38);function o(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return u(this,e,t,n)}function u(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=f(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),a=(e=s(e,r)).write(t,n);return a!==r&&(e=e.slice(0,a)),e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):f(e,t);if("Buffer"===t.type&&i(t.data))return f(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(c(t),e=s(e,t<0?0:0|h(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(e).length;default:if(r)return B(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,a){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=a?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(a)return-1;n=e.length-1}else if(n<0){if(!a)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,a);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,a);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,a){var i,o=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,l/=2,n/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(a){var c=-1;for(i=n;i<s;i++)if(u(e,i)===u(t,-1===c?0:i-c)){if(-1===c&&(c=i),i-c+1===l)return c*o}else-1!==c&&(i-=i-c),c=-1}else for(n+l>s&&(n=s-l),i=n;i>=0;i--){for(var d=!0,f=0;f<l;f++)if(u(e,i+f)!==u(t,f)){d=!1;break}if(d)return i}return-1}function y(e,t,n,r){n=Number(n)||0;var a=e.length-n;r?(r=Number(r))>a&&(r=a):r=a;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function b(e,t,n,r){return H(B(t,e.length-n),e,n,r)}function w(e,t,n,r){return H(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function x(e,t,n,r){return w(e,t,n,r)}function E(e,t,n,r){return H(z(t),e,n,r)}function T(e,t,n,r){return H(function(e,t){for(var n,r,a,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,a=n%256,i.push(a),i.push(r);return i}(t,e.length-n),e,n,r)}function _(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);for(var r=[],a=t;a<n;){var i,o,s,l,u=e[a],c=null,d=u>239?4:u>223?3:u>191?2:1;if(a+d<=n)switch(d){case 1:u<128&&(c=u);break;case 2:128==(192&(i=e[a+1]))&&(l=(31&u)<<6|63&i)>127&&(c=l);break;case 3:i=e[a+1],o=e[a+2],128==(192&i)&&128==(192&o)&&(l=(15&u)<<12|(63&i)<<6|63&o)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:i=e[a+1],o=e[a+2],s=e[a+3],128==(192&i)&&128==(192&o)&&128==(192&s)&&(l=(15&u)<<18|(63&i)<<12|(63&o)<<6|63&s)>65535&&l<1114112&&(c=l)}null===c?(c=65533,d=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),a+=d}return function(e){var t=e.length;if(t<=C)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=C));return n}(r)}t.Buffer=l,t.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return u(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,r){return c(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,a=0,i=Math.min(n,r);a<i;++a)if(e[a]!==t[a]){n=e[a],r=t[a];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),a=0;for(n=0;n<e.length;++n){var o=e[n];if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,a),a+=o.length}return r},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return k(this,t,n);case"latin1":case"binary":return P(this,t,n);case"base64":return _(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,r,a){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===a&&(a=this.length),t<0||n>e.length||r<0||a>this.length)throw new RangeError("out of range index");if(r>=a&&t>=n)return 0;if(r>=a)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,a>>>=0,this===e)return 0;for(var i=a-r,o=n-t,s=Math.min(i,o),u=this.slice(r,a),c=e.slice(t,n),d=0;d<s;++d)if(u[d]!==c[d]){i=u[d],o=c[d];break}return i<o?-1:o<i?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var a=this.length-t;if((void 0===n||n>a)&&(n=a),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return x(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function k(e,t,n){var r="";n=Math.min(e.length,n);for(var a=t;a<n;++a)r+=String.fromCharCode(127&e[a]);return r}function P(e,t,n){var r="";n=Math.min(e.length,n);for(var a=t;a<n;++a)r+=String.fromCharCode(e[a]);return r}function I(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var a="",i=t;i<n;++i)a+=F(e[i]);return a}function M(e,t,n){for(var r=e.slice(t,n),a="",i=0;i<r.length;i+=2)a+=String.fromCharCode(r[i]+256*r[i+1]);return a}function O(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,n,r,a,i){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function A(e,t,n,r){t<0&&(t=65535+t+1);for(var a=0,i=Math.min(e.length-n,2);a<i;++a)e[n+a]=(t&255<<8*(r?a:1-a))>>>8*(r?a:1-a)}function L(e,t,n,r){t<0&&(t=4294967295+t+1);for(var a=0,i=Math.min(e.length-n,4);a<i;++a)e[n+a]=t>>>8*(r?a:3-a)&255}function R(e,t,n,r,a,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(e,t,n,r,i){return i||R(e,0,n,4),a.write(e,t,n,r,23,4),n+4}function N(e,t,n,r,i){return i||R(e,0,n,8),a.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var a=t-e;n=new l(a,void 0);for(var i=0;i<a;++i)n[i]=this[i+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=this[e],a=1,i=0;++i<t&&(a*=256);)r+=this[e+i]*a;return r},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=this[e+--t],a=1;t>0&&(a*=256);)r+=this[e+--t]*a;return r},l.prototype.readUInt8=function(e,t){return t||O(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||O(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||O(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=this[e],a=1,i=0;++i<t&&(a*=256);)r+=this[e+i]*a;return r>=(a*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=t,a=1,i=this[e+--r];r>0&&(a*=256);)i+=this[e+--r]*a;return i>=(a*=128)&&(i-=Math.pow(2,8*t)),i},l.prototype.readInt8=function(e,t){return t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||O(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||O(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||O(e,4,this.length),a.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||O(e,4,this.length),a.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||O(e,8,this.length),a.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||O(e,8,this.length),a.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||D(this,e,t,n,Math.pow(2,8*n)-1,0);var a=1,i=0;for(this[t]=255&e;++i<n&&(a*=256);)this[t+i]=e/a&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||D(this,e,t,n,Math.pow(2,8*n)-1,0);var a=n-1,i=1;for(this[t+a]=255&e;--a>=0&&(i*=256);)this[t+a]=e/i&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):A(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):A(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var a=Math.pow(2,8*n-1);D(this,e,t,n,a-1,-a)}var i=0,o=1,s=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var a=Math.pow(2,8*n-1);D(this,e,t,n,a-1,-a)}var i=n-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):A(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):A(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return j(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return j(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return N(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return N(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var a,i=r-n;if(this===e&&n<t&&t<r)for(a=i-1;a>=0;--a)e[a+t]=this[a+n];else if(i<1e3||!l.TYPED_ARRAY_SUPPORT)for(a=0;a<i;++a)e[a+t]=this[a+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var a=e.charCodeAt(0);a<256&&(e=a)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var o=l.isBuffer(e)?e:B(new l(e,r).toString()),s=o.length;for(i=0;i<n-t;++i)this[i+t]=o[i%s]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function B(e,t){var n;t=t||1/0;for(var r=e.length,a=null,i=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!a){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&i.push(239,191,189);continue}a=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),a=n;continue}n=65536+(a-55296<<10|n-56320)}else a&&(t-=3)>-1&&i.push(239,191,189);if(a=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function z(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,n,r){for(var a=0;a<r&&!(a+n>=t.length||a>=e.length);++a)t[a+n]=e[a];return a}}).call(this,n(0))},function(e,t,n){"use strict";var r=n(10),a=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=d;var i=n(6);i.inherits=n(5);var o=n(35),s=n(18);i.inherits(d,o);for(var l=a(s.prototype),u=0;u<l.length;u++){var c=l[u];d.prototype[c]||(d.prototype[c]=s.prototype[c])}function d(e){if(!(this instanceof d))return new d(e);o.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||r.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),d.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,t){var n,r,a=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var l,u=[],c=!1,d=-1;function f(){c&&l&&(c=!1,l.length?u=l.concat(u):d=-1,u.length&&h())}function h(){if(!c){var e=s(f);c=!0;for(var t=u.length;t;){for(l=u,u=[];++d<t;)l&&l[d].run();d=-1,t=u.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||c||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(void 0===e)throw"dicomParser.readTag: missing required parameter 'byteStream'";var t=256*e.readUint16()*256,n=e.readUint16();return"x"+("00000000"+(t+n).toString(16)).substr(-8)}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(this,n(1).Buffer)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(14);function i(e,t){return void 0!==e.parser?e.parser:t}var o=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.byteArrayParser=t,this.byteArray=n,this.elements=r}return r(e,[{key:"uint16",value:function(e,t){var n=this.elements[e];if(t=void 0!==t?t:0,n&&0!==n.length)return i(n,this.byteArrayParser).readUint16(this.byteArray,n.dataOffset+2*t)}},{key:"int16",value:function(e,t){var n=this.elements[e];if(t=void 0!==t?t:0,n&&0!==n.length)return i(n,this.byteArrayParser).readInt16(this.byteArray,n.dataOffset+2*t)}},{key:"uint32",value:function(e,t){var n=this.elements[e];if(t=void 0!==t?t:0,n&&0!==n.length)return i(n,this.byteArrayParser).readUint32(this.byteArray,n.dataOffset+4*t)}},{key:"int32",value:function(e,t){var n=this.elements[e];if(t=void 0!==t?t:0,n&&0!==n.length)return i(n,this.byteArrayParser).readInt32(this.byteArray,n.dataOffset+4*t)}},{key:"float",value:function(e,t){var n=this.elements[e];if(t=void 0!==t?t:0,n&&0!==n.length)return i(n,this.byteArrayParser).readFloat(this.byteArray,n.dataOffset+4*t)}},{key:"double",value:function(e,t){var n=this.elements[e];if(t=void 0!==t?t:0,n&&0!==n.length)return i(n,this.byteArrayParser).readDouble(this.byteArray,n.dataOffset+8*t)}},{key:"numStringValues",value:function(e){var t=this.elements[e];if(t&&t.length>0){var n=(0,a.readFixedString)(this.byteArray,t.dataOffset,t.length).match(/\\/g);return null===n?1:n.length+1}}},{key:"string",value:function(e,t){var n=this.elements[e];if(n&&n.length>0){var r=(0,a.readFixedString)(this.byteArray,n.dataOffset,n.length);return t>=0?r.split("\\")[t].trim():r.trim()}}},{key:"text",value:function(e,t){var n=this.elements[e];if(n&&n.length>0){var r=(0,a.readFixedString)(this.byteArray,n.dataOffset,n.length);return t>=0?r.split("\\")[t].replace(/ +$/,""):r.replace(/ +$/,"")}}},{key:"floatString",value:function(e,t){var n=this.elements[e];if(n&&n.length>0){t=void 0!==t?t:0;var r=this.string(e,t);if(void 0!==r)return parseFloat(r)}}},{key:"intString",value:function(e,t){var n=this.elements[e];if(n&&n.length>0){t=void 0!==t?t:0;var r=this.string(e,t);if(void 0!==r)return parseInt(r)}}},{key:"attributeTag",value:function(e){var t=this.elements[e];if(t&&4===t.length){var n=i(t,this.byteArrayParser).readUint16,r=this.byteArray,a=t.dataOffset;return"x"+("00000000"+(256*n(r,a)*256+n(r,a+2)).toString(16)).substr(-8)}}}]),e}();t.default=o},function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)a(n,r)&&(e[r]=n[r])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,a){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),a);else for(var i=0;i<r;i++)e[a+i]=t[n+i]},flattenChunks:function(e){var t,n,r,a,i,o;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(o=new Uint8Array(r),a=0,t=0,n=e.length;t<n;t++)i=e[t],o.set(i,a),a+=i.length;return o}},o={arraySet:function(e,t,n,r,a){for(var i=0;i<r;i++)e[a+i]=t[n+i]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,i)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,o))},t.setTyped(r)},function(e,t,n){var r=n(1),a=r.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return a(e,t,n)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=o),i(a,o),o.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return a(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=a(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return a(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";(function(t){!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,r,a){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,o,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,n)});case 3:return t.nextTick(function(){e.call(null,n,r)});case 4:return t.nextTick(function(){e.call(null,n,r,a)});default:for(i=new Array(s-1),o=0;o<i.length;)i[o++]=arguments[o];return t.nextTick(function(){e.apply(null,i)})}}}:e.exports=t}).call(this,n(3))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t,n,r){if(void 0!==e&&t instanceof e)return t.slice(n,n+r);if(t instanceof Uint8Array)return new Uint8Array(t.buffer,t.byteOffset+n,r);throw"dicomParser.from: unknown type for byteArray"}}).call(this,n(1).Buffer)},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(11),o=(r=i)&&r.__esModule?r:{default:r},s=n(14),l=function(){function t(n,r,a){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),void 0===n)throw"dicomParser.ByteStream: missing required parameter 'byteArrayParser'";if(void 0===r)throw"dicomParser.ByteStream: missing required parameter 'byteArray'";if(r instanceof Uint8Array==0&&r instanceof e==0)throw"dicomParser.ByteStream: parameter byteArray is not of type Uint8Array or Buffer";if(a<0)throw"dicomParser.ByteStream: parameter 'position' cannot be less than 0";if(a>=r.length)throw"dicomParser.ByteStream: parameter 'position' cannot be greater than or equal to 'byteArray' length";this.byteArrayParser=n,this.byteArray=r,this.position=a||0,this.warnings=[]}return a(t,[{key:"seek",value:function(e){if(this.position+e<0)throw"dicomParser.ByteStream.prototype.seek: cannot seek to position < 0";this.position+=e}},{key:"readByteStream",value:function(e){if(this.position+e>this.byteArray.length)throw"dicomParser.ByteStream.prototype.readByteStream: readByteStream - buffer overread";var n=(0,o.default)(this.byteArray,this.position,e);return this.position+=e,new t(this.byteArrayParser,n)}},{key:"readUint16",value:function(){var e=this.byteArrayParser.readUint16(this.byteArray,this.position);return this.position+=2,e}},{key:"readUint32",value:function(){var e=this.byteArrayParser.readUint32(this.byteArray,this.position);return this.position+=4,e}},{key:"readFixedString",value:function(e){var t=(0,s.readFixedString)(this.byteArray,this.position,e);return this.position+=e,t}}]),t}();t.default=l}).call(this,n(1).Buffer)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(void 0===e)throw"dicomParser.readSequenceItem: missing required parameter 'byteStream'";var t={tag:(0,i.default)(e),length:e.readUint32(),dataOffset:e.position};if("xfffee000"!==t.tag)throw"dicomParser.readSequenceItem: item tag (FFFE,E000) not found at offset "+e.position;return t};var r,a=n(4),i=(r=a)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readFixedString=function(e,t,n){if(n<0)throw"dicomParser.readFixedString - length cannot be less than 0";if(t+n>e.length)throw"dicomParser.readFixedString: attempt to read past end of buffer";for(var r,a="",i=0;i<n;i++){if(0===(r=e[t+i]))return t+=n,a;a+=String.fromCharCode(r)}return a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(void 0===e)throw"dicomParser.readDicomElementExplicit: missing required parameter 'byteStream'";var l={tag:(0,o.default)(e),vr:e.readFixedString(2)};return 2===u(l.vr)?(l.length=e.readUint16(),l.dataOffset=e.position):(e.seek(2),l.length=e.readUint32(),l.dataOffset=e.position),4294967295===l.length&&(l.hadUndefinedLength=!0),l.tag===n?l:"SQ"===l.vr?((0,s.default)(e,l,t),l):4294967295===l.length?"x7fe00010"===l.tag?((0,r.default)(e,l,t),l):"UN"===l.vr?((0,a.default)(e,l),l):((0,i.default)(e,l),l):(e.seek(l.length),l)};var r=l(n(42)),a=l(n(41)),i=l(n(24)),o=l(n(4)),s=l(n(40));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){return"OB"===e||"OW"===e||"SQ"===e||"OF"===e||"UT"===e||"UN"===e?4:2}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseDicomDataSetExplicit=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(n=void 0===n?t.byteArray.length:n,void 0===t)throw"dicomParser.parseDicomDataSetExplicit: missing required parameter 'byteStream'";if(n<t.position||n>t.byteArray.length)throw"dicomParser.parseDicomDataSetExplicit: invalid value for parameter 'maxP osition'";for(var i=e.elements;t.position<n;){var o=(0,r.default)(t,e.warnings,a.untilTag);if(i[o.tag]=o,o.tag===a.untilTag)return}if(t.position>n)throw"dicomParser:parseDicomDataSetExplicit: buffer overrun"},t.parseDicomDataSetImplicit=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(n=void 0===n?e.byteArray.length:n,void 0===t)throw"dicomParser.parseDicomDataSetImplicit: missing required parameter 'byteStream'";if(n<t.position||n>t.byteArray.length)throw"dicomParser.parseDicomDataSetImplicit: invalid value for parameter 'maxPosition'";for(var i=e.elements;t.position<n;){var o=(0,a.default)(t,r.untilTag,r.vrCallback);if(i[o.tag]=o,o.tag===r.untilTag)return}};var r=i(n(15)),a=i(n(23));function i(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,s,u){if(s=s||1,u=u||t.fragments,void 0===e)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'dataSet'";if(void 0===t)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'pixelDataElement'";if(void 0===n)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'startFragmentIndex'";if(void 0===s)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'numFragments'";if("x7fe00010"!==t.tag)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010";if(!0!==t.encapsulatedPixelData)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(!0!==t.hadUndefinedLength)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(void 0===t.basicOffsetTable)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(void 0===t.fragments)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(t.fragments.length<=0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(n<0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragmentIndex' must be >= 0";if(n>=t.fragments.length)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragmentIndex' must be < number of fragments";if(s<1)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'numFragments' must be > 0";if(n+s>t.fragments.length)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragment' + 'numFragments' < number of fragments";var c=new a.default(e.byteArrayParser,e.byteArray,t.dataOffset),d=(0,i.default)(c);if("xfffee000"!==d.tag)throw"dicomParser.readEncapsulatedPixelData: missing basic offset table xfffee000";c.seek(d.length);var f=c.position;if(1===s)return(0,o.default)(c.byteArray,f+u[n].offset+8,u[n].length);for(var h=l(u,n,s),p=(0,r.default)(c.byteArray,h),m=0,g=n;g<n+s;g++)for(var v=f+u[g].offset+8,y=0;y<u[g].length;y++)p[m++]=c.byteArray[v++];return p};var r=s(n(22)),a=s(n(12)),i=s(n(13)),o=s(n(11));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e,t,n){for(var r=0,a=t;a<t+n;a++)r+=e[a].length;return r}},function(e,t,n){"use strict";(function(t,r,a){var i=n(10);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;for(e.entry=null;r;){var a=r.callback;t.pendingcb--,a(void 0),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=y;var s,l=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:i.nextTick;y.WritableState=v;var u=n(6);u.inherits=n(5);var c,d={deprecate:n(61)},f=n(34),h=n(9).Buffer,p=a.Uint8Array||function(){},m=n(33);function g(){}function v(e,t){s=s||n(2),e=e||{};var r=t instanceof s;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var a=e.highWaterMark,u=e.writableHighWaterMark,c=this.objectMode?16:16384;this.highWaterMark=a||0===a?a:r&&(u||0===u)?u:c,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var d=!1===e.decodeStrings;this.decodeStrings=!d,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,a=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,a){--t.pendingcb,n?(i.nextTick(a,r),i.nextTick(_,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(a(r),e._writableState.errorEmitted=!0,e.emit("error",r),_(e,t))}(e,n,r,t,a);else{var o=E(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||x(e,n),r?l(w,e,n,o,a):w(e,n,o,a)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function y(e){if(s=s||n(2),!(c.call(y,this)||this instanceof s))return new y(e);this._writableState=new v(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),f.call(this)}function b(e,t,n,r,a,i,o){t.writelen=r,t.writecb=o,t.writing=!0,t.sync=!0,n?e._writev(a,t.onwrite):e._write(a,i,t.onwrite),t.sync=!1}function w(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),_(e,t)}function x(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,a=new Array(r),i=t.corkedRequestsFree;i.entry=n;for(var s=0,l=!0;n;)a[s]=n,n.isBuf||(l=!1),n=n.next,s+=1;a.allBuffers=l,b(e,t,!0,t.length,a,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,c=n.encoding,d=n.callback;if(b(e,t,!1,t.objectMode?1:u.length,u,c,d),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function E(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function T(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),_(e,t)})}function _(e,t){var n=E(t);return n&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,i.nextTick(T,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}u.inherits(y,f),v.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(v.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===y&&e&&e._writableState instanceof v}})):c=function(e){return e instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(e,t,n){var r,a=this._writableState,o=!1,s=!a.objectMode&&(r=e,h.isBuffer(r)||r instanceof p);return s&&!h.isBuffer(e)&&(e=function(e){return h.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=a.defaultEncoding),"function"!=typeof n&&(n=g),a.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),i.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var a=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),i.nextTick(r,o),a=!1),a}(this,a,e,n))&&(a.pendingcb++,o=function(e,t,n,r,a,i){if(!n){var o=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=h.from(t,n)),t}(t,r,a);r!==o&&(n=!0,a="buffer",r=o)}var s=t.objectMode?1:r.length;t.length+=s;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:a,isBuf:n,callback:i,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else b(e,t,!1,s,r,a,i);return l}(this,a,s,e,t,n)),o},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||x(this,e))},y.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},y.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,_(e,t),n&&(t.finished?i.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),y.prototype.destroy=m.destroy,y.prototype._undestroy=m.undestroy,y.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(3),n(63).setImmediate,n(0))},function(e,t,n){(t=e.exports=n(35)).Stream=t,t.Readable=t,t.Writable=n(18),t.Duplex=n(2),t.Transform=n(31),t.PassThrough=n(60)},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function a(e){return"object"==typeof e&&null!==e}function i(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,o,s,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(i(n=this._events[e]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(a(n))for(s=Array.prototype.slice.call(arguments,1),o=(u=n.slice()).length,l=0;l<o;l++)u[l].apply(this,s);return!0},n.prototype.addListener=function(e,t){var o;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(o=i(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){if(!r(t))throw TypeError("listener must be a function");var n=!1;function a(){this.removeListener(e,a),n||(n=!0,t.apply(this,arguments))}return a.listener=t,this.on(e,a),this},n.prototype.removeListener=function(e,t){var n,i,o,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(n=this._events[e]).length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(n)){for(s=o;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){i=s;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={readUint16:function(e,t){if(t<0)throw"littleEndianByteArrayParser.readUint16: position cannot be less than 0";if(t+2>e.length)throw"littleEndianByteArrayParser.readUint16: attempt to read past end of buffer";return e[t]+256*e[t+1]},readInt16:function(e,t){if(t<0)throw"littleEndianByteArrayParser.readInt16: position cannot be less than 0";if(t+2>e.length)throw"littleEndianByteArrayParser.readInt16: attempt to read past end of buffer";var n=e[t]+(e[t+1]<<8);return 32768&n&&(n=n-65535-1),n},readUint32:function(e,t){if(t<0)throw"littleEndianByteArrayParser.readUint32: position cannot be less than 0";if(t+4>e.length)throw"littleEndianByteArrayParser.readUint32: attempt to read past end of buffer";return e[t]+256*e[t+1]+256*e[t+2]*256+256*e[t+3]*256*256},readInt32:function(e,t){if(t<0)throw"littleEndianByteArrayParser.readInt32: position cannot be less than 0";if(t+4>e.length)throw"littleEndianByteArrayParser.readInt32: attempt to read past end of buffer";return e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24)},readFloat:function(e,t){if(t<0)throw"littleEndianByteArrayParser.readFloat: position cannot be less than 0";if(t+4>e.length)throw"littleEndianByteArrayParser.readFloat: attempt to read past end of buffer";var n=new Uint8Array(4);return n[0]=e[t],n[1]=e[t+1],n[2]=e[t+2],n[3]=e[t+3],new Float32Array(n.buffer)[0]},readDouble:function(e,t){if(t<0)throw"littleEndianByteArrayParser.readDouble: position cannot be less than 0";if(t+8>e.length)throw"littleEndianByteArrayParser.readDouble: attempt to read past end of buffer";var n=new Uint8Array(8);return n[0]=e[t],n[1]=e[t+1],n[2]=e[t+2],n[3]=e[t+3],n[4]=e[t+4],n[5]=e[t+5],n[6]=e[t+6],n[7]=e[t+7],new Float64Array(n.buffer)[0]}}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t,n){if(void 0!==e&&t instanceof e)return e.alloc(n);if(t instanceof Uint8Array)return new Uint8Array(n);throw"dicomParser.alloc: unknown type for byteArray"}}).call(this,n(1).Buffer)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(void 0===e)throw"dicomParser.readDicomElementImplicit: missing required parameter 'byteStream'";var o={tag:(0,i.default)(e),length:e.readUint32(),dataOffset:e.position};return 4294967295===o.length&&(o.hadUndefinedLength=!0),o.tag===t?o:s(o,e,n)?((0,a.default)(e,o),o):o.hadUndefinedLength?((0,r.default)(e,o),o):(e.seek(o.length),o)};var r=o(n(24)),a=o(n(39)),i=o(n(4));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t,n){if(void 0!==n)return"SQ"===n(e.tag);if(t.position+4<=t.byteArray.length){var r=(0,i.default)(t);return t.seek(-4),"xfffee000"===r||"xfffee0dd"===r}return t.warnings.push("eof encountered before finding sequence item tag or sequence delimiter tag in peeking to determine VR"),!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(void 0===e)throw"dicomParser.readDicomElementImplicit: missing required parameter 'byteStream'";for(var n=e.byteArray.length-8;e.position<=n;){var r=e.readUint16();if(65534===r){var a=e.readUint16();if(57357===a){var i=e.readUint32();return 0!==i&&e.warnings("encountered non zero length following item delimiter at position "+(e.position-4)+" while reading element of undefined length with tag "+t.tag),void(t.length=e.position-t.dataOffset)}}}t.length=e.byteArray.length-t.dataOffset,e.seek(e.byteArray.length-e.position)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={AE:!0,AS:!0,AT:!1,CS:!0,DA:!0,DS:!0,DT:!0,FL:!1,FD:!1,IS:!0,LO:!0,LT:!0,OB:!1,OD:!1,OF:!1,OW:!1,PN:!0,SH:!0,SL:!1,SQ:!1,SS:!1,ST:!0,TM:!0,UI:!0,UL:!1,UN:void 0,UR:!0,US:!1,UT:!0};t.isStringVr=function(e){return r[e]},t.isPrivateTag=function(e){return parseInt(e[4],10)%2==1},t.parsePN=function(e){if(void 0!==e){var t=e.split("^");return{familyName:t[0],givenName:t[1],middleName:t[2],prefix:t[3],suffix:t[4]}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,a){if(r=r||t.basicOffsetTable,a=a||t.fragments,void 0===e)throw"dicomParser.readEncapsulatedImageFrame: missing required parameter 'dataSet'";if(void 0===t)throw"dicomParser.readEncapsulatedImageFrame: missing required parameter 'pixelDataElement'";if(void 0===n)throw"dicomParser.readEncapsulatedImageFrame: missing required parameter 'frameIndex'";if(void 0===r)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' does not have basicOffsetTable";if("x7fe00010"!==t.tag)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010)";if(!0!==t.encapsulatedPixelData)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(!0!==t.hadUndefinedLength)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have undefined length";if(void 0===t.fragments)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have fragments";if(0===r.length)throw"dicomParser.readEncapsulatedImageFrame: basicOffsetTable has zero entries";if(n<0)throw"dicomParser.readEncapsulatedImageFrame: parameter 'frameIndex' must be >= 0";if(n>=r.length)throw"dicomParser.readEncapsulatedImageFrame: parameter 'frameIndex' must be < basicOffsetTable.length";var l=r[n],u=o(a,l);if(void 0===u)throw"dicomParser.readEncapsulatedImageFrame: unable to find fragment that matches basic offset table entry";var c=s(n,r,a,u);return(0,i.default)(e,t,u,c,a)};var r,a=n(17),i=(r=a)&&r.__esModule?r:{default:r},o=function(e,t){for(var n=0;n<e.length;n++)if(e[n].offset===t)return n},s=function(e,t,n,r){if(e===t.length-1)return n.length-r;for(var a=t[e+1],i=r+1;i<n.length;i++)if(n[i].offset===a)return i-r;throw"dicomParser.calculateNumberOfFragmentsForFrame: could not find fragment with offset matching basic offset table"}},function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t,n,a){var i=r,o=a+n;e^=-1;for(var s=a;s<o;s++)e=e>>>8^i[255&(e^t[s])];return-1^e}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){for(var a=65535&e|0,i=e>>>16&65535|0,o=0;0!==n;){n-=o=n>2e3?2e3:n;do{i=i+(a=a+t[r++]|0)|0}while(--o);a%=65521,i%=65521}return a|i<<16|0}},function(e,t,n){(function(e,r){var a=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,i=r.length,o=String(e).replace(a,function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),l=r[n];n<i;l=r[++n])m(l)||!w(l)?o+=" "+l:o+=" "+s(l);return o},t.deprecate=function(n,a){if(y(e.process))return function(){return t.deprecate(n,a).apply(this,arguments)};if(!0===r.noDeprecation)return n;var i=!1;return function(){if(!i){if(r.throwDeprecation)throw new Error(a);r.traceDeprecation?console.trace(a):console.error(a),i=!0}return n.apply(this,arguments)}};var i,o={};function s(e,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&t._extend(r,n),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=l),c(r,e,r.depth)}function l(e,t){var n=s.styles[t];return n?"\x1b["+s.colors[n][0]+"m"+e+"\x1b["+s.colors[n][1]+"m":e}function u(e,t){return e}function c(e,n,r){if(e.customInspect&&n&&T(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var a=n.inspect(r,e);return v(a)||(a=c(e,a,r)),a}var i=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(v(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return g(t)?e.stylize(""+t,"number"):p(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}(e,n);if(i)return i;var o=Object.keys(n),s=function(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(n)),E(n)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return d(n);if(0===o.length){if(T(n)){var l=n.name?": "+n.name:"";return e.stylize("[Function"+l+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(x(n))return e.stylize(Date.prototype.toString.call(n),"date");if(E(n))return d(n)}var u,w="",_=!1,S=["{","}"];return h(n)&&(_=!0,S=["[","]"]),T(n)&&(w=" [Function"+(n.name?": "+n.name:"")+"]"),b(n)&&(w=" "+RegExp.prototype.toString.call(n)),x(n)&&(w=" "+Date.prototype.toUTCString.call(n)),E(n)&&(w=" "+d(n)),0!==o.length||_&&0!=n.length?r<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),u=_?function(e,t,n,r,a){for(var i=[],o=0,s=t.length;o<s;++o)k(t,String(o))?i.push(f(e,t,n,r,String(o),!0)):i.push("");return a.forEach(function(a){a.match(/^\d+$/)||i.push(f(e,t,n,r,a,!0))}),i}(e,n,r,s,o):o.map(function(t){return f(e,n,r,s,t,_)}),e.seen.pop(),function(e,t,n){return e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(u,w,S)):S[0]+w+S[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,a,i){var o,s,l;if((l=Object.getOwnPropertyDescriptor(t,a)||{value:t[a]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),k(r,a)||(o="["+a+"]"),s||(e.seen.indexOf(l.value)<0?(s=m(n)?c(e,l.value,null):c(e,l.value,n-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),y(o)){if(i&&a.match(/^\d+$/))return s;(o=JSON.stringify(""+a)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function h(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function m(e){return null===e}function g(e){return"number"==typeof e}function v(e){return"string"==typeof e}function y(e){return void 0===e}function b(e){return w(e)&&"[object RegExp]"===_(e)}function w(e){return"object"==typeof e&&null!==e}function x(e){return w(e)&&"[object Date]"===_(e)}function E(e){return w(e)&&("[object Error]"===_(e)||e instanceof Error)}function T(e){return"function"==typeof e}function _(e){return Object.prototype.toString.call(e)}function S(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(y(i)&&(i=r.env.NODE_DEBUG||""),e=e.toUpperCase(),!o[e])if(new RegExp("\\b"+e+"\\b","i").test(i)){var n=r.pid;o[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else o[e]=function(){};return o[e]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=p,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=v,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=y,t.isRegExp=b,t.isObject=w,t.isDate=x,t.isError=E,t.isFunction=T,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(54);var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,n;console.log("%s - %s",(e=new Date,n=[S(e.getHours()),S(e.getMinutes()),S(e.getSeconds())].join(":"),[e.getDate(),C[e.getMonth()],n].join(" ")),t.format.apply(t,arguments))},t.inherits=n(53),t._extend=function(e,t){if(!t||!w(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,n(0),n(3))},function(e,t,n){"use strict";(function(t){function r(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,a=0,i=Math.min(n,r);a<i;++a)if(e[a]!==t[a]){n=e[a],r=t[a];break}return n<r?-1:r<n?1:0}function a(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var i=n(29),o=Object.prototype.hasOwnProperty,s=Array.prototype.slice,l="foo"===function(){}.name;function u(e){return Object.prototype.toString.call(e)}function c(e){return!a(e)&&"function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}var d=e.exports=v,f=/\s*function\s+([^\(\s]*)\s*/;function h(e){if(i.isFunction(e)){if(l)return e.name;var t=e.toString().match(f);return t&&t[1]}}function p(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function m(e){if(l||!i.isFunction(e))return i.inspect(e);var t=h(e);return"[Function"+(t?": "+t:"")+"]"}function g(e,t,n,r,a){throw new d.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:a})}function v(e,t){e||g(e,!0,t,"==",d.ok)}function y(e,t,n,o){if(e===t)return!0;if(a(e)&&a(t))return 0===r(e,t);if(i.isDate(e)&&i.isDate(t))return e.getTime()===t.getTime();if(i.isRegExp(e)&&i.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(c(e)&&c(t)&&u(e)===u(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===r(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(a(e)!==a(t))return!1;var l=(o=o||{actual:[],expected:[]}).actual.indexOf(e);return-1!==l&&l===o.expected.indexOf(t)||(o.actual.push(e),o.expected.push(t),function(e,t,n,r){if(null===e||void 0===e||null===t||void 0===t)return!1;if(i.isPrimitive(e)||i.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var a=b(e),o=b(t);if(a&&!o||!a&&o)return!1;if(a)return e=s.call(e),t=s.call(t),y(e,t,n);var l,u,c=E(e),d=E(t);if(c.length!==d.length)return!1;for(c.sort(),d.sort(),u=c.length-1;u>=0;u--)if(c[u]!==d[u])return!1;for(u=c.length-1;u>=0;u--)if(l=c[u],!y(e[l],t[l],n,r))return!1;return!0}(e,t,n,o))}return n?e===t:e==t}function b(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function w(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function x(e,t,n,r){var a;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),a=function(e){var t;try{e()}catch(e){t=e}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!a&&g(a,n,"Missing expected exception"+r);var o="string"==typeof r,s=!e&&i.isError(a),l=!e&&a&&!n;if((s&&o&&w(a,n)||l)&&g(a,n,"Got unwanted exception"+r),e&&a&&n&&!w(a,n)||!e&&a)throw a}d.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=p(m(this.actual),128)+" "+this.operator+" "+p(m(this.expected),128),this.generatedMessage=!0);var t=e.stackStartFunction||g;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,a=h(t),i=r.indexOf("\n"+a);if(i>=0){var o=r.indexOf("\n",i+1);r=r.substring(o+1)}this.stack=r}}},i.inherits(d.AssertionError,Error),d.fail=g,d.ok=v,d.equal=function(e,t,n){e!=t&&g(e,t,n,"==",d.equal)},d.notEqual=function(e,t,n){e==t&&g(e,t,n,"!=",d.notEqual)},d.deepEqual=function(e,t,n){y(e,t,!1)||g(e,t,n,"deepEqual",d.deepEqual)},d.deepStrictEqual=function(e,t,n){y(e,t,!0)||g(e,t,n,"deepStrictEqual",d.deepStrictEqual)},d.notDeepEqual=function(e,t,n){y(e,t,!1)&&g(e,t,n,"notDeepEqual",d.notDeepEqual)},d.notDeepStrictEqual=function e(t,n,r){y(t,n,!0)&&g(t,n,r,"notDeepStrictEqual",e)},d.strictEqual=function(e,t,n){e!==t&&g(e,t,n,"===",d.strictEqual)},d.notStrictEqual=function(e,t,n){e===t&&g(e,t,n,"!==",d.notStrictEqual)},d.throws=function(e,t,n){x(!0,e,t,n)},d.doesNotThrow=function(e,t,n){x(!1,e,t,n)},d.ifError=function(e){if(e)throw e};var E=Object.keys||function(e){var t=[];for(var n in e)o.call(e,n)&&t.push(n);return t}}).call(this,n(0))},function(e,t,n){"use strict";e.exports=i;var r=n(2),a=n(6);function i(e){if(!(this instanceof i))return new i(e);r.call(this,e),this._transformState={afterTransform:function(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",o)}function o(){var e=this;"function"==typeof this._flush?this._flush(function(t,n){s(e,t,n)}):s(this,null,null)}function s(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}a.inherits=n(5),a.inherits(i,r),i.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},i.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},i.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var a=this._readableState;(r.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}},i.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},i.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},function(e,t,n){"use strict";var r=n(9).Buffer,a=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===a||!a(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=u,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=c,this.end=d,t=3;break;default:return this.write=f,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:-1}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"\ufffd".repeat(n);if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"\ufffd".repeat(n+1);if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"\ufffd".repeat(n+2)}}(this,e,t);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function c(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.StringDecoder=i,i.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},i.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd".repeat(this.lastTotal-this.lastNeed):t},i.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var a=o(t[r]);return a>=0?(a>0&&(e.lastNeed=a-1),a):--r<n?0:(a=o(t[r]))>=0?(a>0&&(e.lastNeed=a-2),a):--r<n?0:(a=o(t[r]))>=0?(a>0&&(2===a?a=0:e.lastNeed=a-3),a):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";var r=n(10);function a(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,i=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return i||o?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(a,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(r.nextTick(a,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){e.exports=n(20).EventEmitter},function(e,t,n){"use strict";(function(t,r){var a=n(10);e.exports=b;var i,o=n(38);b.ReadableState=y,n(20).EventEmitter;var s=function(e,t){return e.listeners(t).length},l=n(34),u=n(9).Buffer,c=t.Uint8Array||function(){},d=n(6);d.inherits=n(5);var f=n(66),h=void 0;h=f&&f.debuglog?f.debuglog("stream"):function(){};var p,m=n(65),g=n(33);d.inherits(b,l);var v=["error","close","destroy","pause","resume"];function y(e,t){i=i||n(2),e=e||{};var r=t instanceof i;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var a=e.highWaterMark,o=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=a||0===a?a:r&&(o||0===o)?o:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(32).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function b(e){if(i=i||n(2),!(this instanceof b))return new b(e);this._readableState=new y(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),l.call(this)}function w(e,t,n,r,a){var i,o=e._readableState;return null===t?(o.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,_(e)}}(e,o)):(a||(i=function(e,t){var n,r;return r=t,u.isBuffer(r)||r instanceof c||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(o,t)),i?e.emit("error",i):o.objectMode||t&&t.length>0?("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),r?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):x(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!n?(t=o.decoder.write(t),o.objectMode||0!==t.length?x(e,o,t,!1):C(e,o)):x(e,o,t,!1))):r||(o.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(o)}function x(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&_(e)),C(e,t)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),b.prototype.destroy=g.destroy,b.prototype._undestroy=g.undestroy,b.prototype._destroy=function(e,t){this.push(null),t(e)},b.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=u.from(e,t),t=""),n=!0),w(this,e,t,!1,n)},b.prototype.unshift=function(e){return w(this,e,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return p||(p=n(32).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var E=8388608;function T(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=E?e=E:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function _(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?a.nextTick(S,e):S(e))}function S(e){h("emit readable"),e.emit("readable"),M(e)}function C(e,t){t.readingMore||(t.readingMore=!0,a.nextTick(k,e,t))}function k(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function P(e){h("readable nexttick read 0"),e.read(0)}function I(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),M(e),t.flowing&&!t.reading&&e.read(0)}function M(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function O(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,a=n.data;for(e-=a.length;n=n.next;){var i=n.data,o=e>i.length?i.length:e;if(o===i.length?a+=i:a+=i.slice(0,e),0===(e-=o)){o===i.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=i.slice(o));break}++r}return t.length-=r,a}(e,t):function(e,t){var n=u.allocUnsafe(e),r=t.head,a=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(n,n.length-e,0,o),0===(e-=o)){o===i.length?(++a,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=i.slice(o));break}++a}return t.length-=a,n}(e,t),r}(e,t.buffer,t.decoder),n);var n}function D(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,a.nextTick(A,t,e))}function A(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function L(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}b.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?D(this):_(this),null;if(0===(e=T(e,t))&&t.ended)return 0===t.length&&D(this),null;var r,a=t.needReadable;return h("need readable",a),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",a=!0),t.ended||t.reading?h("reading or ended",a=!1):a&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=T(n,t))),null===(r=e>0?O(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&D(this)),null!==r&&this.emit("data",r),r},b.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,h("pipe count=%d opts=%j",i.pipesCount,t);var l=t&&!1===t.end||e===r.stdout||e===r.stderr?y:u;function u(){h("onend"),e.end()}i.endEmitted?a.nextTick(l):n.once("end",l),e.on("unpipe",function t(r,a){h("onunpipe"),r===n&&a&&!1===a.hasUnpiped&&(a.hasUnpiped=!0,h("cleanup"),e.removeListener("close",g),e.removeListener("finish",v),e.removeListener("drain",c),e.removeListener("error",m),e.removeListener("unpipe",t),n.removeListener("end",u),n.removeListener("end",y),n.removeListener("data",p),d=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||c())});var c=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,M(e))}}(n);e.on("drain",c);var d=!1,f=!1;function p(t){h("ondata"),f=!1,!1!==e.write(t)||f||((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==L(i.pipes,e))&&!d&&(h("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,f=!0),n.pause())}function m(t){h("onerror",t),y(),e.removeListener("error",m),0===s(e,"error")&&e.emit("error",t)}function g(){e.removeListener("finish",v),y()}function v(){h("onfinish"),e.removeListener("close",g),y()}function y(){h("unpipe"),n.unpipe(e)}return n.on("data",p),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",m),e.once("close",g),e.once("finish",v),e.emit("pipe",n),i.flowing||(h("pipe resume"),n.resume()),e},b.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,a=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<a;i++)r[i].emit("unpipe",this,n);return this}var o=L(t.pipes,e);return-1===o?this:(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},b.prototype.on=function(e,t){var n=l.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&_(this):a.nextTick(P,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,a.nextTick(I,e,t))}(this,e)),this},b.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var a in e.on("end",function(){if(h("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(a){h("wrapped data"),n.decoder&&(a=n.decoder.write(a)),(!n.objectMode||null!==a&&void 0!==a)&&(n.objectMode||a&&a.length)&&(t.push(a)||(r=!0,e.pause()))}),e)void 0===this[a]&&"function"==typeof e[a]&&(this[a]=function(t){return function(){return e[t].apply(e,arguments)}}(a));for(var i=0;i<v.length;i++)e.on(v[i],this.emit.bind(this,v[i]));return this._read=function(t){h("wrapped _read",t),r&&(r=!1,e.resume())},this},b._fromList=O}).call(this,n(0),n(3))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(void 0===e)throw"dicomParser.readPart10Header: missing required parameter 'byteArray'";var n=new r.default(i.default,e);return function(){!function(){if(n.seek(128),"DICM"!==n.readFixedString(4))throw"dicomParser.readPart10Header: DICM prefix not found at location 132 - this is not a valid DICOM P10 file."}();for(var e=[],t={};n.position<n.byteArray.length;){var r=n.position,s=(0,o.default)(n,e);if(s.tag>"x0002ffff"){n.position=r;break}s.parser=i.default,t[s.tag]=s}var l=new a.default(n.byteArrayParser,n.byteArray,t);return l.warnings=n.warnings,l.position=n.position,l}()};var r=s(n(12)),a=s(n(7)),i=s(n(21)),o=s(n(15));function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={readUint16:function(e,t){if(t<0)throw"bigEndianByteArrayParser.readUint16: position cannot be less than 0";if(t+2>e.length)throw"bigEndianByteArrayParser.readUint16: attempt to read past end of buffer";return(e[t]<<8)+e[t+1]},readInt16:function(e,t){if(t<0)throw"bigEndianByteArrayParser.readInt16: position cannot be less than 0";if(t+2>e.length)throw"bigEndianByteArrayParser.readInt16: attempt to read past end of buffer";var n=(e[t]<<8)+e[t+1];return 32768&n&&(n=n-65535-1),n},readUint32:function(e,t){if(t<0)throw"bigEndianByteArrayParser.readUint32: position cannot be less than 0";if(t+4>e.length)throw"bigEndianByteArrayParser.readUint32: attempt to read past end of buffer";return 256*(256*(256*e[t]+e[t+1])+e[t+2])+e[t+3]},readInt32:function(e,t){if(t<0)throw"bigEndianByteArrayParser.readInt32: position cannot be less than 0";if(t+4>e.length)throw"bigEndianByteArrayParser.readInt32: attempt to read past end of buffer";return(e[t]<<24)+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3]},readFloat:function(e,t){if(t<0)throw"bigEndianByteArrayParser.readFloat: position cannot be less than 0";if(t+4>e.length)throw"bigEndianByteArrayParser.readFloat: attempt to read past end of buffer";var n=new Uint8Array(4);return n[3]=e[t],n[2]=e[t+1],n[1]=e[t+2],n[0]=e[t+3],new Float32Array(n.buffer)[0]},readDouble:function(e,t){if(t<0)throw"bigEndianByteArrayParser.readDouble: position cannot be less than 0";if(t+8>e.length)throw"bigEndianByteArrayParser.readDouble: attempt to read past end of buffer";var n=new Uint8Array(8);return n[7]=e[t],n[6]=e[t+1],n[5]=e[t+2],n[4]=e[t+3],n[3]=e[t+4],n[2]=e[t+5],n[1]=e[t+6],n[0]=e[t+7],new Float64Array(n.buffer)[0]}}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(void 0===e)throw"dicomParser.readSequenceItemsImplicit: missing required parameter 'byteStream'";if(void 0===t)throw"dicomParser.readSequenceItemsImplicit: missing required parameter 'element'";t.items=[],4294967295===t.length?function(e,t,n){for(;e.position+4<=e.byteArray.length;){var r=(0,o.default)(e);if(e.seek(-4),"xfffee0dd"===r)return t.length=e.position-t.dataOffset,e.seek(8),t;var a=u(e,n);t.items.push(a)}e.warnings.push("eof encountered before finding sequence delimiter in sequence of undefined length"),t.length=e.byteArray.length-t.dataOffset}(e,t,n):function(e,t,n){for(var r=t.dataOffset+t.length;e.position<r;){var a=u(e,n);t.items.push(a)}}(e,t,n)};var r=l(n(7)),a=l(n(23)),i=l(n(13)),o=l(n(4)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(16));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var n=(0,i.default)(e);return 4294967295===n.length?(n.hadUndefinedLength=!0,n.dataSet=function(e,t){for(var n={};e.position<e.byteArray.length;){var i=(0,a.default)(e,void 0,t);if(n[i.tag]=i,"xfffee00d"===i.tag)return new r.default(e.byteArrayParser,e.byteArray,n)}return e.warnings.push("eof encountered before finding sequence item delimiter in sequence item of undefined length"),new r.default(e.byteArrayParser,e.byteArray,n)}(e,t),n.length=e.position-n.dataOffset):(n.dataSet=new r.default(e.byteArrayParser,e.byteArray,{}),s.parseDicomDataSetImplicit(n.dataSet,e,e.position+n.length,{vrCallback:t})),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(void 0===e)throw"dicomParser.readSequenceItemsExplicit: missing required parameter 'byteStream'";if(void 0===t)throw"dicomParser.readSequenceItemsExplicit: missing required parameter 'element'";t.items=[],4294967295===t.length?function(e,t,n){for(;e.position+4<=e.byteArray.length;){var r=(0,o.default)(e);if(e.seek(-4),"xfffee0dd"===r)return t.length=e.position-t.dataOffset,e.seek(8),t;var a=u(e,n);t.items.push(a)}n.push("eof encountered before finding sequence delimitation tag while reading sequence of undefined length"),t.length=e.position-t.dataOffset}(e,t,n):function(e,t,n){for(var r=t.dataOffset+t.length;e.position<r;){var a=u(e,n);t.items.push(a)}}(e,t,n)};var r=l(n(7)),a=l(n(15)),i=l(n(13)),o=l(n(4)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(16));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var n=(0,i.default)(e);return 4294967295===n.length?(n.hadUndefinedLength=!0,n.dataSet=function(e,t){for(var n={};e.position<e.byteArray.length;){var i=(0,a.default)(e,t);if(n[i.tag]=i,"xfffee00d"===i.tag)return new r.default(e.byteArrayParser,e.byteArray,n)}return t.push("eof encountered before finding item delimiter tag while reading sequence item of undefined length"),new r.default(e.byteArrayParser,e.byteArray,n)}(e,t),n.length=e.position-n.dataOffset):(n.dataSet=new r.default(e.byteArrayParser,e.byteArray,{}),s.parseDicomDataSetExplicit(n.dataSet,e,e.position+n.length)),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(void 0===e)throw"dicomParser.findAndSetUNElementLength: missing required parameter 'byteStream'";for(var n=e.byteArray.length-8;e.position<=n;){var r=e.readUint16();if(65534===r){var a=e.readUint16();if(57565===a){var i=e.readUint32();return 0!==i&&e.warnings("encountered non zero length following item delimiter at position "+(e.position-4)+" while reading element of undefined length with tag "+t.tag),void(t.length=e.position-t.dataOffset)}}}t.length=e.byteArray.length-t.dataOffset,e.seek(e.byteArray.length-e.position)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(void 0===e)throw"dicomParser.findEndOfEncapsulatedElement: missing required parameter 'byteStream'";if(void 0===t)throw"dicomParser.findEndOfEncapsulatedElement: missing required parameter 'element'";if(t.encapsulatedPixelData=!0,t.basicOffsetTable=[],t.fragments=[],"xfffee000"!==(0,i.default)(e))throw"dicomParser.findEndOfEncapsulatedElement: basic offset table not found";for(var r=e.readUint32()/4,a=0;a<r;a++){var o=e.readUint32();t.basicOffsetTable.push(o)}for(var s=e.position;e.position<e.byteArray.length;){var l=(0,i.default)(e),u=e.readUint32();if("xfffee0dd"===l)return e.seek(u),void(t.length=e.position-t.dataOffset);if("xfffee000"!==l)return n&&n.push("unexpected tag "+l+" while searching for end of pixel data element with undefined length"),u>e.byteArray.length-e.position&&(u=e.byteArray.length-e.position),t.fragments.push({offset:e.position-s-8,position:e.position,length:u}),e.seek(u),void(t.length=e.position-t.dataOffset);t.fragments.push({offset:e.position-s-8,position:e.position,length:u}),e.seek(u)}n&&n.push("pixel data element "+t.tag+" missing sequence delimiter tag xfffee0dd")};var r,a=n(4),i=(r=a)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(void 0===e||void 0===t)throw"dicomParser.explicitElementToString: missing required parameters";if(void 0===t.vr)throw"dicomParser.explicitElementToString: cannot convert implicit element to string";var n,a=t.vr,i=t.tag;function o(t,n){for(var r="",a=0;a<t;a++)0!==a&&(r+="/"),r+=n.call(e,i,a).toString();return r}if(!0===r.isStringVr(a))n=e.string(i);else{if("AT"===a){var s=e.uint32(i);if(void 0===s)return;return s<0&&(s=4294967295+s+1),"x"+s.toString(16).toUpperCase()}"US"===a?n=o(t.length/2,e.uint16):"SS"===a?n=o(t.length/2,e.int16):"UL"===a?n=o(t.length/4,e.uint32):"SL"===a?n=o(t.length/4,e.int32):"FD"===a?n=o(t.length/8,e.double):"FL"===a&&(n=o(t.length/4,e.float))}return n};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(25))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(o||(o=!0,console&&console.log&&console.log("WARNING: dicomParser.readEncapsulatedPixelData() has been deprecated")),void 0===e)throw"dicomParser.readEncapsulatedPixelData: missing required parameter 'dataSet'";if(void 0===t)throw"dicomParser.readEncapsulatedPixelData: missing required parameter 'element'";if(void 0===n)throw"dicomParser.readEncapsulatedPixelData: missing required parameter 'frame'";if("x7fe00010"!==t.tag)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to non pixel data tag (expected tag = x7fe00010)";if(!0!==t.encapsulatedPixelData)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data";if(!0!==t.hadUndefinedLength)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data";if(void 0===t.basicOffsetTable)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data";if(void 0===t.fragments)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data";if(n<0)throw"dicomParser.readEncapsulatedPixelData: parameter 'frame' must be >= 0";return 0!==t.basicOffsetTable.length?(0,r.default)(e,t,n):(0,a.default)(e,t,0,t.fragments.length)};var r=i(n(26)),a=i(n(17));function i(e){return e&&e.__esModule?e:{default:e}}var o=!1},function(e,t,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,n){"use strict";var r=n(8),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,l,u,c,d,f){var h,p,m,g,v,y,b,w,x,E=f.bits,T=0,_=0,S=0,C=0,k=0,P=0,I=0,M=0,O=0,D=0,A=null,L=0,R=new r.Buf16(16),j=new r.Buf16(16),N=null,U=0;for(T=0;T<=15;T++)R[T]=0;for(_=0;_<l;_++)R[t[n+_]]++;for(k=E,C=15;C>=1&&0===R[C];C--);if(k>C&&(k=C),0===C)return u[c++]=20971520,u[c++]=20971520,f.bits=1,0;for(S=1;S<C&&0===R[S];S++);for(k<S&&(k=S),M=1,T=1;T<=15;T++)if(M<<=1,(M-=R[T])<0)return-1;if(M>0&&(0===e||1!==C))return-1;for(j[1]=0,T=1;T<15;T++)j[T+1]=j[T]+R[T];for(_=0;_<l;_++)0!==t[n+_]&&(d[j[t[n+_]]++]=_);if(0===e?(A=N=d,y=19):1===e?(A=a,L-=257,N=i,U-=257,y=256):(A=o,N=s,y=-1),D=0,_=0,T=S,v=c,P=k,I=0,m=-1,g=(O=1<<k)-1,1===e&&O>852||2===e&&O>592)return 1;for(;;){b=T-I,d[_]<y?(w=0,x=d[_]):d[_]>y?(w=N[U+d[_]],x=A[L+d[_]]):(w=96,x=0),h=1<<T-I,S=p=1<<P;do{u[v+(D>>I)+(p-=h)]=b<<24|w<<16|x|0}while(0!==p);for(h=1<<T-1;D&h;)h>>=1;if(0!==h?(D&=h-1,D+=h):D=0,_++,0==--R[T]){if(T===C)break;T=t[n+d[_]]}if(T>k&&(D&g)!==m){for(0===I&&(I=k),v+=S,M=1<<(P=T-I);P+I<C&&!((M-=R[P+I])<=0);)P++,M<<=1;if(O+=1<<P,1===e&&O>852||2===e&&O>592)return 1;u[m=D&g]=k<<24|P<<16|v-c|0}}return 0!==D&&(u[v+D]=T-I<<24|64<<16|0),f.bits=k,0}},function(e,t,n){"use strict";e.exports=function(e,t){var n,r,a,i,o,s,l,u,c,d,f,h,p,m,g,v,y,b,w,x,E,T,_,S,C;n=e.state,r=e.next_in,S=e.input,a=r+(e.avail_in-5),i=e.next_out,C=e.output,o=i-(t-e.avail_out),s=i+(e.avail_out-257),l=n.dmax,u=n.wsize,c=n.whave,d=n.wnext,f=n.window,h=n.hold,p=n.bits,m=n.lencode,g=n.distcode,v=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{p<15&&(h+=S[r++]<<p,p+=8,h+=S[r++]<<p,p+=8),b=m[h&v];t:for(;;){if(h>>>=w=b>>>24,p-=w,0===(w=b>>>16&255))C[i++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=m[(65535&b)+(h&(1<<w)-1)];continue t}if(32&w){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}x=65535&b,(w&=15)&&(p<w&&(h+=S[r++]<<p,p+=8),x+=h&(1<<w)-1,h>>>=w,p-=w),p<15&&(h+=S[r++]<<p,p+=8,h+=S[r++]<<p,p+=8),b=g[h&y];n:for(;;){if(h>>>=w=b>>>24,p-=w,!(16&(w=b>>>16&255))){if(0==(64&w)){b=g[(65535&b)+(h&(1<<w)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(E=65535&b,p<(w&=15)&&(h+=S[r++]<<p,(p+=8)<w&&(h+=S[r++]<<p,p+=8)),(E+=h&(1<<w)-1)>l){e.msg="invalid distance too far back",n.mode=30;break e}if(h>>>=w,p-=w,E>(w=i-o)){if((w=E-w)>c&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(T=0,_=f,0===d){if(T+=u-w,w<x){x-=w;do{C[i++]=f[T++]}while(--w);T=i-E,_=C}}else if(d<w){if(T+=u+d-w,(w-=d)<x){x-=w;do{C[i++]=f[T++]}while(--w);if(T=0,d<x){x-=w=d;do{C[i++]=f[T++]}while(--w);T=i-E,_=C}}}else if(T+=d-w,w<x){x-=w;do{C[i++]=f[T++]}while(--w);T=i-E,_=C}for(;x>2;)C[i++]=_[T++],C[i++]=_[T++],C[i++]=_[T++],x-=3;x&&(C[i++]=_[T++],x>1&&(C[i++]=_[T++]))}else{T=i-E;do{C[i++]=C[T++],C[i++]=C[T++],C[i++]=C[T++],x-=3}while(x>2);x&&(C[i++]=C[T++],x>1&&(C[i++]=C[T++]))}break}}break}}while(r<a&&i<s);r-=x=p>>3,h&=(1<<(p-=x<<3))-1,e.next_in=r,e.next_out=i,e.avail_in=r<a?a-r+5:5-(r-a),e.avail_out=i<s?s-i+257:257-(i-s),n.hold=h,n.bits=p}},function(e,t,n){"use strict";var r=n(8),a=n(28),i=n(27),o=n(47),s=n(46),l=1,u=2,c=0,d=-2,f=1,h=12,p=30,m=852,g=592;function v(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function y(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=f,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(m),t.distcode=t.distdyn=new r.Buf32(g),t.sane=1,t.back=-1,c):d}function b(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,y(e)):d}function w(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?d:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,b(e))):d}function x(e,t){var n,a;return e?(a=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},e.state=a,a.window=null,(n=w(e,t))!==c&&(e.state=null),n):d}var E,T,_=!0;function S(e){if(_){var t;for(E=new r.Buf32(512),T=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(l,e.lens,0,288,E,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(u,e.lens,0,32,T,0,e.work,{bits:5}),_=!1}e.lencode=E,e.lenbits=9,e.distcode=T,e.distbits=5}function C(e,t,n,a){var i,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new r.Buf8(o.wsize)),a>=o.wsize?(r.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((i=o.wsize-o.wnext)>a&&(i=a),r.arraySet(o.window,t,n-a,i,o.wnext),(a-=i)?(r.arraySet(o.window,t,n-a,a,0),o.wnext=a,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}t.inflateReset=b,t.inflateReset2=w,t.inflateResetKeep=y,t.inflateInit=function(e){return x(e,15)},t.inflateInit2=x,t.inflate=function(e,t){var n,m,g,y,b,w,x,E,T,_,k,P,I,M,O,D,A,L,R,j,N,U,F,B,z=0,H=new r.Buf8(4),V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return d;(n=e.state).mode===h&&(n.mode=13),b=e.next_out,g=e.output,x=e.avail_out,y=e.next_in,m=e.input,w=e.avail_in,E=n.hold,T=n.bits,_=w,k=x,U=c;e:for(;;)switch(n.mode){case f:if(0===n.wrap){n.mode=13;break}for(;T<16;){if(0===w)break e;w--,E+=m[y++]<<T,T+=8}if(2&n.wrap&&35615===E){n.check=0,H[0]=255&E,H[1]=E>>>8&255,n.check=i(n.check,H,2,0),E=0,T=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&E)<<8)+(E>>8))%31){e.msg="incorrect header check",n.mode=p;break}if(8!==(15&E)){e.msg="unknown compression method",n.mode=p;break}if(T-=4,N=8+(15&(E>>>=4)),0===n.wbits)n.wbits=N;else if(N>n.wbits){e.msg="invalid window size",n.mode=p;break}n.dmax=1<<N,e.adler=n.check=1,n.mode=512&E?10:h,E=0,T=0;break;case 2:for(;T<16;){if(0===w)break e;w--,E+=m[y++]<<T,T+=8}if(n.flags=E,8!==(255&n.flags)){e.msg="unknown compression method",n.mode=p;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=p;break}n.head&&(n.head.text=E>>8&1),512&n.flags&&(H[0]=255&E,H[1]=E>>>8&255,n.check=i(n.check,H,2,0)),E=0,T=0,n.mode=3;case 3:for(;T<32;){if(0===w)break e;w--,E+=m[y++]<<T,T+=8}n.head&&(n.head.time=E),512&n.flags&&(H[0]=255&E,H[1]=E>>>8&255,H[2]=E>>>16&255,H[3]=E>>>24&255,n.check=i(n.check,H,4,0)),E=0,T=0,n.mode=4;case 4:for(;T<16;){if(0===w)break e;w--,E+=m[y++]<<T,T+=8}n.head&&(n.head.xflags=255&E,n.head.os=E>>8),512&n.flags&&(H[0]=255&E,H[1]=E>>>8&255,n.check=i(n.check,H,2,0)),E=0,T=0,n.mode=5;case 5:if(1024&n.flags){for(;T<16;){if(0===w)break e;w--,E+=m[y++]<<T,T+=8}n.length=E,n.head&&(n.head.extra_len=E),512&n.flags&&(H[0]=255&E,H[1]=E>>>8&255,n.check=i(n.check,H,2,0)),E=0,T=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((P=n.length)>w&&(P=w),P&&(n.head&&(N=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,m,y,P,N)),512&n.flags&&(n.check=i(n.check,m,P,y)),w-=P,y+=P,n.length-=P),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===w)break e;P=0;do{N=m[y+P++],n.head&&N&&n.length<65536&&(n.head.name+=String.fromCharCode(N))}while(N&&P<w);if(512&n.flags&&(n.check=i(n.check,m,P,y)),w-=P,y+=P,N)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===w)break e;P=0;do{N=m[y+P++],n.head&&N&&n.length<65536&&(n.head.comment+=String.fromCharCode(N))}while(N&&P<w);if(512&n.flags&&(n.check=i(n.check,m,P,y)),w-=P,y+=P,N)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;T<16;){if(0===w)break e;w--,E+=m[y++]<<T,T+=8}if(E!==(65535&n.check)){e.msg="header crc mismatch",n.mode=p;break}E=0,T=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=h;break;case 10:for(;T<32;){if(0===w)break e;w--,E+=m[y++]<<T,T+=8}e.adler=n.check=v(E),E=0,T=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=b,e.avail_out=x,e.next_in=y,e.avail_in=w,n.hold=E,n.bits=T,2;e.adler=n.check=1,n.mode=h;case h:if(5===t||6===t)break e;case 13:if(n.last){E>>>=7&T,T-=7&T,n.mode=27;break}for(;T<3;){if(0===w)break e;w--,E+=m[y++]<<T,T+=8}switch(n.last=1&E,T-=1,3&(E>>>=1)){case 0:n.mode=14;break;case 1:if(S(n),n.mode=20,6===t){E>>>=2,T-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=p}E>>>=2,T-=2;break;case 14:for(E>>>=7&T,T-=7&T;T<32;){if(0===w)break e;w--,E+=m[y++]<<T,T+=8}if((65535&E)!=(E>>>16^65535)){e.msg="invalid stored block lengths",n.mode=p;break}if(n.length=65535&E,E=0,T=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(P=n.length){if(P>w&&(P=w),P>x&&(P=x),0===P)break e;r.arraySet(g,m,y,P,b),w-=P,y+=P,x-=P,b+=P,n.length-=P;break}n.mode=h;break;case 17:for(;T<14;){if(0===w)break e;w--,E+=m[y++]<<T,T+=8}if(n.nlen=257+(31&E),E>>>=5,T-=5,n.ndist=1+(31&E),E>>>=5,T-=5,n.ncode=4+(15&E),E>>>=4,T-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=p;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;T<3;){if(0===w)break e;w--,E+=m[y++]<<T,T+=8}n.lens[V[n.have++]]=7&E,E>>>=3,T-=3}for(;n.have<19;)n.lens[V[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,F={bits:n.lenbits},U=s(0,n.lens,0,19,n.lencode,0,n.work,F),n.lenbits=F.bits,U){e.msg="invalid code lengths set",n.mode=p;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;D=(z=n.lencode[E&(1<<n.lenbits)-1])>>>16&255,A=65535&z,!((O=z>>>24)<=T);){if(0===w)break e;w--,E+=m[y++]<<T,T+=8}if(A<16)E>>>=O,T-=O,n.lens[n.have++]=A;else{if(16===A){for(B=O+2;T<B;){if(0===w)break e;w--,E+=m[y++]<<T,T+=8}if(E>>>=O,T-=O,0===n.have){e.msg="invalid bit length repeat",n.mode=p;break}N=n.lens[n.have-1],P=3+(3&E),E>>>=2,T-=2}else if(17===A){for(B=O+3;T<B;){if(0===w)break e;w--,E+=m[y++]<<T,T+=8}T-=O,N=0,P=3+(7&(E>>>=O)),E>>>=3,T-=3}else{for(B=O+7;T<B;){if(0===w)break e;w--,E+=m[y++]<<T,T+=8}T-=O,N=0,P=11+(127&(E>>>=O)),E>>>=7,T-=7}if(n.have+P>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=p;break}for(;P--;)n.lens[n.have++]=N}}if(n.mode===p)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=p;break}if(n.lenbits=9,F={bits:n.lenbits},U=s(l,n.lens,0,n.nlen,n.lencode,0,n.work,F),n.lenbits=F.bits,U){e.msg="invalid literal/lengths set",n.mode=p;break}if(n.distbits=6,n.distcode=n.distdyn,F={bits:n.distbits},U=s(u,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,F),n.distbits=F.bits,U){e.msg="invalid distances set",n.mode=p;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(w>=6&&x>=258){e.next_out=b,e.avail_out=x,e.next_in=y,e.avail_in=w,n.hold=E,n.bits=T,o(e,k),b=e.next_out,g=e.output,x=e.avail_out,y=e.next_in,m=e.input,w=e.avail_in,E=n.hold,T=n.bits,n.mode===h&&(n.back=-1);break}for(n.back=0;D=(z=n.lencode[E&(1<<n.lenbits)-1])>>>16&255,A=65535&z,!((O=z>>>24)<=T);){if(0===w)break e;w--,E+=m[y++]<<T,T+=8}if(D&&0==(240&D)){for(L=O,R=D,j=A;D=(z=n.lencode[j+((E&(1<<L+R)-1)>>L)])>>>16&255,A=65535&z,!(L+(O=z>>>24)<=T);){if(0===w)break e;w--,E+=m[y++]<<T,T+=8}E>>>=L,T-=L,n.back+=L}if(E>>>=O,T-=O,n.back+=O,n.length=A,0===D){n.mode=26;break}if(32&D){n.back=-1,n.mode=h;break}if(64&D){e.msg="invalid literal/length code",n.mode=p;break}n.extra=15&D,n.mode=22;case 22:if(n.extra){for(B=n.extra;T<B;){if(0===w)break e;w--,E+=m[y++]<<T,T+=8}n.length+=E&(1<<n.extra)-1,E>>>=n.extra,T-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;D=(z=n.distcode[E&(1<<n.distbits)-1])>>>16&255,A=65535&z,!((O=z>>>24)<=T);){if(0===w)break e;w--,E+=m[y++]<<T,T+=8}if(0==(240&D)){for(L=O,R=D,j=A;D=(z=n.distcode[j+((E&(1<<L+R)-1)>>L)])>>>16&255,A=65535&z,!(L+(O=z>>>24)<=T);){if(0===w)break e;w--,E+=m[y++]<<T,T+=8}E>>>=L,T-=L,n.back+=L}if(E>>>=O,T-=O,n.back+=O,64&D){e.msg="invalid distance code",n.mode=p;break}n.offset=A,n.extra=15&D,n.mode=24;case 24:if(n.extra){for(B=n.extra;T<B;){if(0===w)break e;w--,E+=m[y++]<<T,T+=8}n.offset+=E&(1<<n.extra)-1,E>>>=n.extra,T-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=p;break}n.mode=25;case 25:if(0===x)break e;if(P=k-x,n.offset>P){if((P=n.offset-P)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=p;break}P>n.wnext?(P-=n.wnext,I=n.wsize-P):I=n.wnext-P,P>n.length&&(P=n.length),M=n.window}else M=g,I=b-n.offset,P=n.length;P>x&&(P=x),x-=P,n.length-=P;do{g[b++]=M[I++]}while(--P);0===n.length&&(n.mode=21);break;case 26:if(0===x)break e;g[b++]=n.length,x--,n.mode=21;break;case 27:if(n.wrap){for(;T<32;){if(0===w)break e;w--,E|=m[y++]<<T,T+=8}if(k-=x,e.total_out+=k,n.total+=k,k&&(e.adler=n.check=n.flags?i(n.check,g,k,b-k):a(n.check,g,k,b-k)),k=x,(n.flags?E:v(E))!==n.check){e.msg="incorrect data check",n.mode=p;break}E=0,T=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;T<32;){if(0===w)break e;w--,E+=m[y++]<<T,T+=8}if(E!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=p;break}E=0,T=0}n.mode=29;case 29:U=1;break e;case p:U=-3;break e;case 31:return-4;case 32:default:return d}return e.next_out=b,e.avail_out=x,e.next_in=y,e.avail_in=w,n.hold=E,n.bits=T,(n.wsize||k!==e.avail_out&&n.mode<p&&(n.mode<27||4!==t))&&C(e,e.output,e.next_out,k-e.avail_out)?(n.mode=31,-4):(_-=e.avail_in,k-=e.avail_out,e.total_in+=_,e.total_out+=k,n.total+=k,n.wrap&&k&&(e.adler=n.check=n.flags?i(n.check,g,k,e.next_out-k):a(n.check,g,k,e.next_out-k)),e.data_type=n.bits+(n.last?64:0)+(n.mode===h?128:0)+(20===n.mode||15===n.mode?256:0),(0===_&&0===k||4===t)&&U===c&&(U=-5),U)},t.inflateEnd=function(e){if(!e||!e.state)return d;var t=e.state;return t.window&&(t.window=null),e.state=null,c},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?d:(n.head=t,t.done=!1,c):d},t.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?d:11===n.mode&&a(1,t,r,0)!==n.check?-3:C(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,c):d},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,n){"use strict";var r=n(8);function a(e){for(var t=e.length;--t>=0;)e[t]=0}var i=0,o=256,s=o+1+29,l=30,u=19,c=2*s+1,d=15,f=16,h=256,p=16,m=17,g=18,v=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],y=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],b=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],w=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],x=new Array(2*(s+2));a(x);var E=new Array(2*l);a(E);var T=new Array(512);a(T);var _=new Array(256);a(_);var S=new Array(29);a(S);var C,k,P,I=new Array(l);function M(e,t,n,r,a){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=a,this.has_stree=e&&e.length}function O(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function D(e){return e<256?T[e]:T[256+(e>>>7)]}function A(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function L(e,t,n){e.bi_valid>f-n?(e.bi_buf|=t<<e.bi_valid&65535,A(e,e.bi_buf),e.bi_buf=t>>f-e.bi_valid,e.bi_valid+=n-f):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function R(e,t,n){L(e,n[2*t],n[2*t+1])}function j(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function N(e,t,n){var r,a,i=new Array(d+1),o=0;for(r=1;r<=d;r++)i[r]=o=o+n[r-1]<<1;for(a=0;a<=t;a++){var s=e[2*a+1];0!==s&&(e[2*a]=j(i[s]++,s))}}function U(e){var t;for(t=0;t<s;t++)e.dyn_ltree[2*t]=0;for(t=0;t<l;t++)e.dyn_dtree[2*t]=0;for(t=0;t<u;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*h]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function F(e){e.bi_valid>8?A(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function B(e,t,n,r){var a=2*t,i=2*n;return e[a]<e[i]||e[a]===e[i]&&r[t]<=r[n]}function z(e,t,n){for(var r=e.heap[n],a=n<<1;a<=e.heap_len&&(a<e.heap_len&&B(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!B(t,r,e.heap[a],e.depth));)e.heap[n]=e.heap[a],n=a,a<<=1;e.heap[n]=r}function H(e,t,n){var r,a,i,s,l=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],a=e.pending_buf[e.l_buf+l],l++,0===r?R(e,a,t):(R(e,(i=_[a])+o+1,t),0!==(s=v[i])&&L(e,a-=S[i],s),R(e,i=D(--r),n),0!==(s=y[i])&&L(e,r-=I[i],s))}while(l<e.last_lit);R(e,h,t)}function V(e,t){var n,r,a,i=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=c,n=0;n<l;n++)0!==i[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):i[2*n+1]=0;for(;e.heap_len<2;)i[2*(a=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[a]=0,e.opt_len--,s&&(e.static_len-=o[2*a+1]);for(t.max_code=u,n=e.heap_len>>1;n>=1;n--)z(e,i,n);a=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],z(e,i,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,i[2*a]=i[2*n]+i[2*r],e.depth[a]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,i[2*n+1]=i[2*r+1]=a,e.heap[1]=a++,z(e,i,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,a,i,o,s,l=t.dyn_tree,u=t.max_code,f=t.stat_desc.static_tree,h=t.stat_desc.has_stree,p=t.stat_desc.extra_bits,m=t.stat_desc.extra_base,g=t.stat_desc.max_length,v=0;for(i=0;i<=d;i++)e.bl_count[i]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<c;n++)(i=l[2*l[2*(r=e.heap[n])+1]+1]+1)>g&&(i=g,v++),l[2*r+1]=i,r>u||(e.bl_count[i]++,o=0,r>=m&&(o=p[r-m]),s=l[2*r],e.opt_len+=s*(i+o),h&&(e.static_len+=s*(f[2*r+1]+o)));if(0!==v){do{for(i=g-1;0===e.bl_count[i];)i--;e.bl_count[i]--,e.bl_count[i+1]+=2,e.bl_count[g]--,v-=2}while(v>0);for(i=g;0!==i;i--)for(r=e.bl_count[i];0!==r;)(a=e.heap[--n])>u||(l[2*a+1]!==i&&(e.opt_len+=(i-l[2*a+1])*l[2*a],l[2*a+1]=i),r--)}}(e,t),N(i,u,e.bl_count)}function W(e,t,n){var r,a,i=-1,o=t[1],s=0,l=7,u=4;for(0===o&&(l=138,u=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)a=o,o=t[2*(r+1)+1],++s<l&&a===o||(s<u?e.bl_tree[2*a]+=s:0!==a?(a!==i&&e.bl_tree[2*a]++,e.bl_tree[2*p]++):s<=10?e.bl_tree[2*m]++:e.bl_tree[2*g]++,s=0,i=a,0===o?(l=138,u=3):a===o?(l=6,u=3):(l=7,u=4))}function q(e,t,n){var r,a,i=-1,o=t[1],s=0,l=7,u=4;for(0===o&&(l=138,u=3),r=0;r<=n;r++)if(a=o,o=t[2*(r+1)+1],!(++s<l&&a===o)){if(s<u)do{R(e,a,e.bl_tree)}while(0!=--s);else 0!==a?(a!==i&&(R(e,a,e.bl_tree),s--),R(e,p,e.bl_tree),L(e,s-3,2)):s<=10?(R(e,m,e.bl_tree),L(e,s-3,3)):(R(e,g,e.bl_tree),L(e,s-11,7));s=0,i=a,0===o?(l=138,u=3):a===o?(l=6,u=3):(l=7,u=4)}}a(I);var G=!1;function Y(e,t,n,a){L(e,(i<<1)+(a?1:0),3),function(e,t,n,a){F(e),A(e,n),A(e,~n),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n)}t._tr_init=function(e){G||(function(){var e,t,n,r,a,i=new Array(d+1);for(n=0,r=0;r<28;r++)for(S[r]=n,e=0;e<1<<v[r];e++)_[n++]=r;for(_[n-1]=r,a=0,r=0;r<16;r++)for(I[r]=a,e=0;e<1<<y[r];e++)T[a++]=r;for(a>>=7;r<l;r++)for(I[r]=a<<7,e=0;e<1<<y[r]-7;e++)T[256+a++]=r;for(t=0;t<=d;t++)i[t]=0;for(e=0;e<=143;)x[2*e+1]=8,e++,i[8]++;for(;e<=255;)x[2*e+1]=9,e++,i[9]++;for(;e<=279;)x[2*e+1]=7,e++,i[7]++;for(;e<=287;)x[2*e+1]=8,e++,i[8]++;for(N(x,s+1,i),e=0;e<l;e++)E[2*e+1]=5,E[2*e]=j(e,5);C=new M(x,v,o+1,s,d),k=new M(E,y,0,l,d),P=new M(new Array(0),b,0,u,7)}(),G=!0),e.l_desc=new O(e.dyn_ltree,C),e.d_desc=new O(e.dyn_dtree,k),e.bl_desc=new O(e.bl_tree,P),e.bi_buf=0,e.bi_valid=0,U(e)},t._tr_stored_block=Y,t._tr_flush_block=function(e,t,n,r){var a,i,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<o;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),V(e,e.l_desc),V(e,e.d_desc),s=function(e){var t;for(W(e,e.dyn_ltree,e.l_desc.max_code),W(e,e.dyn_dtree,e.d_desc.max_code),V(e,e.bl_desc),t=u-1;t>=3&&0===e.bl_tree[2*w[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),a=e.opt_len+3+7>>>3,(i=e.static_len+3+7>>>3)<=a&&(a=i)):a=i=n+5,n+4<=a&&-1!==t?Y(e,t,n,r):4===e.strategy||i===a?(L(e,2+(r?1:0),3),H(e,x,E)):(L(e,4+(r?1:0),3),function(e,t,n,r){var a;for(L(e,t-257,5),L(e,n-1,5),L(e,r-4,4),a=0;a<r;a++)L(e,e.bl_tree[2*w[a]+1],3);q(e,e.dyn_ltree,t-1),q(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),H(e,e.dyn_ltree,e.dyn_dtree)),U(e),r&&F(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(_[n]+o+1)]++,e.dyn_dtree[2*D(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){L(e,2,3),R(e,h,x),function(e){16===e.bi_valid?(A(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,n){"use strict";var r,a=n(8),i=n(50),o=n(28),s=n(27),l=n(49),u=0,c=4,d=0,f=-2,h=-1,p=1,m=4,g=2,v=8,y=9,b=286,w=30,x=19,E=2*b+1,T=15,_=3,S=258,C=S+_+1,k=42,P=103,I=113,M=666,O=1,D=2,A=3,L=4;function R(e,t){return e.msg=l[t],t}function j(e){return(e<<1)-(e>4?9:0)}function N(e){for(var t=e.length;--t>=0;)e[t]=0}function U(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(a.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function F(e,t){i._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,U(e.strm)}function B(e,t){e.pending_buf[e.pending++]=t}function z(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function H(e,t){var n,r,a=e.max_chain_length,i=e.strstart,o=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-C?e.strstart-(e.w_size-C):0,u=e.window,c=e.w_mask,d=e.prev,f=e.strstart+S,h=u[i+o-1],p=u[i+o];e.prev_length>=e.good_match&&(a>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(n=t)+o]===p&&u[n+o-1]===h&&u[n]===u[i]&&u[++n]===u[i+1]){i+=2,n++;do{}while(u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&i<f);if(r=S-(f-i),i=f-S,r>o){if(e.match_start=t,o=r,r>=s)break;h=u[i+o-1],p=u[i+o]}}}while((t=d[t&c])>l&&0!=--a);return o<=e.lookahead?o:e.lookahead}function V(e){var t,n,r,i,l,u,c,d,f,h,p=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-C)){a.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=p?r-p:0}while(--n);t=n=p;do{r=e.prev[--t],e.prev[t]=r>=p?r-p:0}while(--n);i+=p}if(0===e.strm.avail_in)break;if(u=e.strm,c=e.window,d=e.strstart+e.lookahead,f=i,h=void 0,(h=u.avail_in)>f&&(h=f),n=0===h?0:(u.avail_in-=h,a.arraySet(c,u.input,u.next_in,h,d),1===u.state.wrap?u.adler=o(u.adler,c,h,d):2===u.state.wrap&&(u.adler=s(u.adler,c,h,d)),u.next_in+=h,u.total_in+=h,h),e.lookahead+=n,e.lookahead+e.insert>=_)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+_-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<_)););}while(e.lookahead<C&&0!==e.strm.avail_in)}function W(e,t){for(var n,r;;){if(e.lookahead<C){if(V(e),e.lookahead<C&&t===u)return O;if(0===e.lookahead)break}if(n=0,e.lookahead>=_&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+_-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-C&&(e.match_length=H(e,n)),e.match_length>=_)if(r=i._tr_tally(e,e.strstart-e.match_start,e.match_length-_),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=_){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+_-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(F(e,!1),0===e.strm.avail_out))return O}return e.insert=e.strstart<_-1?e.strstart:_-1,t===c?(F(e,!0),0===e.strm.avail_out?A:L):e.last_lit&&(F(e,!1),0===e.strm.avail_out)?O:D}function q(e,t){for(var n,r,a;;){if(e.lookahead<C){if(V(e),e.lookahead<C&&t===u)return O;if(0===e.lookahead)break}if(n=0,e.lookahead>=_&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+_-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=_-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-C&&(e.match_length=H(e,n),e.match_length<=5&&(e.strategy===p||e.match_length===_&&e.strstart-e.match_start>4096)&&(e.match_length=_-1)),e.prev_length>=_&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-_,r=i._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-_),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=a&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+_-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=_-1,e.strstart++,r&&(F(e,!1),0===e.strm.avail_out))return O}else if(e.match_available){if((r=i._tr_tally(e,0,e.window[e.strstart-1]))&&F(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return O}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=i._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<_-1?e.strstart:_-1,t===c?(F(e,!0),0===e.strm.avail_out?A:L):e.last_lit&&(F(e,!1),0===e.strm.avail_out)?O:D}function G(e,t,n,r,a){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=a}function Y(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=g,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?k:I,e.adler=2===t.wrap?0:1,t.last_flush=u,i._tr_init(t),d):R(e,f)}function Z(e){var t,n=Y(e);return n===d&&((t=e.state).window_size=2*t.w_size,N(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=_-1,t.match_available=0,t.ins_h=0),n}function X(e,t,n,r,i,o){if(!e)return f;var s=1;if(t===h&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>y||n!==v||r<8||r>15||t<0||t>9||o<0||o>m)return R(e,f);8===r&&(r=9);var l=new function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*E),this.dyn_dtree=new a.Buf16(2*(2*w+1)),this.bl_tree=new a.Buf16(2*(2*x+1)),N(this.dyn_ltree),N(this.dyn_dtree),N(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(T+1),this.heap=new a.Buf16(2*b+1),N(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*b+1),N(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0};return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=i+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+_-1)/_),l.window=new a.Buf8(2*l.w_size),l.head=new a.Buf16(l.hash_size),l.prev=new a.Buf16(l.w_size),l.lit_bufsize=1<<i+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new a.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=o,l.method=n,Z(e)}r=[new G(0,0,0,0,function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(V(e),0===e.lookahead&&t===u)return O;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,F(e,!1),0===e.strm.avail_out))return O;if(e.strstart-e.block_start>=e.w_size-C&&(F(e,!1),0===e.strm.avail_out))return O}return e.insert=0,t===c?(F(e,!0),0===e.strm.avail_out?A:L):(e.strstart>e.block_start&&(F(e,!1),e.strm.avail_out),O)}),new G(4,4,8,4,W),new G(4,5,16,8,W),new G(4,6,32,32,W),new G(4,4,16,16,q),new G(8,16,32,32,q),new G(8,16,128,128,q),new G(8,32,128,256,q),new G(32,128,258,1024,q),new G(32,258,258,4096,q)],t.deflateInit=function(e,t){return X(e,t,v,15,8,0)},t.deflateInit2=X,t.deflateReset=Z,t.deflateResetKeep=Y,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?f:(e.state.gzhead=t,d):f},t.deflate=function(e,t){var n,a,o,l;if(!e||!e.state||t>5||t<0)return e?R(e,f):f;if(a=e.state,!e.output||!e.input&&0!==e.avail_in||a.status===M&&t!==c)return R(e,0===e.avail_out?-5:f);if(a.strm=e,n=a.last_flush,a.last_flush=t,a.status===k)if(2===a.wrap)e.adler=0,B(a,31),B(a,139),B(a,8),a.gzhead?(B(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),B(a,255&a.gzhead.time),B(a,a.gzhead.time>>8&255),B(a,a.gzhead.time>>16&255),B(a,a.gzhead.time>>24&255),B(a,9===a.level?2:a.strategy>=2||a.level<2?4:0),B(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(B(a,255&a.gzhead.extra.length),B(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(e.adler=s(e.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=69):(B(a,0),B(a,0),B(a,0),B(a,0),B(a,0),B(a,9===a.level?2:a.strategy>=2||a.level<2?4:0),B(a,3),a.status=I);else{var h=v+(a.w_bits-8<<4)<<8;h|=(a.strategy>=2||a.level<2?0:a.level<6?1:6===a.level?2:3)<<6,0!==a.strstart&&(h|=32),h+=31-h%31,a.status=I,z(a,h),0!==a.strstart&&(z(a,e.adler>>>16),z(a,65535&e.adler)),e.adler=1}if(69===a.status)if(a.gzhead.extra){for(o=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>o&&(e.adler=s(e.adler,a.pending_buf,a.pending-o,o)),U(e),o=a.pending,a.pending!==a.pending_buf_size));)B(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>o&&(e.adler=s(e.adler,a.pending_buf,a.pending-o,o)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=73)}else a.status=73;if(73===a.status)if(a.gzhead.name){o=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>o&&(e.adler=s(e.adler,a.pending_buf,a.pending-o,o)),U(e),o=a.pending,a.pending===a.pending_buf_size)){l=1;break}l=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,B(a,l)}while(0!==l);a.gzhead.hcrc&&a.pending>o&&(e.adler=s(e.adler,a.pending_buf,a.pending-o,o)),0===l&&(a.gzindex=0,a.status=91)}else a.status=91;if(91===a.status)if(a.gzhead.comment){o=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>o&&(e.adler=s(e.adler,a.pending_buf,a.pending-o,o)),U(e),o=a.pending,a.pending===a.pending_buf_size)){l=1;break}l=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,B(a,l)}while(0!==l);a.gzhead.hcrc&&a.pending>o&&(e.adler=s(e.adler,a.pending_buf,a.pending-o,o)),0===l&&(a.status=P)}else a.status=P;if(a.status===P&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&U(e),a.pending+2<=a.pending_buf_size&&(B(a,255&e.adler),B(a,e.adler>>8&255),e.adler=0,a.status=I)):a.status=I),0!==a.pending){if(U(e),0===e.avail_out)return a.last_flush=-1,d}else if(0===e.avail_in&&j(t)<=j(n)&&t!==c)return R(e,-5);if(a.status===M&&0!==e.avail_in)return R(e,-5);if(0!==e.avail_in||0!==a.lookahead||t!==u&&a.status!==M){var p=2===a.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(V(e),0===e.lookahead)){if(t===u)return O;break}if(e.match_length=0,n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(F(e,!1),0===e.strm.avail_out))return O}return e.insert=0,t===c?(F(e,!0),0===e.strm.avail_out?A:L):e.last_lit&&(F(e,!1),0===e.strm.avail_out)?O:D}(a,t):3===a.strategy?function(e,t){for(var n,r,a,o,s=e.window;;){if(e.lookahead<=S){if(V(e),e.lookahead<=S&&t===u)return O;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=_&&e.strstart>0&&(r=s[a=e.strstart-1])===s[++a]&&r===s[++a]&&r===s[++a]){o=e.strstart+S;do{}while(r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&a<o);e.match_length=S-(o-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=_?(n=i._tr_tally(e,1,e.match_length-_),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(F(e,!1),0===e.strm.avail_out))return O}return e.insert=0,t===c?(F(e,!0),0===e.strm.avail_out?A:L):e.last_lit&&(F(e,!1),0===e.strm.avail_out)?O:D}(a,t):r[a.level].func(a,t);if(p!==A&&p!==L||(a.status=M),p===O||p===A)return 0===e.avail_out&&(a.last_flush=-1),d;if(p===D&&(1===t?i._tr_align(a):5!==t&&(i._tr_stored_block(a,0,0,!1),3===t&&(N(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),U(e),0===e.avail_out))return a.last_flush=-1,d}return t!==c?d:a.wrap<=0?1:(2===a.wrap?(B(a,255&e.adler),B(a,e.adler>>8&255),B(a,e.adler>>16&255),B(a,e.adler>>24&255),B(a,255&e.total_in),B(a,e.total_in>>8&255),B(a,e.total_in>>16&255),B(a,e.total_in>>24&255)):(z(a,e.adler>>>16),z(a,65535&e.adler)),U(e),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?d:1)},t.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==k&&69!==t&&73!==t&&91!==t&&t!==P&&t!==I&&t!==M?R(e,f):(e.state=null,t===I?R(e,-3):d):f},t.deflateSetDictionary=function(e,t){var n,r,i,s,l,u,c,h,p=t.length;if(!e||!e.state)return f;if(2===(s=(n=e.state).wrap)||1===s&&n.status!==k||n.lookahead)return f;for(1===s&&(e.adler=o(e.adler,t,p,0)),n.wrap=0,p>=n.w_size&&(0===s&&(N(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new a.Buf8(n.w_size),a.arraySet(h,t,p-n.w_size,n.w_size,0),t=h,p=n.w_size),l=e.avail_in,u=e.next_in,c=e.input,e.avail_in=p,e.next_in=0,e.input=t,V(n);n.lookahead>=_;){r=n.strstart,i=n.lookahead-(_-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+_-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--i);n.strstart=r,n.lookahead=_-1,V(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=_-1,n.match_available=0,e.next_in=u,e.input=c,e.avail_in=l,n.wrap=s,d},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t,n){"use strict";(function(e,r){var a=n(30),i=n(52),o=n(51),s=n(48),l=n(45);for(var u in l)t[u]=l[u];function c(e){if("number"!=typeof e||e<t.DEFLATE||e>t.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=e,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}t.NONE=0,t.DEFLATE=1,t.INFLATE=2,t.GZIP=3,t.GUNZIP=4,t.DEFLATERAW=5,t.INFLATERAW=6,t.UNZIP=7,c.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,a(this.init_done,"close before init"),a(this.mode<=t.UNZIP),this.mode===t.DEFLATE||this.mode===t.GZIP||this.mode===t.DEFLATERAW?o.deflateEnd(this.strm):this.mode!==t.INFLATE&&this.mode!==t.GUNZIP&&this.mode!==t.INFLATERAW&&this.mode!==t.UNZIP||s.inflateEnd(this.strm),this.mode=t.NONE,this.dictionary=null)},c.prototype.write=function(e,t,n,r,a,i,o){return this._write(!0,e,t,n,r,a,i,o)},c.prototype.writeSync=function(e,t,n,r,a,i,o){return this._write(!1,e,t,n,r,a,i,o)},c.prototype._write=function(n,i,o,s,l,u,c,d){if(a.equal(arguments.length,8),a(this.init_done,"write before init"),a(this.mode!==t.NONE,"already finalized"),a.equal(!1,this.write_in_progress,"write already in progress"),a.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,a.equal(!1,void 0===i,"must provide flush value"),this.write_in_progress=!0,i!==t.Z_NO_FLUSH&&i!==t.Z_PARTIAL_FLUSH&&i!==t.Z_SYNC_FLUSH&&i!==t.Z_FULL_FLUSH&&i!==t.Z_FINISH&&i!==t.Z_BLOCK)throw new Error("Invalid flush value");if(null==o&&(o=e.alloc(0),l=0,s=0),this.strm.avail_in=l,this.strm.input=o,this.strm.next_in=s,this.strm.avail_out=d,this.strm.output=u,this.strm.next_out=c,this.flush=i,!n)return this._process(),this._checkError()?this._afterSync():void 0;var f=this;return r.nextTick(function(){f._process(),f._after()}),this},c.prototype._afterSync=function(){var e=this.strm.avail_out,t=this.strm.avail_in;return this.write_in_progress=!1,[t,e]},c.prototype._process=function(){var e=null;switch(this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=o.deflate(this.strm,this.flush);break;case t.UNZIP:switch(this.strm.avail_in>0&&(e=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===e)break;if(31!==this.strm.input[e]){this.mode=t.INFLATE;break}if(this.gzip_id_bytes_read=1,e++,1===this.strm.avail_in)break;case 1:if(null===e)break;139===this.strm.input[e]?(this.gzip_id_bytes_read=2,this.mode=t.GUNZIP):this.mode=t.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:for(this.err=s.inflate(this.strm,this.flush),this.err===t.Z_NEED_DICT&&this.dictionary&&(this.err=s.inflateSetDictionary(this.strm,this.dictionary),this.err===t.Z_OK?this.err=s.inflate(this.strm,this.flush):this.err===t.Z_DATA_ERROR&&(this.err=t.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===t.GUNZIP&&this.err===t.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=s.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},c.prototype._checkError=function(){switch(this.err){case t.Z_OK:case t.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===t.Z_FINISH)return this._error("unexpected end of file"),!1;break;case t.Z_STREAM_END:break;case t.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},c.prototype._after=function(){if(this._checkError()){var e=this.strm.avail_out,t=this.strm.avail_in;this.write_in_progress=!1,this.callback(t,e),this.pending_close&&this.close()}},c.prototype._error=function(e){this.strm.msg&&(e=this.strm.msg),this.onerror(e,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},c.prototype.init=function(e,n,r,i,o){a(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),a(e>=8&&e<=15,"invalid windowBits"),a(n>=-1&&n<=9,"invalid compression level"),a(r>=1&&r<=9,"invalid memlevel"),a(i===t.Z_FILTERED||i===t.Z_HUFFMAN_ONLY||i===t.Z_RLE||i===t.Z_FIXED||i===t.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(n,e,r,i,o),this._setDictionary()},c.prototype.params=function(){throw new Error("deflateParams Not supported")},c.prototype.reset=function(){this._reset(),this._setDictionary()},c.prototype._init=function(e,n,r,a,l){switch(this.level=e,this.windowBits=n,this.memLevel=r,this.strategy=a,this.flush=t.Z_NO_FLUSH,this.err=t.Z_OK,this.mode!==t.GZIP&&this.mode!==t.GUNZIP||(this.windowBits+=16),this.mode===t.UNZIP&&(this.windowBits+=32),this.mode!==t.DEFLATERAW&&this.mode!==t.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new i,this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=o.deflateInit2(this.strm,this.level,t.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:case t.UNZIP:this.err=s.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==t.Z_OK&&this._error("Init error"),this.dictionary=l,this.write_in_progress=!1,this.init_done=!0},c.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:this.err=o.deflateSetDictionary(this.strm,this.dictionary)}this.err!==t.Z_OK&&this._error("Failed to set dictionary")}},c.prototype._reset=function(){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:case t.GZIP:this.err=o.deflateReset(this.strm);break;case t.INFLATE:case t.INFLATERAW:case t.GUNZIP:this.err=s.inflateReset(this.strm)}this.err!==t.Z_OK&&this._error("Failed to reset stream")},t.Zlib=c}).call(this,n(1).Buffer,n(3))},function(e,t,n){e.exports=n(19).PassThrough},function(e,t,n){e.exports=n(19).Transform},function(e,t,n){e.exports=n(2)},function(e,t,n){e.exports=n(18)},function(e,t,n){"use strict";e.exports=i;var r=n(31),a=n(6);function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}a.inherits=n(5),a.inherits(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,n(0))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,a,i,o,s,l=1,u={},c=!1,d=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){p(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(o="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&p(+t.data.slice(o.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(o+t,"*")}):e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){p(e.data)},r=function(e){i.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(a=d.documentElement,r=function(e){var t=d.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,a.removeChild(t),t=null},a.appendChild(t)}):r=function(e){setTimeout(p,0,e)},f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return u[l]=a,r(l),l++},f.clearImmediate=h}function h(e){delete u[e]}function p(e){if(c)setTimeout(p,0,e);else{var t=u[e];if(t){c=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{h(e),c=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(0),n(3))},function(e,t,n){(function(e){var r=Function.prototype.apply;function a(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new a(r.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new a(r.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(62),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(0))},function(e,t){},function(e,t,n){"use strict";var r=n(9).Buffer,a=n(64);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,a,i=r.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,n=i,a=s,t.copy(n,a),s+=o.data.length,o=o.next;return i},e}(),a&&a.inspect&&a.inspect.custom&&(e.exports.prototype[a.inspect.custom]=function(){var e=a.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){e.exports=a;var r=n(20).EventEmitter;function a(){r.call(this)}n(5)(a,r),a.Readable=n(19),a.Writable=n(59),a.Duplex=n(58),a.Transform=n(57),a.PassThrough=n(56),a.Stream=a,a.prototype.pipe=function(e,t){var n=this;function a(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function i(){n.readable&&n.resume&&n.resume()}n.on("data",a),e.on("drain",i),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",l));var o=!1;function s(){o||(o=!0,e.end())}function l(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){if(c(),0===r.listenerCount(this,"error"))throw e}function c(){n.removeListener("data",a),e.removeListener("drain",i),n.removeListener("end",s),n.removeListener("close",l),n.removeListener("error",u),e.removeListener("error",u),n.removeListener("end",c),n.removeListener("close",c),e.removeListener("close",c)}return n.on("error",u),e.on("error",u),n.on("end",c),n.on("close",c),e.on("close",c),e.emit("pipe",n),e}},function(e,t,n){"use strict";(function(e){var r=n(1).Buffer,a=n(67).Transform,i=n(55),o=n(29),s=n(30).ok,l=n(1).kMaxLength,u="Cannot create final Buffer. It would be larger than 0x"+l.toString(16)+" bytes";i.Z_MIN_WINDOWBITS=8,i.Z_MAX_WINDOWBITS=15,i.Z_DEFAULT_WINDOWBITS=15,i.Z_MIN_CHUNK=64,i.Z_MAX_CHUNK=1/0,i.Z_DEFAULT_CHUNK=16384,i.Z_MIN_MEMLEVEL=1,i.Z_MAX_MEMLEVEL=9,i.Z_DEFAULT_MEMLEVEL=8,i.Z_MIN_LEVEL=-1,i.Z_MAX_LEVEL=9,i.Z_DEFAULT_LEVEL=i.Z_DEFAULT_COMPRESSION;for(var c=Object.keys(i),d=0;d<c.length;d++){var f=c[d];f.match(/^Z/)&&Object.defineProperty(t,f,{enumerable:!0,value:i[f],writable:!1})}for(var h={Z_OK:i.Z_OK,Z_STREAM_END:i.Z_STREAM_END,Z_NEED_DICT:i.Z_NEED_DICT,Z_ERRNO:i.Z_ERRNO,Z_STREAM_ERROR:i.Z_STREAM_ERROR,Z_DATA_ERROR:i.Z_DATA_ERROR,Z_MEM_ERROR:i.Z_MEM_ERROR,Z_BUF_ERROR:i.Z_BUF_ERROR,Z_VERSION_ERROR:i.Z_VERSION_ERROR},p=Object.keys(h),m=0;m<p.length;m++){var g=p[m];h[h[g]]=g}function v(e,t,n){var a=[],i=0;function o(){for(var t;null!==(t=e.read());)a.push(t),i+=t.length;e.once("readable",o)}function s(){var t,o=null;i>=l?o=new RangeError(u):t=r.concat(a,i),a=[],e.close(),n(o,t)}e.on("error",function(t){e.removeListener("end",s),e.removeListener("readable",o),n(t)}),e.on("end",s),e.end(t),o()}function y(e,t){if("string"==typeof t&&(t=r.from(t)),!r.isBuffer(t))throw new TypeError("Not a string or buffer");var n=e._finishFlushFlag;return e._processChunk(t,n)}function b(e){if(!(this instanceof b))return new b(e);k.call(this,e,i.DEFLATE)}function w(e){if(!(this instanceof w))return new w(e);k.call(this,e,i.INFLATE)}function x(e){if(!(this instanceof x))return new x(e);k.call(this,e,i.GZIP)}function E(e){if(!(this instanceof E))return new E(e);k.call(this,e,i.GUNZIP)}function T(e){if(!(this instanceof T))return new T(e);k.call(this,e,i.DEFLATERAW)}function _(e){if(!(this instanceof _))return new _(e);k.call(this,e,i.INFLATERAW)}function S(e){if(!(this instanceof S))return new S(e);k.call(this,e,i.UNZIP)}function C(e){return e===i.Z_NO_FLUSH||e===i.Z_PARTIAL_FLUSH||e===i.Z_SYNC_FLUSH||e===i.Z_FULL_FLUSH||e===i.Z_FINISH||e===i.Z_BLOCK}function k(e,n){var o=this;if(this._opts=e=e||{},this._chunkSize=e.chunkSize||t.Z_DEFAULT_CHUNK,a.call(this,e),e.flush&&!C(e.flush))throw new Error("Invalid flush flag: "+e.flush);if(e.finishFlush&&!C(e.finishFlush))throw new Error("Invalid flush flag: "+e.finishFlush);if(this._flushFlag=e.flush||i.Z_NO_FLUSH,this._finishFlushFlag=void 0!==e.finishFlush?e.finishFlush:i.Z_FINISH,e.chunkSize&&(e.chunkSize<t.Z_MIN_CHUNK||e.chunkSize>t.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<t.Z_MIN_WINDOWBITS||e.windowBits>t.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<t.Z_MIN_LEVEL||e.level>t.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<t.Z_MIN_MEMLEVEL||e.memLevel>t.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=t.Z_FILTERED&&e.strategy!=t.Z_HUFFMAN_ONLY&&e.strategy!=t.Z_RLE&&e.strategy!=t.Z_FIXED&&e.strategy!=t.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!r.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new i.Zlib(n);var s=this;this._hadError=!1,this._handle.onerror=function(e,n){P(s),s._hadError=!0;var r=new Error(e);r.errno=n,r.code=t.codes[n],s.emit("error",r)};var l=t.Z_DEFAULT_COMPRESSION;"number"==typeof e.level&&(l=e.level);var u=t.Z_DEFAULT_STRATEGY;"number"==typeof e.strategy&&(u=e.strategy),this._handle.init(e.windowBits||t.Z_DEFAULT_WINDOWBITS,l,e.memLevel||t.Z_DEFAULT_MEMLEVEL,u,e.dictionary),this._buffer=r.allocUnsafe(this._chunkSize),this._offset=0,this._level=l,this._strategy=u,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!o._handle},configurable:!0,enumerable:!0})}function P(t,n){n&&e.nextTick(n),t._handle&&(t._handle.close(),t._handle=null)}function I(e){e.emit("close")}Object.defineProperty(t,"codes",{enumerable:!0,value:Object.freeze(h),writable:!1}),t.Deflate=b,t.Inflate=w,t.Gzip=x,t.Gunzip=E,t.DeflateRaw=T,t.InflateRaw=_,t.Unzip=S,t.createDeflate=function(e){return new b(e)},t.createInflate=function(e){return new w(e)},t.createDeflateRaw=function(e){return new T(e)},t.createInflateRaw=function(e){return new _(e)},t.createGzip=function(e){return new x(e)},t.createGunzip=function(e){return new E(e)},t.createUnzip=function(e){return new S(e)},t.deflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new b(t),e,n)},t.deflateSync=function(e,t){return y(new b(t),e)},t.gzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new x(t),e,n)},t.gzipSync=function(e,t){return y(new x(t),e)},t.deflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new T(t),e,n)},t.deflateRawSync=function(e,t){return y(new T(t),e)},t.unzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new S(t),e,n)},t.unzipSync=function(e,t){return y(new S(t),e)},t.inflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new w(t),e,n)},t.inflateSync=function(e,t){return y(new w(t),e)},t.gunzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new E(t),e,n)},t.gunzipSync=function(e,t){return y(new E(t),e)},t.inflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new _(t),e,n)},t.inflateRawSync=function(e,t){return y(new _(t),e)},o.inherits(k,a),k.prototype.params=function(n,r,a){if(n<t.Z_MIN_LEVEL||n>t.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+n);if(r!=t.Z_FILTERED&&r!=t.Z_HUFFMAN_ONLY&&r!=t.Z_RLE&&r!=t.Z_FIXED&&r!=t.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+r);if(this._level!==n||this._strategy!==r){var o=this;this.flush(i.Z_SYNC_FLUSH,function(){s(o._handle,"zlib binding closed"),o._handle.params(n,r),o._hadError||(o._level=n,o._strategy=r,a&&a())})}else e.nextTick(a)},k.prototype.reset=function(){return s(this._handle,"zlib binding closed"),this._handle.reset()},k.prototype._flush=function(e){this._transform(r.alloc(0),"",e)},k.prototype.flush=function(t,n){var a=this,o=this._writableState;("function"==typeof t||void 0===t&&!n)&&(n=t,t=i.Z_FULL_FLUSH),o.ended?n&&e.nextTick(n):o.ending?n&&this.once("end",n):o.needDrain?n&&this.once("drain",function(){return a.flush(t,n)}):(this._flushFlag=t,this.write(r.alloc(0),"",n))},k.prototype.close=function(t){P(this,t),e.nextTick(I,this)},k.prototype._transform=function(e,t,n){var a,o=this._writableState,s=(o.ending||o.ended)&&(!e||o.length===e.length);return null===e||r.isBuffer(e)?this._handle?(s?a=this._finishFlushFlag:(a=this._flushFlag,e.length>=o.length&&(this._flushFlag=this._opts.flush||i.Z_NO_FLUSH)),void this._processChunk(e,a,n)):n(new Error("zlib binding closed")):n(new Error("invalid input"))},k.prototype._processChunk=function(e,t,n){var a=e&&e.length,i=this._chunkSize-this._offset,o=0,c=this,d="function"==typeof n;if(!d){var f,h=[],p=0;this.on("error",function(e){f=e}),s(this._handle,"zlib binding closed");do{var m=this._handle.writeSync(t,e,o,a,this._buffer,this._offset,i)}while(!this._hadError&&y(m[0],m[1]));if(this._hadError)throw f;if(p>=l)throw P(this),new RangeError(u);var g=r.concat(h,p);return P(this),g}s(this._handle,"zlib binding closed");var v=this._handle.write(t,e,o,a,this._buffer,this._offset,i);function y(l,u){if(this&&(this.buffer=null,this.callback=null),!c._hadError){var f=i-u;if(s(f>=0,"have should not go down"),f>0){var m=c._buffer.slice(c._offset,c._offset+f);c._offset+=f,d?c.push(m):(h.push(m),p+=m.length)}if((0===u||c._offset>=c._chunkSize)&&(i=c._chunkSize,c._offset=0,c._buffer=r.allocUnsafe(c._chunkSize)),0===u){if(o+=a-l,a=l,!d)return!0;var g=c._handle.write(t,e,o,a,c._buffer,c._offset,c._chunkSize);return g.callback=y,void(g.buffer=e)}if(!d)return!1;n()}}v.buffer=e,v.callback=y},o.inherits(b,k),o.inherits(w,k),o.inherits(x,k),o.inherits(E,k),o.inherits(T,k),o.inherits(_,k),o.inherits(S,k)}).call(this,n(3))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t,f){if(void 0===t)throw"dicomParser.parseDicom: missing required parameter 'byteArray'";return h=(0,l.default)(t,f),p=function(l){var h=function(e){if(void 0===e.elements.x00020010)throw"dicomParser.parseDicom: missing required meta header attribute 0002,0010";var n=e.elements.x00020010;return c.readFixedString(t,n.dataOffset,n.length)}(l),p=function(e){return"1.2.840.10008.1.2"!==e}(h),m=function(o,l){if("1.2.840.10008.1.2.1.99"===o){if(f&&f.inflater){var c=f.inflater(t,l);return new i.default(s.default,c,0)}if(void 0!==e&&this.module!==e){var d=n(68),h=(0,u.default)(t,l,t.length-l),p=d.inflateRawSync(h),m=(0,r.default)(t,p.length+l);return t.copy(m,0,0,l),p.copy(m,l),new i.default(s.default,m,0)}if("undefined"!=typeof pako){var g=t.slice(l),v=pako.inflateRaw(g),y=(0,r.default)(t,v.length+l);return y.set(t.slice(0,l),0),y.set(v,l),new i.default(s.default,y,0)}throw"dicomParser.parseDicom: no inflater available to handle deflate transfer syntax"}return"1.2.840.10008.1.2.2"===o?new i.default(a.default,t,l):new i.default(s.default,t,l)}(h,l.position),g=new o.default(m.byteArrayParser,m.byteArray,{});g.warnings=m.warnings;try{p?d.parseDicomDataSetExplicit(g,m,m.byteArray.length,f):d.parseDicomDataSetImplicit(g,m,m.byteArray.length,f)}catch(e){var v={exception:e,dataSet:g};throw v}return g}(h),function(e,t){for(var n in e.elements)e.elements.hasOwnProperty(n)&&(t.elements[n]=e.elements[n]);return void 0!==e.warnings&&(t.warnings=e.warnings.concat(t.warnings)),t}(h,p);var h,p};var r=h(n(22)),a=h(n(37)),i=h(n(12)),o=h(n(7)),s=h(n(21)),l=h(n(36)),u=h(n(11)),c=f(n(14)),d=f(n(16));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function h(e){return e&&e.__esModule?e:{default:e}}}).call(this,n(69)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="1.8.2"},function(e,t){t.read=function(e,t,n,r,a){var i,o,s=8*a-r-1,l=(1<<s)-1,u=l>>1,c=-7,d=n?a-1:0,f=n?-1:1,h=e[t+d];for(d+=f,i=h&(1<<-c)-1,h>>=-c,c+=s;c>0;i=256*i+e[t+d],d+=f,c-=8);for(o=i&(1<<-c)-1,i>>=-c,c+=r;c>0;o=256*o+e[t+d],d+=f,c-=8);if(0===i)i=1-u;else{if(i===l)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,r),i-=u}return(h?-1:1)*o*Math.pow(2,i-r)},t.write=function(e,t,n,r,a,i){var o,s,l,u=8*i-a-1,c=(1<<u)-1,d=c>>1,f=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+d>=1?f/l:f*Math.pow(2,1-d))*l>=2&&(o++,l/=2),o+d>=c?(s=0,o=c):o+d>=1?(s=(t*l-1)*Math.pow(2,a),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,a),o=0));a>=8;e[n+h]=255&s,h+=p,s/=256,a-=8);for(o=o<<a|s,u+=a;u>0;e[n+h]=255&o,h+=p,o/=256,u-=8);e[n+h-p]|=128*m}},function(e,t,n){"use strict";t.byteLength=function(e){return 3*e.length/4-u(e)},t.toByteArray=function(e){var t,n,r,o,s,l=e.length;o=u(e),s=new i(3*l/4-o),n=o>0?l-4:l;var c=0;for(t=0;t<n;t+=4)r=a[e.charCodeAt(t)]<<18|a[e.charCodeAt(t+1)]<<12|a[e.charCodeAt(t+2)]<<6|a[e.charCodeAt(t+3)],s[c++]=r>>16&255,s[c++]=r>>8&255,s[c++]=255&r;return 2===o?(r=a[e.charCodeAt(t)]<<2|a[e.charCodeAt(t+1)]>>4,s[c++]=255&r):1===o&&(r=a[e.charCodeAt(t)]<<10|a[e.charCodeAt(t+1)]<<4|a[e.charCodeAt(t+2)]>>2,s[c++]=r>>8&255,s[c++]=255&r),s},t.fromByteArray=function(e){for(var t,n=e.length,a=n%3,i="",o=[],s=0,l=n-a;s<l;s+=16383)o.push(c(e,s,s+16383>l?l:s+16383));return 1===a?(t=e[n-1],i+=r[t>>2],i+=r[t<<4&63],i+="=="):2===a&&(t=(e[n-2]<<8)+e[n-1],i+=r[t>>10],i+=r[t>>4&63],i+=r[t<<2&63],i+="="),o.push(i),o.join("")};for(var r=[],a=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=o.length;s<l;++s)r[s]=o[s],a[o.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function c(e,t,n){for(var a,i,o=[],s=t;s<n;s+=3)a=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(r[(i=a)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return o.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},function(e,t,n){"use strict";function r(e,t){return 255===e.byteArray[t]&&217===e.byteArray[t+1]}function a(e,t,n){var a=t.fragments[n];return!(!r(e,a.position+a.length-2)&&!r(e,a.position+a.length-3))}function i(e,t,n){for(var r=n;r<t.fragments.length;r++)if(a(e,t,r))return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(void 0===e)throw"dicomParser.createJPEGBasicOffsetTable: missing required parameter dataSet";if(void 0===t)throw"dicomParser.createJPEGBasicOffsetTable: missing required parameter pixelDataElement";if("x7fe00010"!==t.tag)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010'";if(!0!==t.encapsulatedPixelData)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(!0!==t.hadUndefinedLength)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(void 0===t.basicOffsetTable)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(void 0===t.fragments)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(t.fragments.length<=0)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(n&&n.length<=0)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'fragments' must not be zero length";n=n||t.fragments;for(var r=[],a=0;;){r.push(t.fragments[a].offset);var o=i(e,t,a);if(void 0===o||o===t.fragments.length-1)return r;a=o+1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n){if(void 0===t)throw"dicomParser.explicitDataSetToJS: missing required parameter dataSet";n=n||{omitPrivateAttibutes:!0,maxElementLength:128};var r={};for(var a in t.elements){var s=t.elements[a];if(!0!==n.omitPrivateAttibutes||!o.isPrivateTag(a))if(s.items){for(var l=[],u=0;u<s.items.length;u++)l.push(e(s.items[u].dataSet,n));r[a]=l}else{var c;c=void 0,s.length<n.maxElementLength&&(c=(0,i.default)(t,s)),r[a]=void 0!==c?c:{dataOffset:s.dataOffset,length:s.length}}}return r};var r,a=n(43),i=(r=a)&&r.__esModule?r:{default:r},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(25))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e&&8===e.length){var n=parseInt(e.substring(0,4),10),r=parseInt(e.substring(4,6),10),a=parseInt(e.substring(6,8),10);if(t&&!0!==function(e,t,n){return!isNaN(n)&&t>0&&t<=12&&e>0&&e<=function(e,t){switch(e){case 2:return t%4==0&&t%100||t%400==0?29:28;case 9:case 4:case 6:case 11:return 30;default:return 31}}(t,n)}(a,r,n))throw"invalid DA '"+e+"'";return{year:n,month:r,day:a}}if(t)throw"invalid DA '"+e+"'"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e.length>=2){var n=parseInt(e.substring(0,2),10),r=e.length>=4?parseInt(e.substring(2,4),10):void 0,a=e.length>=6?parseInt(e.substring(4,6),10):void 0,i=e.length>=8?parseInt(e.substring(7,13),10):void 0;if(t&&(isNaN(n)||void 0!==r&&isNaN(r)||void 0!==a&&isNaN(a)||void 0!==i&&isNaN(i)||n<0||n>23||r&&(r<0||r>59)||a&&(a<0||a>59)||i&&(i<0||i>999999)))throw"invalid TM '"+e+"'";return{hours:n,minutes:r,seconds:a,fractionalSeconds:i}}if(t)throw"invalid TM '"+e+"'"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createJPEGBasicOffsetTable=t.explicitDataSetToJS=t.explicitElementToString=t.parseDA=t.parseTM=t.parsePN=t.isPrivateTag=t.isStringVr=void 0;var r=n(25),a=u(n(77)),i=u(n(76)),o=u(n(43)),s=u(n(75)),l=u(n(74));function u(e){return e&&e.__esModule?e:{default:e}}t.isStringVr=r.isStringVr,t.isPrivateTag=r.isPrivateTag,t.parsePN=r.parsePN,t.parseTM=a.default,t.parseDA=i.default,t.explicitElementToString=o.default,t.explicitDataSetToJS=s.default,t.createJPEGBasicOffsetTable=l.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readTag=t.readSequenceItem=t.readSequenceItemsImplicit=t.readSequenceItemsExplicit=t.readPart10Header=t.readEncapsulatedPixelDataFromFragments=t.readEncapsulatedPixelData=t.readEncapsulatedImageFrame=t.readDicomElementImplicit=t.readDicomElementExplicit=t.parseDicom=t.littleEndianByteArrayParser=t.findItemDelimitationItemAndSetElementLength=t.findEndOfEncapsulatedElement=t.findAndSetUNElementLength=t.DataSet=t.sharedCopy=t.ByteStream=t.bigEndianByteArrayParser=t.version=t.alloc=t.readFixedString=t.parseDicomDataSetImplicit=t.parseDicomDataSetExplicit=t.createJPEGBasicOffsetTable=t.explicitDataSetToJS=t.explicitElementToString=t.parseDA=t.parseTM=t.parsePN=t.isPrivateTag=t.isStringVr=void 0;var r=n(78),a=n(16),i=n(14),o=k(n(22)),s=k(n(71)),l=k(n(37)),u=k(n(12)),c=k(n(11)),d=k(n(7)),f=k(n(41)),h=k(n(42)),p=k(n(24)),m=k(n(21)),g=k(n(70)),v=k(n(15)),y=k(n(23)),b=k(n(26)),w=k(n(44)),x=k(n(17)),E=k(n(36)),T=k(n(40)),_=k(n(39)),S=k(n(13)),C=k(n(4));function k(e){return e&&e.__esModule?e:{default:e}}var P={isStringVr:r.isStringVr,isPrivateTag:r.isPrivateTag,parsePN:r.parsePN,parseTM:r.parseTM,parseDA:r.parseDA,explicitElementToString:r.explicitElementToString,explicitDataSetToJS:r.explicitDataSetToJS,createJPEGBasicOffsetTable:r.createJPEGBasicOffsetTable,parseDicomDataSetExplicit:a.parseDicomDataSetExplicit,parseDicomDataSetImplicit:a.parseDicomDataSetImplicit,readFixedString:i.readFixedString,alloc:o.default,version:s.default,bigEndianByteArrayParser:l.default,ByteStream:u.default,sharedCopy:c.default,DataSet:d.default,findAndSetUNElementLength:f.default,findEndOfEncapsulatedElement:h.default,findItemDelimitationItemAndSetElementLength:p.default,littleEndianByteArrayParser:m.default,parseDicom:g.default,readDicomElementExplicit:v.default,readDicomElementImplicit:y.default,readEncapsulatedImageFrame:b.default,readEncapsulatedPixelData:w.default,readEncapsulatedPixelDataFromFragments:x.default,readPart10Header:E.default,readSequenceItemsExplicit:T.default,readSequenceItemsImplicit:_.default,readSequenceItem:S.default,readTag:C.default};t.isStringVr=r.isStringVr,t.isPrivateTag=r.isPrivateTag,t.parsePN=r.parsePN,t.parseTM=r.parseTM,t.parseDA=r.parseDA,t.explicitElementToString=r.explicitElementToString,t.explicitDataSetToJS=r.explicitDataSetToJS,t.createJPEGBasicOffsetTable=r.createJPEGBasicOffsetTable,t.parseDicomDataSetExplicit=a.parseDicomDataSetExplicit,t.parseDicomDataSetImplicit=a.parseDicomDataSetImplicit,t.readFixedString=i.readFixedString,t.alloc=o.default,t.version=s.default,t.bigEndianByteArrayParser=l.default,t.ByteStream=u.default,t.sharedCopy=c.default,t.DataSet=d.default,t.findAndSetUNElementLength=f.default,t.findEndOfEncapsulatedElement=h.default,t.findItemDelimitationItemAndSetElementLength=p.default,t.littleEndianByteArrayParser=m.default,t.parseDicom=g.default,t.readDicomElementExplicit=v.default,t.readDicomElementImplicit=y.default,t.readEncapsulatedImageFrame=b.default,t.readEncapsulatedPixelData=w.default,t.readEncapsulatedPixelDataFromFragments=x.default,t.readPart10Header=E.default,t.readSequenceItemsExplicit=T.default,t.readSequenceItemsImplicit=_.default,t.readSequenceItem=S.default,t.readTag=C.default,t.default=P}])},function(e,t,n){"use strict";var r=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|default|defer|dir|disabled|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|itemProp|itemScope|itemType|itemID|itemRef|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,a=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}(function(e){return r.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91});t.a=a},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}n.d(t,"a",function(){return r})},,,,,function(e,t,n){"use strict";var r=n(22),a="function"===typeof Symbol&&Symbol.for,i=a?Symbol.for("react.element"):60103,o=a?Symbol.for("react.portal"):60106,s=a?Symbol.for("react.fragment"):60107,l=a?Symbol.for("react.strict_mode"):60108,u=a?Symbol.for("react.profiler"):60114,c=a?Symbol.for("react.provider"):60109,d=a?Symbol.for("react.context"):60110,f=a?Symbol.for("react.concurrent_mode"):60111,h=a?Symbol.for("react.forward_ref"):60112,p=a?Symbol.for("react.suspense"):60113,m=a?Symbol.for("react.memo"):60115,g=a?Symbol.for("react.lazy"):60116,v="function"===typeof Symbol&&Symbol.iterator;function y(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(e,t,n,r,a,i,o,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,a,i,o,s],u=0;(e=Error(t.replace(/%s/g,function(){return l[u++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w={};function x(e,t,n){this.props=e,this.context=t,this.refs=w,this.updater=n||b}function E(){}function T(e,t,n){this.props=e,this.context=t,this.refs=w,this.updater=n||b}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){"object"!==typeof e&&"function"!==typeof e&&null!=e&&y("85"),this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},E.prototype=x.prototype;var _=T.prototype=new E;_.constructor=T,r(_,x.prototype),_.isPureReactComponent=!0;var S={current:null},C={current:null},k=Object.prototype.hasOwnProperty,P={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,n){var r=void 0,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)k.call(t,r)&&!P.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===a[r]&&(a[r]=l[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:C.current}}function M(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var O=/\/+/g,D=[];function A(e,t,n,r){if(D.length){var a=D.pop();return a.result=e,a.keyPrefix=t,a.func=n,a.context=r,a.count=0,a}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function L(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>D.length&&D.push(e)}function R(e,t,n){return null==e?0:function e(t,n,r,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case i:case o:l=!0}}if(l)return r(a,t,""===n?"."+j(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var u=0;u<t.length;u++){var c=n+j(s=t[u],u);l+=e(s,c,r,a)}else if(c=null===t||"object"!==typeof t?null:"function"===typeof(c=v&&t[v]||t["@@iterator"])?c:null,"function"===typeof c)for(t=c.call(t),u=0;!(s=t.next()).done;)l+=e(s=s.value,c=n+j(s,u++),r,a);else"object"===s&&y("31","[object Object]"===(r=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":r,"");return l}(e,"",t,n)}function j(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function N(e,t){e.func.call(e.context,t,e.count++)}function U(e,t,n){var r=e.result,a=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?F(e,r,n,function(e){return e}):null!=e&&(M(e)&&(e=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,a+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(O,"$&/")+"/")+n)),r.push(e))}function F(e,t,n,r,a){var i="";null!=n&&(i=(""+n).replace(O,"$&/")+"/"),R(e,U,t=A(t,i,r,a)),L(t)}function B(){var e=S.current;return null===e&&y("321"),e}var z={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return F(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;R(e,N,t=A(null,null,t,n)),L(t)},count:function(e){return R(e,function(){return null},null)},toArray:function(e){var t=[];return F(e,t,null,function(e){return e}),t},only:function(e){return M(e)||y("143"),e}},createRef:function(){return{current:null}},Component:x,PureComponent:T,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:h,render:e}},lazy:function(e){return{$$typeof:g,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:m,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return B().useCallback(e,t)},useContext:function(e,t){return B().useContext(e,t)},useEffect:function(e,t){return B().useEffect(e,t)},useImperativeHandle:function(e,t,n){return B().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return B().useLayoutEffect(e,t)},useMemo:function(e,t){return B().useMemo(e,t)},useReducer:function(e,t,n){return B().useReducer(e,t,n)},useRef:function(e){return B().useRef(e)},useState:function(e){return B().useState(e)},Fragment:s,StrictMode:l,Suspense:p,createElement:I,cloneElement:function(e,t,n){(null===e||void 0===e)&&y("267",e);var a=void 0,o=r({},e.props),s=e.key,l=e.ref,u=e._owner;if(null!=t){void 0!==t.ref&&(l=t.ref,u=C.current),void 0!==t.key&&(s=""+t.key);var c=void 0;for(a in e.type&&e.type.defaultProps&&(c=e.type.defaultProps),t)k.call(t,a)&&!P.hasOwnProperty(a)&&(o[a]=void 0===t[a]&&void 0!==c?c[a]:t[a])}if(1===(a=arguments.length-2))o.children=n;else if(1<a){c=Array(a);for(var d=0;d<a;d++)c[d]=arguments[d+2];o.children=c}return{$$typeof:i,type:e.type,key:s,ref:l,props:o,_owner:u}},createFactory:function(e){var t=I.bind(null,e);return t.type=e,t},isValidElement:M,version:"16.8.5",unstable_ConcurrentMode:f,unstable_Profiler:u,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:S,ReactCurrentOwner:C,assign:r}},H={default:z},V=H&&z||H;e.exports=V.default||V},function(e,t,n){"use strict";var r=n(0),a=n(22),i=n(43);function o(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(e,t,n,r,a,i,o,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,a,i,o,s],u=0;(e=Error(t.replace(/%s/g,function(){return l[u++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}r||o("227");var s=!1,l=null,u=!1,c=null,d={onError:function(e){s=!0,l=e}};function f(e,t,n,r,a,i,o,u,c){s=!1,l=null,function(e,t,n,r,a,i,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}.apply(d,arguments)}var h=null,p={};function m(){if(h)for(var e in p){var t=p[e],n=h.indexOf(e);if(-1<n||o("96",e),!v[n])for(var r in t.extractEvents||o("97",e),v[n]=t,n=t.eventTypes){var a=void 0,i=n[r],s=t,l=r;y.hasOwnProperty(l)&&o("99",l),y[l]=i;var u=i.phasedRegistrationNames;if(u){for(a in u)u.hasOwnProperty(a)&&g(u[a],s,l);a=!0}else i.registrationName?(g(i.registrationName,s,l),a=!0):a=!1;a||o("98",r,e)}}}function g(e,t,n){b[e]&&o("100",e),b[e]=t,w[e]=t.eventTypes[n].dependencies}var v=[],y={},b={},w={},x=null,E=null,T=null;function _(e,t,n){var r=e.type||"unknown-event";e.currentTarget=T(n),function(e,t,n,r,a,i,d,h,p){if(f.apply(this,arguments),s){if(s){var m=l;s=!1,l=null}else o("198"),m=void 0;u||(u=!0,c=m)}}(r,t,void 0,e),e.currentTarget=null}function S(e,t){return null==t&&o("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function C(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var k=null;function P(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)_(e,t[r],n[r]);else t&&_(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}var I={injectEventPluginOrder:function(e){h&&o("101"),h=Array.prototype.slice.call(e),m()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];p.hasOwnProperty(t)&&p[t]===r||(p[t]&&o("102",t),p[t]=r,n=!0)}n&&m()}};function M(e,t){var n=e.stateNode;if(!n)return null;var r=x(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}return e?null:(n&&"function"!==typeof n&&o("231",t,typeof n),n)}function O(e){if(null!==e&&(k=S(k,e)),e=k,k=null,e&&(C(e,P),k&&o("95"),u))throw e=c,u=!1,c=null,e}var D=Math.random().toString(36).slice(2),A="__reactInternalInstance$"+D,L="__reactEventHandlers$"+D;function R(e){if(e[A])return e[A];for(;!e[A];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[A]).tag||6===e.tag?e:null}function j(e){return!(e=e[A])||5!==e.tag&&6!==e.tag?null:e}function N(e){if(5===e.tag||6===e.tag)return e.stateNode;o("33")}function U(e){return e[L]||null}function F(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function B(e,t,n){(t=M(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=S(n._dispatchListeners,t),n._dispatchInstances=S(n._dispatchInstances,e))}function z(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=F(t);for(t=n.length;0<t--;)B(n[t],"captured",e);for(t=0;t<n.length;t++)B(n[t],"bubbled",e)}}function H(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=M(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=S(n._dispatchListeners,t),n._dispatchInstances=S(n._dispatchInstances,e))}function V(e){e&&e.dispatchConfig.registrationName&&H(e._targetInst,null,e)}function W(e){C(e,z)}var q=!("undefined"===typeof window||!window.document||!window.document.createElement);function G(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Y={animationend:G("Animation","AnimationEnd"),animationiteration:G("Animation","AnimationIteration"),animationstart:G("Animation","AnimationStart"),transitionend:G("Transition","TransitionEnd")},Z={},X={};function K(e){if(Z[e])return Z[e];if(!Y[e])return e;var t,n=Y[e];for(t in n)if(n.hasOwnProperty(t)&&t in X)return Z[e]=n[t];return e}q&&(X=document.createElement("div").style,"AnimationEvent"in window||(delete Y.animationend.animation,delete Y.animationiteration.animation,delete Y.animationstart.animation),"TransitionEvent"in window||delete Y.transitionend.transition);var $=K("animationend"),J=K("animationiteration"),Q=K("animationstart"),ee=K("transitionend"),te="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ne=null,re=null,ae=null;function ie(){if(ae)return ae;var e,t,n=re,r=n.length,a="value"in ne?ne.value:ne.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[i-t];t++);return ae=a.slice(e,1<t?1-t:void 0)}function oe(){return!0}function se(){return!1}function le(e,t,n,r){for(var a in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(a)&&((t=e[a])?this[a]=t(n):"target"===a?this.target=r:this[a]=n[a]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?oe:se,this.isPropagationStopped=se,this}function ue(e,t,n,r){if(this.eventPool.length){var a=this.eventPool.pop();return this.call(a,e,t,n,r),a}return new this(e,t,n,r)}function ce(e){e instanceof this||o("279"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function de(e){e.eventPool=[],e.getPooled=ue,e.release=ce}a(le.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=oe)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=oe)},persist:function(){this.isPersistent=oe},isPersistent:se,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=se,this._dispatchInstances=this._dispatchListeners=null}}),le.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},le.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var i=new t;return a(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=a({},r.Interface,e),n.extend=r.extend,de(n),n},de(le);var fe=le.extend({data:null}),he=le.extend({data:null}),pe=[9,13,27,32],me=q&&"CompositionEvent"in window,ge=null;q&&"documentMode"in document&&(ge=document.documentMode);var ve=q&&"TextEvent"in window&&!ge,ye=q&&(!me||ge&&8<ge&&11>=ge),be=String.fromCharCode(32),we={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},xe=!1;function Ee(e,t){switch(e){case"keyup":return-1!==pe.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Te(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var _e=!1;var Se={eventTypes:we,extractEvents:function(e,t,n,r){var a=void 0,i=void 0;if(me)e:{switch(e){case"compositionstart":a=we.compositionStart;break e;case"compositionend":a=we.compositionEnd;break e;case"compositionupdate":a=we.compositionUpdate;break e}a=void 0}else _e?Ee(e,n)&&(a=we.compositionEnd):"keydown"===e&&229===n.keyCode&&(a=we.compositionStart);return a?(ye&&"ko"!==n.locale&&(_e||a!==we.compositionStart?a===we.compositionEnd&&_e&&(i=ie()):(re="value"in(ne=r)?ne.value:ne.textContent,_e=!0)),a=fe.getPooled(a,t,n,r),i?a.data=i:null!==(i=Te(n))&&(a.data=i),W(a),i=a):i=null,(e=ve?function(e,t){switch(e){case"compositionend":return Te(t);case"keypress":return 32!==t.which?null:(xe=!0,be);case"textInput":return(e=t.data)===be&&xe?null:e;default:return null}}(e,n):function(e,t){if(_e)return"compositionend"===e||!me&&Ee(e,t)?(e=ie(),ae=re=ne=null,_e=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ye&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=he.getPooled(we.beforeInput,t,n,r)).data=e,W(t)):t=null,null===i?t:null===t?i:[i,t]}},Ce=null,ke=null,Pe=null;function Ie(e){if(e=E(e)){"function"!==typeof Ce&&o("280");var t=x(e.stateNode);Ce(e.stateNode,e.type,t)}}function Me(e){ke?Pe?Pe.push(e):Pe=[e]:ke=e}function Oe(){if(ke){var e=ke,t=Pe;if(Pe=ke=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function De(e,t){return e(t)}function Ae(e,t,n){return e(t,n)}function Le(){}var Re=!1;function je(e,t){if(Re)return e(t);Re=!0;try{return De(e,t)}finally{Re=!1,(null!==ke||null!==Pe)&&(Le(),Oe())}}var Ne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ue(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ne[e.type]:"textarea"===t}function Fe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function Be(e){if(!q)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}function ze(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function He(e){e._valueTracker||(e._valueTracker=function(e){var t=ze(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ve(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ze(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}var We=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;We.hasOwnProperty("ReactCurrentDispatcher")||(We.ReactCurrentDispatcher={current:null});var qe=/^(.*)[\\\/]/,Ge="function"===typeof Symbol&&Symbol.for,Ye=Ge?Symbol.for("react.element"):60103,Ze=Ge?Symbol.for("react.portal"):60106,Xe=Ge?Symbol.for("react.fragment"):60107,Ke=Ge?Symbol.for("react.strict_mode"):60108,$e=Ge?Symbol.for("react.profiler"):60114,Je=Ge?Symbol.for("react.provider"):60109,Qe=Ge?Symbol.for("react.context"):60110,et=Ge?Symbol.for("react.concurrent_mode"):60111,tt=Ge?Symbol.for("react.forward_ref"):60112,nt=Ge?Symbol.for("react.suspense"):60113,rt=Ge?Symbol.for("react.memo"):60115,at=Ge?Symbol.for("react.lazy"):60116,it="function"===typeof Symbol&&Symbol.iterator;function ot(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=it&&e[it]||e["@@iterator"])?e:null}function st(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case et:return"ConcurrentMode";case Xe:return"Fragment";case Ze:return"Portal";case $e:return"Profiler";case Ke:return"StrictMode";case nt:return"Suspense"}if("object"===typeof e)switch(e.$$typeof){case Qe:return"Context.Consumer";case Je:return"Context.Provider";case tt:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case rt:return st(e.type);case at:if(e=1===e._status?e._result:null)return st(e)}return null}function lt(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,a=e._debugSource,i=st(e.type);n=null,r&&(n=st(r.type)),r=i,i="",a?i=" (at "+a.fileName.replace(qe,"")+":"+a.lineNumber+")":n&&(i=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+i}t+=n,e=e.return}while(e);return t}var ut=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ct=Object.prototype.hasOwnProperty,dt={},ft={};function ht(e,t,n,r,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t}var pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pt[e]=new ht(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pt[t]=new ht(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){pt[e]=new ht(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pt[e]=new ht(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pt[e]=new ht(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){pt[e]=new ht(e,3,!0,e,null)}),["capture","download"].forEach(function(e){pt[e]=new ht(e,4,!1,e,null)}),["cols","rows","size","span"].forEach(function(e){pt[e]=new ht(e,6,!1,e,null)}),["rowSpan","start"].forEach(function(e){pt[e]=new ht(e,5,!1,e.toLowerCase(),null)});var mt=/[\-:]([a-z])/g;function gt(e){return e[1].toUpperCase()}function vt(e,t,n,r){var a=pt.hasOwnProperty(t)?pt[t]:null;(null!==a?0===a.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!ct.call(ft,e)||!ct.call(dt,e)&&(ut.test(e)?ft[e]=!0:(dt[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function yt(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function bt(e,t){var n=t.checked;return a({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function wt(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=yt(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function xt(e,t){null!=(t=t.checked)&&vt(e,"checked",t,!1)}function Et(e,t){xt(e,t);var n=yt(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?_t(e,t.type,n):t.hasOwnProperty("defaultValue")&&_t(e,t.type,yt(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Tt(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function _t(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mt,gt);pt[t]=new ht(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mt,gt);pt[t]=new ht(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mt,gt);pt[t]=new ht(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),["tabIndex","crossOrigin"].forEach(function(e){pt[e]=new ht(e,1,!1,e.toLowerCase(),null)});var St={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Ct(e,t,n){return(e=le.getPooled(St.change,e,t,n)).type="change",Me(n),W(e),e}var kt=null,Pt=null;function It(e){O(e)}function Mt(e){if(Ve(N(e)))return e}function Ot(e,t){if("change"===e)return t}var Dt=!1;function At(){kt&&(kt.detachEvent("onpropertychange",Lt),Pt=kt=null)}function Lt(e){"value"===e.propertyName&&Mt(Pt)&&je(It,e=Ct(Pt,e,Fe(e)))}function Rt(e,t,n){"focus"===e?(At(),Pt=n,(kt=t).attachEvent("onpropertychange",Lt)):"blur"===e&&At()}function jt(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Mt(Pt)}function Nt(e,t){if("click"===e)return Mt(t)}function Ut(e,t){if("input"===e||"change"===e)return Mt(t)}q&&(Dt=Be("input")&&(!document.documentMode||9<document.documentMode));var Ft={eventTypes:St,_isInputEventSupported:Dt,extractEvents:function(e,t,n,r){var a=t?N(t):window,i=void 0,o=void 0,s=a.nodeName&&a.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===a.type?i=Ot:Ue(a)?Dt?i=Ut:(i=jt,o=Rt):(s=a.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(i=Nt),i&&(i=i(e,t)))return Ct(i,n,r);o&&o(e,a,t),"blur"===e&&(e=a._wrapperState)&&e.controlled&&"number"===a.type&&_t(a,"number",a.value)}},Bt=le.extend({view:null,detail:null}),zt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ht(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=zt[e])&&!!t[e]}function Vt(){return Ht}var Wt=0,qt=0,Gt=!1,Yt=!1,Zt=Bt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Vt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Wt;return Wt=e.screenX,Gt?"mousemove"===e.type?e.screenX-t:0:(Gt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=qt;return qt=e.screenY,Yt?"mousemove"===e.type?e.screenY-t:0:(Yt=!0,0)}}),Xt=Zt.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Kt={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},$t={eventTypes:Kt,extractEvents:function(e,t,n,r){var a="mouseover"===e||"pointerover"===e,i="mouseout"===e||"pointerout"===e;if(a&&(n.relatedTarget||n.fromElement)||!i&&!a)return null;if(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,i?(i=t,t=(t=n.relatedTarget||n.toElement)?R(t):null):i=null,i===t)return null;var o=void 0,s=void 0,l=void 0,u=void 0;"mouseout"===e||"mouseover"===e?(o=Zt,s=Kt.mouseLeave,l=Kt.mouseEnter,u="mouse"):"pointerout"!==e&&"pointerover"!==e||(o=Xt,s=Kt.pointerLeave,l=Kt.pointerEnter,u="pointer");var c=null==i?a:N(i);if(a=null==t?a:N(t),(e=o.getPooled(s,i,n,r)).type=u+"leave",e.target=c,e.relatedTarget=a,(n=o.getPooled(l,t,n,r)).type=u+"enter",n.target=a,n.relatedTarget=c,r=t,i&&r)e:{for(a=r,u=0,o=t=i;o;o=F(o))u++;for(o=0,l=a;l;l=F(l))o++;for(;0<u-o;)t=F(t),u--;for(;0<o-u;)a=F(a),o--;for(;u--;){if(t===a||t===a.alternate)break e;t=F(t),a=F(a)}t=null}else t=null;for(a=t,t=[];i&&i!==a&&(null===(u=i.alternate)||u!==a);)t.push(i),i=F(i);for(i=[];r&&r!==a&&(null===(u=r.alternate)||u!==a);)i.push(r),r=F(r);for(r=0;r<t.length;r++)H(t[r],"bubbled",e);for(r=i.length;0<r--;)H(i[r],"captured",n);return[e,n]}};function Jt(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t}var Qt=Object.prototype.hasOwnProperty;function en(e,t){if(Jt(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Qt.call(t,n[r])||!Jt(e[n[r]],t[n[r]]))return!1;return!0}function tn(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!==(2&t.effectTag))return 1;for(;t.return;)if(0!==(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function nn(e){2!==tn(e)&&o("188")}function rn(e){if(!(e=function(e){var t=e.alternate;if(!t)return 3===(t=tn(e))&&o("188"),1===t?null:e;for(var n=e,r=t;;){var a=n.return,i=a?a.alternate:null;if(!a||!i)break;if(a.child===i.child){for(var s=a.child;s;){if(s===n)return nn(a),e;if(s===r)return nn(a),t;s=s.sibling}o("188")}if(n.return!==r.return)n=a,r=i;else{s=!1;for(var l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}s||o("189")}}n.alternate!==r&&o("190")}return 3!==n.tag&&o("188"),n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var an=le.extend({animationName:null,elapsedTime:null,pseudoElement:null}),on=le.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sn=Bt.extend({relatedTarget:null});function ln(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn=Bt.extend({key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ln(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?cn[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Vt,charCode:function(e){return"keypress"===e.type?ln(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ln(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),fn=Zt.extend({dataTransfer:null}),hn=Bt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Vt}),pn=le.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),mn=Zt.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),gn=[["abort","abort"],[$,"animationEnd"],[J,"animationIteration"],[Q,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[ee,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],vn={},yn={};function bn(e,t){var n=e[0],r="on"+((e=e[1])[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:t},vn[e]=t,yn[n]=t}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(e){bn(e,!0)}),gn.forEach(function(e){bn(e,!1)});var wn={eventTypes:vn,isInteractiveTopLevelEventType:function(e){return void 0!==(e=yn[e])&&!0===e.isInteractive},extractEvents:function(e,t,n,r){var a=yn[e];if(!a)return null;switch(e){case"keypress":if(0===ln(n))return null;case"keydown":case"keyup":e=dn;break;case"blur":case"focus":e=sn;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Zt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=hn;break;case $:case J:case Q:e=an;break;case ee:e=pn;break;case"scroll":e=Bt;break;case"wheel":e=mn;break;case"copy":case"cut":case"paste":e=on;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Xt;break;default:e=le}return W(t=e.getPooled(a,t,n,r)),t}},xn=wn.isInteractiveTopLevelEventType,En=[];function Tn(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r;for(r=n;r.return;)r=r.return;if(!(r=3!==r.tag?null:r.stateNode.containerInfo))break;e.ancestors.push(n),n=R(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var a=Fe(e.nativeEvent);r=e.topLevelType;for(var i=e.nativeEvent,o=null,s=0;s<v.length;s++){var l=v[s];l&&(l=l.extractEvents(r,t,i,a))&&(o=S(o,l))}O(o)}}var _n=!0;function Sn(e,t){if(!t)return null;var n=(xn(e)?kn:Pn).bind(null,e);t.addEventListener(e,n,!1)}function Cn(e,t){if(!t)return null;var n=(xn(e)?kn:Pn).bind(null,e);t.addEventListener(e,n,!0)}function kn(e,t){Ae(Pn,e,t)}function Pn(e,t){if(_n){var n=Fe(t);if(null===(n=R(n))||"number"!==typeof n.tag||2===tn(n)||(n=null),En.length){var r=En.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{je(Tn,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>En.length&&En.push(e)}}}var In={},Mn=0,On="_reactListenersID"+(""+Math.random()).slice(2);function Dn(e){return Object.prototype.hasOwnProperty.call(e,On)||(e[On]=Mn++,In[e[On]]={}),In[e[On]]}function An(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Ln(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rn(e,t){var n,r=Ln(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ln(r)}}function jn(){for(var e=window,t=An();t instanceof e.HTMLIFrameElement;){try{e=t.contentDocument.defaultView}catch(n){break}t=An(e.document)}return t}function Nn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Un(e){var t=jn(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(n.ownerDocument.documentElement,n)){if(null!==r&&Nn(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=void 0===r.end?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=Rn(n,i);var o=Rn(n,r);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Fn=q&&"documentMode"in document&&11>=document.documentMode,Bn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},zn=null,Hn=null,Vn=null,Wn=!1;function qn(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Wn||null==zn||zn!==An(n)?null:("selectionStart"in(n=zn)&&Nn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Vn&&en(Vn,n)?null:(Vn=n,(e=le.getPooled(Bn.select,Hn,e,t)).type="select",e.target=zn,W(e),e))}var Gn={eventTypes:Bn,extractEvents:function(e,t,n,r){var a,i=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(a=!i)){e:{i=Dn(i),a=w.onSelect;for(var o=0;o<a.length;o++){var s=a[o];if(!i.hasOwnProperty(s)||!i[s]){i=!1;break e}}i=!0}a=!i}if(a)return null;switch(i=t?N(t):window,e){case"focus":(Ue(i)||"true"===i.contentEditable)&&(zn=i,Hn=t,Vn=null);break;case"blur":Vn=Hn=zn=null;break;case"mousedown":Wn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Wn=!1,qn(n,r);case"selectionchange":if(Fn)break;case"keydown":case"keyup":return qn(n,r)}return null}};function Yn(e,t){return e=a({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function Zn(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+yt(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function Xn(e,t){return null!=t.dangerouslySetInnerHTML&&o("91"),a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Kn(e,t){var n=t.value;null==n&&(n=t.defaultValue,null!=(t=t.children)&&(null!=n&&o("92"),Array.isArray(t)&&(1>=t.length||o("93"),t=t[0]),n=t),null==n&&(n="")),e._wrapperState={initialValue:yt(n)}}function $n(e,t){var n=yt(t.value),r=yt(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Jn(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}I.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),x=U,E=j,T=N,I.injectEventPluginsByName({SimpleEventPlugin:wn,EnterLeaveEventPlugin:$t,ChangeEventPlugin:Ft,SelectEventPlugin:Gn,BeforeInputEventPlugin:Se});var Qn={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function er(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tr(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?er(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var nr,rr=void 0,ar=(nr=function(e,t){if(e.namespaceURI!==Qn.svg||"innerHTML"in e)e.innerHTML=t;else{for((rr=rr||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=rr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return nr(e,t)})}:nr);function ir(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var or={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sr=["Webkit","ms","Moz","O"];function lr(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||or.hasOwnProperty(e)&&or[e]?(""+t).trim():t+"px"}function ur(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=lr(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(or).forEach(function(e){sr.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),or[t]=or[e]})});var cr=a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dr(e,t){t&&(cr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&o("137",e,""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&o("60"),"object"===typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||o("61")),null!=t.style&&"object"!==typeof t.style&&o("62",""))}function fr(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function hr(e,t){var n=Dn(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=w[t];for(var r=0;r<t.length;r++){var a=t[r];if(!n.hasOwnProperty(a)||!n[a]){switch(a){case"scroll":Cn("scroll",e);break;case"focus":case"blur":Cn("focus",e),Cn("blur",e),n.blur=!0,n.focus=!0;break;case"cancel":case"close":Be(a)&&Cn(a,e);break;case"invalid":case"submit":case"reset":break;default:-1===te.indexOf(a)&&Sn(a,e)}n[a]=!0}}}function pr(){}var mr=null,gr=null;function vr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function yr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var br="function"===typeof setTimeout?setTimeout:void 0,wr="function"===typeof clearTimeout?clearTimeout:void 0,xr=i.unstable_scheduleCallback,Er=i.unstable_cancelCallback;function Tr(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function _r(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}new Set;var Sr=[],Cr=-1;function kr(e){0>Cr||(e.current=Sr[Cr],Sr[Cr]=null,Cr--)}function Pr(e,t){Sr[++Cr]=e.current,e.current=t}var Ir={},Mr={current:Ir},Or={current:!1},Dr=Ir;function Ar(e,t){var n=e.type.contextTypes;if(!n)return Ir;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Lr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Rr(e){kr(Or),kr(Mr)}function jr(e){kr(Or),kr(Mr)}function Nr(e,t,n){Mr.current!==Ir&&o("168"),Pr(Mr,t),Pr(Or,n)}function Ur(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())i in e||o("108",st(t)||"Unknown",i);return a({},n,r)}function Fr(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Ir,Dr=Mr.current,Pr(Mr,t),Pr(Or,Or.current),!0}function Br(e,t,n){var r=e.stateNode;r||o("169"),n?(t=Ur(e,t,Dr),r.__reactInternalMemoizedMergedChildContext=t,kr(Or),kr(Mr),Pr(Mr,t)):kr(Or),Pr(Or,n)}var zr=null,Hr=null;function Vr(e){return function(t){try{return e(t)}catch(n){}}}function Wr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.contextDependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function qr(e,t,n,r){return new Wr(e,t,n,r)}function Gr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Yr(e,t){var n=e.alternate;return null===n?((n=qr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,n.contextDependencies=e.contextDependencies,n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Zr(e,t,n,r,a,i){var s=2;if(r=e,"function"===typeof e)Gr(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case Xe:return Xr(n.children,a,i,t);case et:return Kr(n,3|a,i,t);case Ke:return Kr(n,2|a,i,t);case $e:return(e=qr(12,n,t,4|a)).elementType=$e,e.type=$e,e.expirationTime=i,e;case nt:return(e=qr(13,n,t,a)).elementType=nt,e.type=nt,e.expirationTime=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case Je:s=10;break e;case Qe:s=9;break e;case tt:s=11;break e;case rt:s=14;break e;case at:s=16,r=null;break e}o("130",null==e?e:typeof e,"")}return(t=qr(s,n,t,a)).elementType=e,t.type=r,t.expirationTime=i,t}function Xr(e,t,n,r){return(e=qr(7,e,r,t)).expirationTime=n,e}function Kr(e,t,n,r){return e=qr(8,e,r,t),t=0===(1&t)?Ke:et,e.elementType=t,e.type=t,e.expirationTime=n,e}function $r(e,t,n){return(e=qr(6,e,null,t)).expirationTime=n,e}function Jr(e,t,n){return(t=qr(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qr(e,t){e.didError=!1;var n=e.earliestPendingTime;0===n?e.earliestPendingTime=e.latestPendingTime=t:n<t?e.earliestPendingTime=t:e.latestPendingTime>t&&(e.latestPendingTime=t),na(t,e)}function ea(e,t){e.didError=!1,e.latestPingedTime>=t&&(e.latestPingedTime=0);var n=e.earliestPendingTime,r=e.latestPendingTime;n===t?e.earliestPendingTime=r===t?e.latestPendingTime=0:r:r===t&&(e.latestPendingTime=n),n=e.earliestSuspendedTime,r=e.latestSuspendedTime,0===n?e.earliestSuspendedTime=e.latestSuspendedTime=t:n<t?e.earliestSuspendedTime=t:r>t&&(e.latestSuspendedTime=t),na(t,e)}function ta(e,t){var n=e.earliestPendingTime;return n>t&&(t=n),(e=e.earliestSuspendedTime)>t&&(t=e),t}function na(e,t){var n=t.earliestSuspendedTime,r=t.latestSuspendedTime,a=t.earliestPendingTime,i=t.latestPingedTime;0===(a=0!==a?a:i)&&(0===e||r<e)&&(a=r),0!==(e=a)&&n>e&&(e=n),t.nextExpirationTimeToWorkOn=a,t.expirationTime=e}function ra(e,t){if(e&&e.defaultProps)for(var n in t=a({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var aa=(new r.Component).refs;function ia(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:a({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}var oa={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===tn(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Es(),a=Xi(r=Xo(r,e));a.payload=t,void 0!==n&&null!==n&&(a.callback=n),Vo(),$i(e,a),Jo(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Es(),a=Xi(r=Xo(r,e));a.tag=Vi,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),Vo(),$i(e,a),Jo(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Es(),r=Xi(n=Xo(n,e));r.tag=Wi,void 0!==t&&null!==t&&(r.callback=t),Vo(),$i(e,r),Jo(e,n)}};function sa(e,t,n,r,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!en(n,r)||!en(a,i))}function la(e,t,n){var r=!1,a=Ir,i=t.contextType;return"object"===typeof i&&null!==i?i=zi(i):(a=Lr(t)?Dr:Mr.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ar(e,a):Ir),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=oa,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function ua(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&oa.enqueueReplaceState(t,t.state,null)}function ca(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=aa;var i=t.contextType;"object"===typeof i&&null!==i?a.context=zi(i):(i=Lr(t)?Dr:Mr.current,a.context=Ar(e,i)),null!==(i=e.updateQueue)&&(to(e,i,n,a,r),a.state=e.memoizedState),"function"===typeof(i=t.getDerivedStateFromProps)&&(ia(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&oa.enqueueReplaceState(a,a.state,null),null!==(i=e.updateQueue)&&(to(e,i,n,a,r),a.state=e.memoizedState)),"function"===typeof a.componentDidMount&&(e.effectTag|=4)}var da=Array.isArray;function fa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){n=n._owner;var r=void 0;n&&(1!==n.tag&&o("309"),r=n.stateNode),r||o("147",e);var a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=r.refs;t===aa&&(t=r.refs={}),null===e?delete t[a]:t[a]=e})._stringRef=a,t)}"string"!==typeof e&&o("284"),n._owner||o("290",e)}return e}function ha(e,t){"textarea"!==e.type&&o("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function pa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t,n){return(e=Yr(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=$r(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=a(t,n.props)).ref=fa(e,t,n),r.return=e,r):((r=Zr(n.type,n.key,n.props,null,e.mode,r)).ref=fa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Jr(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Xr(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=$r(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case Ye:return(n=Zr(t.type,t.key,t.props,null,e.mode,n)).ref=fa(e,null,t),n.return=e,n;case Ze:return(t=Jr(t,e.mode,n)).return=e,t}if(da(t)||ot(t))return(t=Xr(t,e.mode,n,null)).return=e,t;ha(e,t)}return null}function h(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case Ye:return n.key===a?n.type===Xe?d(e,t,n.props.children,r,a):u(e,t,n,r):null;case Ze:return n.key===a?c(e,t,n,r):null}if(da(n)||ot(n))return null!==a?null:d(e,t,n,r,null);ha(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case Ye:return e=e.get(null===r.key?n:r.key)||null,r.type===Xe?d(t,e,r.props.children,a,r.key):u(t,e,r,a);case Ze:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a)}if(da(r)||ot(r))return d(t,e=e.get(n)||null,r,a,null);ha(t,r)}return null}function m(a,o,s,l){for(var u=null,c=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=h(a,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(a,d),o=i(v,o,m),null===c?u=v:c.sibling=v,c=v,d=g}if(m===s.length)return n(a,d),u;if(null===d){for(;m<s.length;m++)(d=f(a,s[m],l))&&(o=i(d,o,m),null===c?u=d:c.sibling=d,c=d);return u}for(d=r(a,d);m<s.length;m++)(g=p(d,a,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=i(g,o,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach(function(e){return t(a,e)}),u}function g(a,s,l,u){var c=ot(l);"function"!==typeof c&&o("150"),null==(l=c.call(l))&&o("151");for(var d=c=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=h(a,m,y.value,u);if(null===b){m||(m=v);break}e&&m&&null===b.alternate&&t(a,m),s=i(b,s,g),null===d?c=b:d.sibling=b,d=b,m=v}if(y.done)return n(a,m),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=f(a,y.value,u))&&(s=i(y,s,g),null===d?c=y:d.sibling=y,d=y);return c}for(m=r(a,m);!y.done;g++,y=l.next())null!==(y=p(m,a,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=i(y,s,g),null===d?c=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(a,e)}),c}return function(e,r,i,l){var u="object"===typeof i&&null!==i&&i.type===Xe&&null===i.key;u&&(i=i.props.children);var c="object"===typeof i&&null!==i;if(c)switch(i.$$typeof){case Ye:e:{for(c=i.key,u=r;null!==u;){if(u.key===c){if(7===u.tag?i.type===Xe:u.elementType===i.type){n(e,u.sibling),(r=a(u,i.type===Xe?i.props.children:i.props)).ref=fa(e,u,i),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}i.type===Xe?((r=Xr(i.props.children,e.mode,l,i.key)).return=e,e=r):((l=Zr(i.type,i.key,i.props,null,e.mode,l)).ref=fa(e,r,i),l.return=e,e=l)}return s(e);case Ze:e:{for(u=i.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(e,r.sibling),(r=a(r,i.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Jr(i,e.mode,l)).return=e,e=r}return s(e)}if("string"===typeof i||"number"===typeof i)return i=""+i,null!==r&&6===r.tag?(n(e,r.sibling),(r=a(r,i)).return=e,e=r):(n(e,r),(r=$r(i,e.mode,l)).return=e,e=r),s(e);if(da(i))return m(e,r,i,l);if(ot(i))return g(e,r,i,l);if(c&&ha(e,i),"undefined"===typeof i&&!u)switch(e.tag){case 1:case 0:o("152",(l=e.type).displayName||l.name||"Component")}return n(e,r)}}var ma=pa(!0),ga=pa(!1),va={},ya={current:va},ba={current:va},wa={current:va};function xa(e){return e===va&&o("174"),e}function Ea(e,t){Pr(wa,t),Pr(ba,e),Pr(ya,va);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:tr(null,"");break;default:t=tr(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}kr(ya),Pr(ya,t)}function Ta(e){kr(ya),kr(ba),kr(wa)}function _a(e){xa(wa.current);var t=xa(ya.current),n=tr(t,e.type);t!==n&&(Pr(ba,e),Pr(ya,n))}function Sa(e){ba.current===e&&(kr(ya),kr(ba))}var Ca=0,ka=2,Pa=4,Ia=8,Ma=16,Oa=32,Da=64,Aa=128,La=We.ReactCurrentDispatcher,Ra=0,ja=null,Na=null,Ua=null,Fa=null,Ba=null,za=null,Ha=0,Va=null,Wa=0,qa=!1,Ga=null,Ya=0;function Za(){o("321")}function Xa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jt(e[n],t[n]))return!1;return!0}function Ka(e,t,n,r,a,i){if(Ra=i,ja=t,Ua=null!==e?e.memoizedState:null,La.current=null===Ua?ui:ci,t=n(r,a),qa){do{qa=!1,Ya+=1,Ua=null!==e?e.memoizedState:null,za=Fa,Va=Ba=Na=null,La.current=ci,t=n(r,a)}while(qa);Ga=null,Ya=0}return La.current=li,(e=ja).memoizedState=Fa,e.expirationTime=Ha,e.updateQueue=Va,e.effectTag|=Wa,e=null!==Na&&null!==Na.next,Ra=0,za=Ba=Fa=Ua=Na=ja=null,Ha=0,Va=null,Wa=0,e&&o("300"),t}function $a(){La.current=li,Ra=0,za=Ba=Fa=Ua=Na=ja=null,Ha=0,Va=null,Wa=0,qa=!1,Ga=null,Ya=0}function Ja(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Ba?Fa=Ba=e:Ba=Ba.next=e,Ba}function Qa(){if(null!==za)za=(Ba=za).next,Ua=null!==(Na=Ua)?Na.next:null;else{null===Ua&&o("310");var e={memoizedState:(Na=Ua).memoizedState,baseState:Na.baseState,queue:Na.queue,baseUpdate:Na.baseUpdate,next:null};Ba=null===Ba?Fa=e:Ba.next=e,Ua=Na.next}return Ba}function ei(e,t){return"function"===typeof t?t(e):t}function ti(e){var t=Qa(),n=t.queue;if(null===n&&o("311"),0<Ya){var r=n.dispatch;if(null!==Ga){var a=Ga.get(n);if(void 0!==a){Ga.delete(n);var i=t.memoizedState;do{i=e(i,a.action),a=a.next}while(null!==a);return Jt(i,t.memoizedState)||(xi=!0),t.memoizedState=i,t.baseUpdate===n.last&&(t.baseState=i),n.eagerReducer=e,n.eagerState=i,[i,r]}}return[t.memoizedState,r]}r=n.last;var s=t.baseUpdate;if(i=t.baseState,null!==s?(null!==r&&(r.next=null),r=s.next):r=null!==r?r.next:null,null!==r){var l=a=null,u=r,c=!1;do{var d=u.expirationTime;d<Ra?(c||(c=!0,l=s,a=i),d>Ha&&(Ha=d)):i=u.eagerReducer===e?u.eagerState:e(i,u.action),s=u,u=u.next}while(null!==u&&u!==r);c||(l=s,a=i),Jt(i,t.memoizedState)||(xi=!0),t.memoizedState=i,t.baseUpdate=l,t.baseState=a,n.eagerReducer=e,n.eagerState=i}return[t.memoizedState,n.dispatch]}function ni(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===Va?(Va={lastEffect:null}).lastEffect=e.next=e:null===(t=Va.lastEffect)?Va.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,Va.lastEffect=e),e}function ri(e,t,n,r){var a=Ja();Wa|=e,a.memoizedState=ni(t,n,void 0,void 0===r?null:r)}function ai(e,t,n,r){var a=Qa();r=void 0===r?null:r;var i=void 0;if(null!==Na){var o=Na.memoizedState;if(i=o.destroy,null!==r&&Xa(r,o.deps))return void ni(Ca,n,i,r)}Wa|=e,a.memoizedState=ni(t,n,i,r)}function ii(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function oi(){}function si(e,t,n){25>Ya||o("301");var r=e.alternate;if(e===ja||null!==r&&r===ja)if(qa=!0,e={expirationTime:Ra,action:n,eagerReducer:null,eagerState:null,next:null},null===Ga&&(Ga=new Map),void 0===(n=Ga.get(t)))Ga.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{Vo();var a=Es(),i={expirationTime:a=Xo(a,e),action:n,eagerReducer:null,eagerState:null,next:null},s=t.last;if(null===s)i.next=i;else{var l=s.next;null!==l&&(i.next=l),s.next=i}if(t.last=i,0===e.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=t.eagerReducer))try{var u=t.eagerState,c=r(u,n);if(i.eagerReducer=r,i.eagerState=c,Jt(c,u))return}catch(d){}Jo(e,a)}}var li={readContext:zi,useCallback:Za,useContext:Za,useEffect:Za,useImperativeHandle:Za,useLayoutEffect:Za,useMemo:Za,useReducer:Za,useRef:Za,useState:Za,useDebugValue:Za},ui={readContext:zi,useCallback:function(e,t){return Ja().memoizedState=[e,void 0===t?null:t],e},useContext:zi,useEffect:function(e,t){return ri(516,Aa|Da,e,t)},useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ri(4,Pa|Oa,ii.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ri(4,Pa|Oa,e,t)},useMemo:function(e,t){var n=Ja();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ja();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={last:null,dispatch:null,eagerReducer:e,eagerState:t}).dispatch=si.bind(null,ja,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ja().memoizedState=e},useState:function(e){var t=Ja();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,eagerReducer:ei,eagerState:e}).dispatch=si.bind(null,ja,e),[t.memoizedState,e]},useDebugValue:oi},ci={readContext:zi,useCallback:function(e,t){var n=Qa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Xa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)},useContext:zi,useEffect:function(e,t){return ai(516,Aa|Da,e,t)},useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ai(4,Pa|Oa,ii.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ai(4,Pa|Oa,e,t)},useMemo:function(e,t){var n=Qa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Xa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:ti,useRef:function(){return Qa().memoizedState},useState:function(e){return ti(ei)},useDebugValue:oi},di=null,fi=null,hi=!1;function pi(e,t){var n=qr(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function mi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function gi(e){if(hi){var t=fi;if(t){var n=t;if(!mi(e,t)){if(!(t=Tr(n))||!mi(e,t))return e.effectTag|=2,hi=!1,void(di=e);pi(di,n)}di=e,fi=_r(t)}else e.effectTag|=2,hi=!1,di=e}}function vi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&18!==e.tag;)e=e.return;di=e}function yi(e){if(e!==di)return!1;if(!hi)return vi(e),hi=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!yr(t,e.memoizedProps))for(t=fi;t;)pi(e,t),t=Tr(t);return vi(e),fi=di?Tr(e.stateNode):null,!0}function bi(){fi=di=null,hi=!1}var wi=We.ReactCurrentOwner,xi=!1;function Ei(e,t,n,r){t.child=null===e?ga(t,null,n,r):ma(t,e.child,n,r)}function Ti(e,t,n,r,a){n=n.render;var i=t.ref;return Bi(t,a),r=Ka(e,t,n,r,i,a),null===e||xi?(t.effectTag|=1,Ei(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=a&&(e.expirationTime=0),Di(e,t,a))}function _i(e,t,n,r,a,i){if(null===e){var o=n.type;return"function"!==typeof o||Gr(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Zr(n.type,null,r,null,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Si(e,t,o,r,a,i))}return o=e.child,a<i&&(a=o.memoizedProps,(n=null!==(n=n.compare)?n:en)(a,r)&&e.ref===t.ref)?Di(e,t,i):(t.effectTag|=1,(e=Yr(o,r)).ref=t.ref,e.return=t,t.child=e)}function Si(e,t,n,r,a,i){return null!==e&&en(e.memoizedProps,r)&&e.ref===t.ref&&(xi=!1,a<i)?Di(e,t,i):ki(e,t,n,r,i)}function Ci(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function ki(e,t,n,r,a){var i=Lr(n)?Dr:Mr.current;return i=Ar(t,i),Bi(t,a),n=Ka(e,t,n,r,i,a),null===e||xi?(t.effectTag|=1,Ei(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=a&&(e.expirationTime=0),Di(e,t,a))}function Pi(e,t,n,r,a){if(Lr(n)){var i=!0;Fr(t)}else i=!1;if(Bi(t,a),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),la(t,n,r),ca(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=zi(u):u=Ar(t,u=Lr(n)?Dr:Mr.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==u)&&ua(t,o,r,u),Gi=!1;var f=t.memoizedState;l=o.state=f;var h=t.updateQueue;null!==h&&(to(t,h,r,o,a),l=t.memoizedState),s!==r||f!==l||Or.current||Gi?("function"===typeof c&&(ia(t,n,c,r),l=t.memoizedState),(s=Gi||sa(t,n,s,r,f,l,u))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.effectTag|=4)):("function"===typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"===typeof o.componentDidMount&&(t.effectTag|=4),r=!1)}else o=t.stateNode,s=t.memoizedProps,o.props=t.type===t.elementType?s:ra(t.type,s),l=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=zi(u):u=Ar(t,u=Lr(n)?Dr:Mr.current),(d="function"===typeof(c=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==u)&&ua(t,o,r,u),Gi=!1,l=t.memoizedState,f=o.state=l,null!==(h=t.updateQueue)&&(to(t,h,r,o,a),f=t.memoizedState),s!==r||l!==f||Or.current||Gi?("function"===typeof c&&(ia(t,n,c,r),f=t.memoizedState),(c=Gi||sa(t,n,s,r,l,f,u))?(d||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,u)),"function"===typeof o.componentDidUpdate&&(t.effectTag|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),r=!1);return Ii(e,t,n,r,i,a)}function Ii(e,t,n,r,a,i){Ci(e,t);var o=0!==(64&t.effectTag);if(!r&&!o)return a&&Br(t,n,!1),Di(e,t,i);r=t.stateNode,wi.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&o?(t.child=ma(t,e.child,null,i),t.child=ma(t,null,s,i)):Ei(e,t,s,i),t.memoizedState=r.state,a&&Br(t,n,!0),t.child}function Mi(e){var t=e.stateNode;t.pendingContext?Nr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Nr(0,t.context,!1),Ea(e,t.containerInfo)}function Oi(e,t,n){var r=t.mode,a=t.pendingProps,i=t.memoizedState;if(0===(64&t.effectTag)){i=null;var o=!1}else i={timedOutAt:null!==i?i.timedOutAt:0},o=!0,t.effectTag&=-65;if(null===e)if(o){var s=a.fallback;e=Xr(null,r,0,null),0===(1&t.mode)&&(e.child=null!==t.memoizedState?t.child.child:t.child),r=Xr(s,r,n,null),e.sibling=r,(n=e).return=r.return=t}else n=r=ga(t,null,a.children,n);else null!==e.memoizedState?(s=(r=e.child).sibling,o?(n=a.fallback,a=Yr(r,r.pendingProps),0===(1&t.mode)&&((o=null!==t.memoizedState?t.child.child:t.child)!==r.child&&(a.child=o)),r=a.sibling=Yr(s,n,s.expirationTime),n=a,a.childExpirationTime=0,n.return=r.return=t):n=r=ma(t,r.child,a.children,n)):(s=e.child,o?(o=a.fallback,(a=Xr(null,r,0,null)).child=s,0===(1&t.mode)&&(a.child=null!==t.memoizedState?t.child.child:t.child),(r=a.sibling=Xr(o,r,n,null)).effectTag|=2,n=a,a.childExpirationTime=0,n.return=r.return=t):r=n=ma(t,s,a.children,n)),t.stateNode=e.stateNode;return t.memoizedState=i,t.child=n,r}function Di(e,t,n){if(null!==e&&(t.contextDependencies=e.contextDependencies),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child&&o("153"),null!==t.child){for(n=Yr(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Yr(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function Ai(e,t,n){var r=t.expirationTime;if(null!==e){if(e.memoizedProps!==t.pendingProps||Or.current)xi=!0;else if(r<n){switch(xi=!1,t.tag){case 3:Mi(t),bi();break;case 5:_a(t);break;case 1:Lr(t.type)&&Fr(t);break;case 4:Ea(t,t.stateNode.containerInfo);break;case 10:Ui(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Oi(e,t,n):null!==(t=Di(e,t,n))?t.sibling:null}return Di(e,t,n)}}else xi=!1;switch(t.expirationTime=0,t.tag){case 2:r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps;var a=Ar(t,Mr.current);if(Bi(t,n),a=Ka(null,t,r,e,a,n),t.effectTag|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof){if(t.tag=1,$a(),Lr(r)){var i=!0;Fr(t)}else i=!1;t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null;var s=r.getDerivedStateFromProps;"function"===typeof s&&ia(t,r,s,e),a.updater=oa,t.stateNode=a,a._reactInternalFiber=t,ca(t,r,e,n),t=Ii(null,t,r,!0,i,n)}else t.tag=0,Ei(null,t,a,n),t=t.child;return t;case 16:switch(a=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),i=t.pendingProps,e=function(e){var t=e._result;switch(e._status){case 1:return t;case 2:case 0:throw t;default:switch(e._status=0,(t=(t=e._ctor)()).then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)}),e._status){case 1:return e._result;case 2:throw e._result}throw e._result=t,t}}(a),t.type=e,a=t.tag=function(e){if("function"===typeof e)return Gr(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===tt)return 11;if(e===rt)return 14}return 2}(e),i=ra(e,i),s=void 0,a){case 0:s=ki(null,t,e,i,n);break;case 1:s=Pi(null,t,e,i,n);break;case 11:s=Ti(null,t,e,i,n);break;case 14:s=_i(null,t,e,ra(e.type,i),r,n);break;default:o("306",e,"")}return s;case 0:return r=t.type,a=t.pendingProps,ki(e,t,r,a=t.elementType===r?a:ra(r,a),n);case 1:return r=t.type,a=t.pendingProps,Pi(e,t,r,a=t.elementType===r?a:ra(r,a),n);case 3:return Mi(t),null===(r=t.updateQueue)&&o("282"),a=null!==(a=t.memoizedState)?a.element:null,to(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===a?(bi(),t=Di(e,t,n)):(a=t.stateNode,(a=(null===e||null===e.child)&&a.hydrate)&&(fi=_r(t.stateNode.containerInfo),di=t,a=hi=!0),a?(t.effectTag|=2,t.child=ga(t,null,r,n)):(Ei(e,t,r,n),bi()),t=t.child),t;case 5:return _a(t),null===e&&gi(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,s=a.children,yr(r,a)?s=null:null!==i&&yr(r,i)&&(t.effectTag|=16),Ci(e,t),1!==n&&1&t.mode&&a.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Ei(e,t,s,n),t=t.child),t;case 6:return null===e&&gi(t),null;case 13:return Oi(e,t,n);case 4:return Ea(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ma(t,null,r,n):Ei(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,Ti(e,t,r,a=t.elementType===r?a:ra(r,a),n);case 7:return Ei(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ei(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,s=t.memoizedProps,Ui(t,i=a.value),null!==s){var l=s.value;if(0===(i=Jt(l,i)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,i):1073741823))){if(s.children===a.children&&!Or.current){t=Di(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.contextDependencies;if(null!==u){s=l.child;for(var c=u.first;null!==c;){if(c.context===r&&0!==(c.observedBits&i)){1===l.tag&&((c=Xi(n)).tag=Wi,$i(l,c)),l.expirationTime<n&&(l.expirationTime=n),null!==(c=l.alternate)&&c.expirationTime<n&&(c.expirationTime=n),c=n;for(var d=l.return;null!==d;){var f=d.alternate;if(d.childExpirationTime<c)d.childExpirationTime=c,null!==f&&f.childExpirationTime<c&&(f.childExpirationTime=c);else{if(!(null!==f&&f.childExpirationTime<c))break;f.childExpirationTime=c}d=d.return}u.expirationTime<n&&(u.expirationTime=n);break}c=c.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}}Ei(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=(i=t.pendingProps).children,Bi(t,n),r=r(a=zi(a,i.unstable_observedBits)),t.effectTag|=1,Ei(e,t,r,n),t.child;case 14:return i=ra(a=t.type,t.pendingProps),_i(e,t,a,i=ra(a.type,i),r,n);case 15:return Si(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ra(r,a),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Lr(r)?(e=!0,Fr(t)):e=!1,Bi(t,n),la(t,r,a),ca(t,r,a,n),Ii(null,t,r,!0,e,n)}o("156")}var Li={current:null},Ri=null,ji=null,Ni=null;function Ui(e,t){var n=e.type._context;Pr(Li,n._currentValue),n._currentValue=t}function Fi(e){var t=Li.current;kr(Li),e.type._context._currentValue=t}function Bi(e,t){Ri=e,Ni=ji=null;var n=e.contextDependencies;null!==n&&n.expirationTime>=t&&(xi=!0),e.contextDependencies=null}function zi(e,t){return Ni!==e&&!1!==t&&0!==t&&("number"===typeof t&&1073741823!==t||(Ni=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ji?(null===Ri&&o("308"),ji=t,Ri.contextDependencies={first:t,expirationTime:0}):ji=ji.next=t),e._currentValue}var Hi=0,Vi=1,Wi=2,qi=3,Gi=!1;function Yi(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Zi(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Xi(e){return{expirationTime:e,tag:Hi,payload:null,callback:null,next:null,nextEffect:null}}function Ki(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function $i(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,a=null;null===r&&(r=e.updateQueue=Yi(e.memoizedState))}else r=e.updateQueue,a=n.updateQueue,null===r?null===a?(r=e.updateQueue=Yi(e.memoizedState),a=n.updateQueue=Yi(n.memoizedState)):r=e.updateQueue=Zi(a):null===a&&(a=n.updateQueue=Zi(r));null===a||r===a?Ki(r,t):null===r.lastUpdate||null===a.lastUpdate?(Ki(r,t),Ki(a,t)):(Ki(r,t),a.lastUpdate=t)}function Ji(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=Yi(e.memoizedState):Qi(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function Qi(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=Zi(t)),t}function eo(e,t,n,r,i,o){switch(n.tag){case Vi:return"function"===typeof(e=n.payload)?e.call(o,r,i):e;case qi:e.effectTag=-2049&e.effectTag|64;case Hi:if(null===(i="function"===typeof(e=n.payload)?e.call(o,r,i):e)||void 0===i)break;return a({},r,i);case Wi:Gi=!0}return r}function to(e,t,n,r,a){Gi=!1;for(var i=(t=Qi(e,t)).baseState,o=null,s=0,l=t.firstUpdate,u=i;null!==l;){var c=l.expirationTime;c<a?(null===o&&(o=l,i=u),s<c&&(s=c)):(u=eo(e,0,l,u,n,r),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=l:(t.lastEffect.nextEffect=l,t.lastEffect=l))),l=l.next}for(c=null,l=t.firstCapturedUpdate;null!==l;){var d=l.expirationTime;d<a?(null===c&&(c=l,null===o&&(i=u)),s<d&&(s=d)):(u=eo(e,0,l,u,n,r),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=l:(t.lastCapturedEffect.nextEffect=l,t.lastCapturedEffect=l))),l=l.next}null===o&&(t.lastUpdate=null),null===c?t.lastCapturedUpdate=null:e.effectTag|=32,null===o&&null===c&&(i=u),t.baseState=i,t.firstUpdate=o,t.firstCapturedUpdate=c,e.expirationTime=s,e.memoizedState=u}function no(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),ro(t.firstEffect,n),t.firstEffect=t.lastEffect=null,ro(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function ro(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;"function"!==typeof n&&o("191",n),n.call(r)}e=e.nextEffect}}function ao(e,t){return{value:e,source:t,stack:lt(t)}}function io(e){e.effectTag|=4}var oo=void 0,so=void 0,lo=void 0,uo=void 0;oo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},so=function(){},lo=function(e,t,n,r,i){var o=e.memoizedProps;if(o!==r){var s=t.stateNode;switch(xa(ya.current),e=null,n){case"input":o=bt(s,o),r=bt(s,r),e=[];break;case"option":o=Yn(s,o),r=Yn(s,r),e=[];break;case"select":o=a({},o,{value:void 0}),r=a({},r,{value:void 0}),e=[];break;case"textarea":o=Xn(s,o),r=Xn(s,r),e=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(s.onclick=pr)}dr(n,r),s=n=void 0;var l=null;for(n in o)if(!r.hasOwnProperty(n)&&o.hasOwnProperty(n)&&null!=o[n])if("style"===n){var u=o[n];for(s in u)u.hasOwnProperty(s)&&(l||(l={}),l[s]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(b.hasOwnProperty(n)?e||(e=[]):(e=e||[]).push(n,null));for(n in r){var c=r[n];if(u=null!=o?o[n]:void 0,r.hasOwnProperty(n)&&c!==u&&(null!=c||null!=u))if("style"===n)if(u){for(s in u)!u.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(l||(l={}),l[s]="");for(s in c)c.hasOwnProperty(s)&&u[s]!==c[s]&&(l||(l={}),l[s]=c[s])}else l||(e||(e=[]),e.push(n,l)),l=c;else"dangerouslySetInnerHTML"===n?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(e=e||[]).push(n,""+c)):"children"===n?u===c||"string"!==typeof c&&"number"!==typeof c||(e=e||[]).push(n,""+c):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(b.hasOwnProperty(n)?(null!=c&&hr(i,n),e||u===c||(e=[])):(e=e||[]).push(n,c))}l&&(e=e||[]).push("style",l),i=e,(t.updateQueue=i)&&io(t)}},uo=function(e,t,n,r){n!==r&&io(t)};var co="function"===typeof WeakSet?WeakSet:Set;function fo(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=lt(n)),null!==n&&st(n.type),t=t.value,null!==e&&1===e.tag&&st(e.type);try{console.error(t)}catch(a){setTimeout(function(){throw a})}}function ho(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Zo(e,n)}else t.current=null}function po(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if((r.tag&e)!==Ca){var a=r.destroy;r.destroy=void 0,void 0!==a&&a()}(r.tag&t)!==Ca&&(a=r.create,r.destroy=a()),r=r.next}while(r!==n)}}function mo(e){switch("function"===typeof Hr&&Hr(e),e.tag){case 0:case 11:case 14:case 15:var t=e.updateQueue;if(null!==t&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=n.destroy;if(void 0!==r){var a=e;try{r()}catch(i){Zo(a,i)}}n=n.next}while(n!==t)}break;case 1:if(ho(e),"function"===typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(i){Zo(e,i)}break;case 5:ho(e);break;case 4:yo(e)}}function go(e){return 5===e.tag||3===e.tag||4===e.tag}function vo(e){e:{for(var t=e.return;null!==t;){if(go(t)){var n=t;break e}t=t.return}o("160"),n=void 0}var r=t=void 0;switch(n.tag){case 5:t=n.stateNode,r=!1;break;case 3:case 4:t=n.stateNode.containerInfo,r=!0;break;default:o("161")}16&n.effectTag&&(ir(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||go(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var a=e;;){if(5===a.tag||6===a.tag)if(n)if(r){var i=t,s=a.stateNode,l=n;8===i.nodeType?i.parentNode.insertBefore(s,l):i.insertBefore(s,l)}else t.insertBefore(a.stateNode,n);else r?(s=t,l=a.stateNode,8===s.nodeType?(i=s.parentNode).insertBefore(l,s):(i=s).appendChild(l),null!==(s=s._reactRootContainer)&&void 0!==s||null!==i.onclick||(i.onclick=pr)):t.appendChild(a.stateNode);else if(4!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===e)break;for(;null===a.sibling;){if(null===a.return||a.return===e)return;a=a.return}a.sibling.return=a.return,a=a.sibling}}function yo(e){for(var t=e,n=!1,r=void 0,a=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&o("160"),n.tag){case 5:r=n.stateNode,a=!1;break e;case 3:case 4:r=n.stateNode.containerInfo,a=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag){e:for(var i=t,s=i;;)if(mo(s),null!==s.child&&4!==s.tag)s.child.return=s,s=s.child;else{if(s===i)break;for(;null===s.sibling;){if(null===s.return||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}a?(i=r,s=t.stateNode,8===i.nodeType?i.parentNode.removeChild(s):i.removeChild(s)):r.removeChild(t.stateNode)}else if(4===t.tag){if(null!==t.child){r=t.stateNode.containerInfo,a=!0,t.child.return=t,t=t.child;continue}}else if(mo(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;4===(t=t.return).tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}function bo(e,t){switch(t.tag){case 0:case 11:case 14:case 15:po(Pa,Ia,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var a=t.type,i=t.updateQueue;t.updateQueue=null,null!==i&&function(e,t,n,r,a){e[L]=a,"input"===n&&"radio"===a.type&&null!=a.name&&xt(e,a),fr(n,r),r=fr(n,a);for(var i=0;i<t.length;i+=2){var o=t[i],s=t[i+1];"style"===o?ur(e,s):"dangerouslySetInnerHTML"===o?ar(e,s):"children"===o?ir(e,s):vt(e,o,s,r)}switch(n){case"input":Et(e,a);break;case"textarea":$n(e,a);break;case"select":t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!a.multiple,null!=(n=a.value)?Zn(e,!!a.multiple,n,!1):t!==!!a.multiple&&(null!=a.defaultValue?Zn(e,!!a.multiple,a.defaultValue,!0):Zn(e,!!a.multiple,a.multiple?[]:"",!1))}}(n,i,a,e,r)}break;case 6:null===t.stateNode&&o("162"),t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 12:break;case 13:if(n=t.memoizedState,r=void 0,e=t,null===n?r=!1:(r=!0,e=t.child,0===n.timedOutAt&&(n.timedOutAt=Es())),null!==e&&function(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)r.style.display="none";else{r=n.stateNode;var a=n.memoizedProps.style;a=void 0!==a&&null!==a&&a.hasOwnProperty("display")?a.display:null,r.style.display=lr("display",a)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else{if(13===n.tag&&null!==n.memoizedState){(r=n.child.sibling).return=n,n=r;continue}if(null!==n.child){n.child.return=n,n=n.child;continue}}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}(e,r),null!==(n=t.updateQueue)){t.updateQueue=null;var s=t.stateNode;null===s&&(s=t.stateNode=new co),n.forEach(function(e){var n=function(e,t){var n=e.stateNode;null!==n&&n.delete(t),t=Xo(t=Es(),e),null!==(e=$o(e,t))&&(Qr(e,t),0!==(t=e.expirationTime)&&Ts(e,t))}.bind(null,t,e);s.has(e)||(s.add(e),e.then(n,n))})}break;case 17:break;default:o("163")}}var wo="function"===typeof WeakMap?WeakMap:Map;function xo(e,t,n){(n=Xi(n)).tag=qi,n.payload={element:null};var r=t.value;return n.callback=function(){Ds(r),fo(e,t)},n}function Eo(e,t,n){(n=Xi(n)).tag=qi;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Uo?Uo=new Set([this]):Uo.add(this));var n=t.value,a=t.stack;fo(e,t),this.componentDidCatch(n,{componentStack:null!==a?a:""})}),n}function To(e){switch(e.tag){case 1:Lr(e.type)&&Rr();var t=e.effectTag;return 2048&t?(e.effectTag=-2049&t|64,e):null;case 3:return Ta(),jr(),0!==(64&(t=e.effectTag))&&o("285"),e.effectTag=-2049&t|64,e;case 5:return Sa(e),null;case 13:return 2048&(t=e.effectTag)?(e.effectTag=-2049&t|64,e):null;case 18:return null;case 4:return Ta(),null;case 10:return Fi(e),null;default:return null}}var _o=We.ReactCurrentDispatcher,So=We.ReactCurrentOwner,Co=1073741822,ko=!1,Po=null,Io=null,Mo=0,Oo=-1,Do=!1,Ao=null,Lo=!1,Ro=null,jo=null,No=null,Uo=null;function Fo(){if(null!==Po)for(var e=Po.return;null!==e;){var t=e;switch(t.tag){case 1:var n=t.type.childContextTypes;null!==n&&void 0!==n&&Rr();break;case 3:Ta(),jr();break;case 5:Sa(t);break;case 4:Ta();break;case 10:Fi(t)}e=e.return}Io=null,Mo=0,Oo=-1,Do=!1,Po=null}function Bo(){for(;null!==Ao;){var e=Ao.effectTag;if(16&e&&ir(Ao.stateNode,""),128&e){var t=Ao.alternate;null!==t&&(null!==(t=t.ref)&&("function"===typeof t?t(null):t.current=null))}switch(14&e){case 2:vo(Ao),Ao.effectTag&=-3;break;case 6:vo(Ao),Ao.effectTag&=-3,bo(Ao.alternate,Ao);break;case 4:bo(Ao.alternate,Ao);break;case 8:yo(e=Ao),e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,null!==(e=e.alternate)&&(e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null)}Ao=Ao.nextEffect}}function zo(){for(;null!==Ao;){if(256&Ao.effectTag)e:{var e=Ao.alternate,t=Ao;switch(t.tag){case 0:case 11:case 15:po(ka,Ca,t);break e;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:ra(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}break e;case 3:case 5:case 6:case 4:case 17:break e;default:o("163")}}Ao=Ao.nextEffect}}function Ho(e,t){for(;null!==Ao;){var n=Ao.effectTag;if(36&n){var r=Ao.alternate,a=Ao,i=t;switch(a.tag){case 0:case 11:case 15:po(Ma,Oa,a);break;case 1:var s=a.stateNode;if(4&a.effectTag)if(null===r)s.componentDidMount();else{var l=a.elementType===a.type?r.memoizedProps:ra(a.type,r.memoizedProps);s.componentDidUpdate(l,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}null!==(r=a.updateQueue)&&no(0,r,s);break;case 3:if(null!==(r=a.updateQueue)){if(s=null,null!==a.child)switch(a.child.tag){case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}no(0,r,s)}break;case 5:i=a.stateNode,null===r&&4&a.effectTag&&vr(a.type,a.memoizedProps)&&i.focus();break;case 6:case 4:case 12:case 13:case 17:break;default:o("163")}}128&n&&(null!==(a=Ao.ref)&&(i=Ao.stateNode,"function"===typeof a?a(i):a.current=i)),512&n&&(Ro=e),Ao=Ao.nextEffect}}function Vo(){null!==jo&&Er(jo),null!==No&&No()}function Wo(e,t){Lo=ko=!0,e.current===t&&o("177");var n=e.pendingCommitExpirationTime;0===n&&o("261"),e.pendingCommitExpirationTime=0;var r=t.expirationTime,a=t.childExpirationTime;for(function(e,t){if(e.didError=!1,0===t)e.earliestPendingTime=0,e.latestPendingTime=0,e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0;else{t<e.latestPingedTime&&(e.latestPingedTime=0);var n=e.latestPendingTime;0!==n&&(n>t?e.earliestPendingTime=e.latestPendingTime=0:e.earliestPendingTime>t&&(e.earliestPendingTime=e.latestPendingTime)),0===(n=e.earliestSuspendedTime)?Qr(e,t):t<e.latestSuspendedTime?(e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0,Qr(e,t)):t>n&&Qr(e,t)}na(0,e)}(e,a>r?a:r),So.current=null,r=void 0,1<t.effectTag?null!==t.lastEffect?(t.lastEffect.nextEffect=t,r=t.firstEffect):r=t:r=t.firstEffect,mr=_n,gr=function(){var e=jn();if(Nn(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(t=(t=e.ownerDocument)&&t.defaultView||window).getSelection&&t.getSelection();if(n&&0!==n.rangeCount){t=n.anchorNode;var r=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{t.nodeType,a.nodeType}catch(h){t=null;break e}var i=0,o=-1,s=-1,l=0,u=0,c=e,d=null;t:for(;;){for(var f;c!==t||0!==r&&3!==c.nodeType||(o=i+r),c!==a||0!==n&&3!==c.nodeType||(s=i+n),3===c.nodeType&&(i+=c.nodeValue.length),null!==(f=c.firstChild);)d=c,c=f;for(;;){if(c===e)break t;if(d===t&&++l===r&&(o=i),d===a&&++u===n&&(s=i),null!==(f=c.nextSibling))break;d=(c=d).parentNode}c=f}t=-1===o||-1===s?null:{start:o,end:s}}else t=null}t=t||{start:0,end:0}}else t=null;return{focusedElem:e,selectionRange:t}}(),_n=!1,Ao=r;null!==Ao;){a=!1;var s=void 0;try{zo()}catch(u){a=!0,s=u}a&&(null===Ao&&o("178"),Zo(Ao,s),null!==Ao&&(Ao=Ao.nextEffect))}for(Ao=r;null!==Ao;){a=!1,s=void 0;try{Bo()}catch(u){a=!0,s=u}a&&(null===Ao&&o("178"),Zo(Ao,s),null!==Ao&&(Ao=Ao.nextEffect))}for(Un(gr),gr=null,_n=!!mr,mr=null,e.current=t,Ao=r;null!==Ao;){a=!1,s=void 0;try{Ho(e,n)}catch(u){a=!0,s=u}a&&(null===Ao&&o("178"),Zo(Ao,s),null!==Ao&&(Ao=Ao.nextEffect))}if(null!==r&&null!==Ro){var l=function(e,t){No=jo=Ro=null;var n=as;as=!0;do{if(512&t.effectTag){var r=!1,a=void 0;try{var i=t;po(Aa,Ca,i),po(Ca,Da,i)}catch(l){r=!0,a=l}r&&Zo(t,a)}t=t.nextEffect}while(null!==t);as=n,0!==(n=e.expirationTime)&&Ts(e,n),cs||as||Ps(1073741823,!1)}.bind(null,e,r);jo=i.unstable_runWithPriority(i.unstable_NormalPriority,function(){return xr(l)}),No=l}ko=Lo=!1,"function"===typeof zr&&zr(t.stateNode),n=t.expirationTime,0===(t=(t=t.childExpirationTime)>n?t:n)&&(Uo=null),function(e,t){e.expirationTime=t,e.finishedWork=null}(e,t)}function qo(e){for(;;){var t=e.alternate,n=e.return,r=e.sibling;if(0===(1024&e.effectTag)){Po=e;e:{var i=t,s=Mo,l=(t=e).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:Lr(t.type)&&Rr();break;case 3:Ta(),jr(),(l=t.stateNode).pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),null!==i&&null!==i.child||(yi(t),t.effectTag&=-3),so(t);break;case 5:Sa(t);var u=xa(wa.current);if(s=t.type,null!==i&&null!=t.stateNode)lo(i,t,s,l,u),i.ref!==t.ref&&(t.effectTag|=128);else if(l){var c=xa(ya.current);if(yi(t)){i=(l=t).stateNode;var d=l.type,f=l.memoizedProps,h=u;switch(i[A]=l,i[L]=f,s=void 0,u=d){case"iframe":case"object":Sn("load",i);break;case"video":case"audio":for(d=0;d<te.length;d++)Sn(te[d],i);break;case"source":Sn("error",i);break;case"img":case"image":case"link":Sn("error",i),Sn("load",i);break;case"form":Sn("reset",i),Sn("submit",i);break;case"details":Sn("toggle",i);break;case"input":wt(i,f),Sn("invalid",i),hr(h,"onChange");break;case"select":i._wrapperState={wasMultiple:!!f.multiple},Sn("invalid",i),hr(h,"onChange");break;case"textarea":Kn(i,f),Sn("invalid",i),hr(h,"onChange")}for(s in dr(u,f),d=null,f)f.hasOwnProperty(s)&&(c=f[s],"children"===s?"string"===typeof c?i.textContent!==c&&(d=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(d=["children",""+c]):b.hasOwnProperty(s)&&null!=c&&hr(h,s));switch(u){case"input":He(i),Tt(i,f,!0);break;case"textarea":He(i),Jn(i);break;case"select":case"option":break;default:"function"===typeof f.onClick&&(i.onclick=pr)}s=d,l.updateQueue=s,(l=null!==s)&&io(t)}else{f=t,h=s,i=l,d=9===u.nodeType?u:u.ownerDocument,c===Qn.html&&(c=er(h)),c===Qn.html?"script"===h?((i=d.createElement("div")).innerHTML="<script><\/script>",d=i.removeChild(i.firstChild)):"string"===typeof i.is?d=d.createElement(h,{is:i.is}):(d=d.createElement(h),"select"===h&&(h=d,i.multiple?h.multiple=!0:i.size&&(h.size=i.size))):d=d.createElementNS(c,h),(i=d)[A]=f,i[L]=l,oo(i,t,!1,!1),h=i;var p=u,m=fr(d=s,f=l);switch(d){case"iframe":case"object":Sn("load",h),u=f;break;case"video":case"audio":for(u=0;u<te.length;u++)Sn(te[u],h);u=f;break;case"source":Sn("error",h),u=f;break;case"img":case"image":case"link":Sn("error",h),Sn("load",h),u=f;break;case"form":Sn("reset",h),Sn("submit",h),u=f;break;case"details":Sn("toggle",h),u=f;break;case"input":wt(h,f),u=bt(h,f),Sn("invalid",h),hr(p,"onChange");break;case"option":u=Yn(h,f);break;case"select":h._wrapperState={wasMultiple:!!f.multiple},u=a({},f,{value:void 0}),Sn("invalid",h),hr(p,"onChange");break;case"textarea":Kn(h,f),u=Xn(h,f),Sn("invalid",h),hr(p,"onChange");break;default:u=f}dr(d,u),c=void 0;var g=d,v=h,y=u;for(c in y)if(y.hasOwnProperty(c)){var w=y[c];"style"===c?ur(v,w):"dangerouslySetInnerHTML"===c?null!=(w=w?w.__html:void 0)&&ar(v,w):"children"===c?"string"===typeof w?("textarea"!==g||""!==w)&&ir(v,w):"number"===typeof w&&ir(v,""+w):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(b.hasOwnProperty(c)?null!=w&&hr(p,c):null!=w&&vt(v,c,w,m))}switch(d){case"input":He(h),Tt(h,f,!1);break;case"textarea":He(h),Jn(h);break;case"option":null!=f.value&&h.setAttribute("value",""+yt(f.value));break;case"select":(u=h).multiple=!!f.multiple,null!=(h=f.value)?Zn(u,!!f.multiple,h,!1):null!=f.defaultValue&&Zn(u,!!f.multiple,f.defaultValue,!0);break;default:"function"===typeof u.onClick&&(h.onclick=pr)}(l=vr(s,l))&&io(t),t.stateNode=i}null!==t.ref&&(t.effectTag|=128)}else null===t.stateNode&&o("166");break;case 6:i&&null!=t.stateNode?uo(i,t,i.memoizedProps,l):("string"!==typeof l&&(null===t.stateNode&&o("166")),i=xa(wa.current),xa(ya.current),yi(t)?(s=(l=t).stateNode,i=l.memoizedProps,s[A]=l,(l=s.nodeValue!==i)&&io(t)):(s=t,(l=(9===i.nodeType?i:i.ownerDocument).createTextNode(l))[A]=t,s.stateNode=l));break;case 11:break;case 13:if(l=t.memoizedState,0!==(64&t.effectTag)){t.expirationTime=s,Po=t;break e}l=null!==l,s=null!==i&&null!==i.memoizedState,null!==i&&!l&&s&&(null!==(i=i.child.sibling)&&(null!==(u=t.firstEffect)?(t.firstEffect=i,i.nextEffect=u):(t.firstEffect=t.lastEffect=i,i.nextEffect=null),i.effectTag=8)),(l||s)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:Ta(),so(t);break;case 10:Fi(t);break;case 9:case 14:break;case 17:Lr(t.type)&&Rr();break;case 18:break;default:o("156")}Po=null}if(t=e,1===Mo||1!==t.childExpirationTime){for(l=0,s=t.child;null!==s;)(i=s.expirationTime)>l&&(l=i),(u=s.childExpirationTime)>l&&(l=u),s=s.sibling;t.childExpirationTime=l}if(null!==Po)return Po;null!==n&&0===(1024&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(null!==(e=To(e)))return e.effectTag&=1023,e;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=1024)}if(null!==r)return r;if(null===n)break;e=n}return null}function Go(e){var t=Ai(e.alternate,e,Mo);return e.memoizedProps=e.pendingProps,null===t&&(t=qo(e)),So.current=null,t}function Yo(e,t){ko&&o("243"),Vo(),ko=!0;var n=_o.current;_o.current=li;var r=e.nextExpirationTimeToWorkOn;r===Mo&&e===Io&&null!==Po||(Fo(),Mo=r,Po=Yr((Io=e).current,null),e.pendingCommitExpirationTime=0);for(var a=!1;;){try{if(t)for(;null!==Po&&!Cs();)Po=Go(Po);else for(;null!==Po;)Po=Go(Po)}catch(v){if(Ni=ji=Ri=null,$a(),null===Po)a=!0,Ds(v);else{null===Po&&o("271");var i=Po,s=i.return;if(null!==s){e:{var l=e,u=s,c=i,d=v;if(s=Mo,c.effectTag|=1024,c.firstEffect=c.lastEffect=null,null!==d&&"object"===typeof d&&"function"===typeof d.then){var f=d;d=u;var h=-1,p=-1;do{if(13===d.tag){var m=d.alternate;if(null!==m&&null!==(m=m.memoizedState)){p=10*(1073741822-m.timedOutAt);break}"number"===typeof(m=d.pendingProps.maxDuration)&&(0>=m?h=0:(-1===h||m<h)&&(h=m))}d=d.return}while(null!==d);d=u;do{if((m=13===d.tag)&&(m=void 0!==d.memoizedProps.fallback&&null===d.memoizedState),m){if(null===(u=d.updateQueue)?((u=new Set).add(f),d.updateQueue=u):u.add(f),0===(1&d.mode)){d.effectTag|=64,c.effectTag&=-1957,1===c.tag&&(null===c.alternate?c.tag=17:((s=Xi(1073741823)).tag=Wi,$i(c,s))),c.expirationTime=1073741823;break e}u=s;var g=(c=l).pingCache;null===g?(g=c.pingCache=new wo,m=new Set,g.set(f,m)):void 0===(m=g.get(f))&&(m=new Set,g.set(f,m)),m.has(u)||(m.add(u),c=Ko.bind(null,c,f,u),f.then(c,c)),-1===h?l=1073741823:(-1===p&&(p=10*(1073741822-ta(l,s))-5e3),l=p+h),0<=l&&Oo<l&&(Oo=l),d.effectTag|=2048,d.expirationTime=s;break e}d=d.return}while(null!==d);d=Error((st(c.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+lt(c))}Do=!0,d=ao(d,c),l=u;do{switch(l.tag){case 3:l.effectTag|=2048,l.expirationTime=s,Ji(l,s=xo(l,d,s));break e;case 1:if(h=d,p=l.type,c=l.stateNode,0===(64&l.effectTag)&&("function"===typeof p.getDerivedStateFromError||null!==c&&"function"===typeof c.componentDidCatch&&(null===Uo||!Uo.has(c)))){l.effectTag|=2048,l.expirationTime=s,Ji(l,s=Eo(l,h,s));break e}}l=l.return}while(null!==l)}Po=qo(i);continue}a=!0,Ds(v)}}break}if(ko=!1,_o.current=n,Ni=ji=Ri=null,$a(),a)Io=null,e.finishedWork=null;else if(null!==Po)e.finishedWork=null;else{if(null===(n=e.current.alternate)&&o("281"),Io=null,Do){if(a=e.latestPendingTime,i=e.latestSuspendedTime,s=e.latestPingedTime,0!==a&&a<r||0!==i&&i<r||0!==s&&s<r)return ea(e,r),void xs(e,n,r,e.expirationTime,-1);if(!e.didError&&t)return e.didError=!0,r=e.nextExpirationTimeToWorkOn=r,t=e.expirationTime=1073741823,void xs(e,n,r,t,-1)}t&&-1!==Oo?(ea(e,r),(t=10*(1073741822-ta(e,r)))<Oo&&(Oo=t),t=10*(1073741822-Es()),t=Oo-t,xs(e,n,r,e.expirationTime,0>t?0:t)):(e.pendingCommitExpirationTime=r,e.finishedWork=n)}}function Zo(e,t){for(var n=e.return;null!==n;){switch(n.tag){case 1:var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Uo||!Uo.has(r)))return $i(n,e=Eo(n,e=ao(t,e),1073741823)),void Jo(n,1073741823);break;case 3:return $i(n,e=xo(n,e=ao(t,e),1073741823)),void Jo(n,1073741823)}n=n.return}3===e.tag&&($i(e,n=xo(e,n=ao(t,e),1073741823)),Jo(e,1073741823))}function Xo(e,t){var n=i.unstable_getCurrentPriorityLevel(),r=void 0;if(0===(1&t.mode))r=1073741823;else if(ko&&!Lo)r=Mo;else{switch(n){case i.unstable_ImmediatePriority:r=1073741823;break;case i.unstable_UserBlockingPriority:r=1073741822-10*(1+((1073741822-e+15)/10|0));break;case i.unstable_NormalPriority:r=1073741822-25*(1+((1073741822-e+500)/25|0));break;case i.unstable_LowPriority:case i.unstable_IdlePriority:r=1;break;default:o("313")}null!==Io&&r===Mo&&--r}return n===i.unstable_UserBlockingPriority&&(0===ss||r<ss)&&(ss=r),r}function Ko(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),null!==Io&&Mo===n?Io=null:(t=e.earliestSuspendedTime,r=e.latestSuspendedTime,0!==t&&n<=t&&n>=r&&(e.didError=!1,(0===(t=e.latestPingedTime)||t>n)&&(e.latestPingedTime=n),na(n,e),0!==(n=e.expirationTime)&&Ts(e,n)))}function $o(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,a=null;if(null===r&&3===e.tag)a=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){a=r.stateNode;break}r=r.return}return a}function Jo(e,t){null!==(e=$o(e,t))&&(!ko&&0!==Mo&&t>Mo&&Fo(),Qr(e,t),ko&&!Lo&&Io===e||Ts(e,e.expirationTime),vs>gs&&(vs=0,o("185")))}function Qo(e,t,n,r,a){return i.unstable_runWithPriority(i.unstable_ImmediatePriority,function(){return e(t,n,r,a)})}var es=null,ts=null,ns=0,rs=void 0,as=!1,is=null,os=0,ss=0,ls=!1,us=null,cs=!1,ds=!1,fs=null,hs=i.unstable_now(),ps=1073741822-(hs/10|0),ms=ps,gs=50,vs=0,ys=null;function bs(){ps=1073741822-((i.unstable_now()-hs)/10|0)}function ws(e,t){if(0!==ns){if(t<ns)return;null!==rs&&i.unstable_cancelCallback(rs)}ns=t,e=i.unstable_now()-hs,rs=i.unstable_scheduleCallback(ks,{timeout:10*(1073741822-t)-e})}function xs(e,t,n,r,a){e.expirationTime=r,0!==a||Cs()?0<a&&(e.timeoutHandle=br(function(e,t,n){e.pendingCommitExpirationTime=n,e.finishedWork=t,bs(),ms=ps,Is(e,n)}.bind(null,e,t,n),a)):(e.pendingCommitExpirationTime=n,e.finishedWork=t)}function Es(){return as?ms:(_s(),0!==os&&1!==os||(bs(),ms=ps),ms)}function Ts(e,t){null===e.nextScheduledRoot?(e.expirationTime=t,null===ts?(es=ts=e,e.nextScheduledRoot=e):(ts=ts.nextScheduledRoot=e).nextScheduledRoot=es):t>e.expirationTime&&(e.expirationTime=t),as||(cs?ds&&(is=e,os=1073741823,Ms(e,1073741823,!1)):1073741823===t?Ps(1073741823,!1):ws(e,t))}function _s(){var e=0,t=null;if(null!==ts)for(var n=ts,r=es;null!==r;){var a=r.expirationTime;if(0===a){if((null===n||null===ts)&&o("244"),r===r.nextScheduledRoot){es=ts=r.nextScheduledRoot=null;break}if(r===es)es=a=r.nextScheduledRoot,ts.nextScheduledRoot=a,r.nextScheduledRoot=null;else{if(r===ts){(ts=n).nextScheduledRoot=es,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if(a>e&&(e=a,t=r),r===ts)break;if(1073741823===e)break;n=r,r=r.nextScheduledRoot}}is=t,os=e}var Ss=!1;function Cs(){return!!Ss||!!i.unstable_shouldYield()&&(Ss=!0)}function ks(){try{if(!Cs()&&null!==es){bs();var e=es;do{var t=e.expirationTime;0!==t&&ps<=t&&(e.nextExpirationTimeToWorkOn=ps),e=e.nextScheduledRoot}while(e!==es)}Ps(0,!0)}finally{Ss=!1}}function Ps(e,t){if(_s(),t)for(bs(),ms=ps;null!==is&&0!==os&&e<=os&&!(Ss&&ps>os);)Ms(is,os,ps>os),_s(),bs(),ms=ps;else for(;null!==is&&0!==os&&e<=os;)Ms(is,os,!1),_s();if(t&&(ns=0,rs=null),0!==os&&ws(is,os),vs=0,ys=null,null!==fs)for(e=fs,fs=null,t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(r){ls||(ls=!0,us=r)}}if(ls)throw e=us,us=null,ls=!1,e}function Is(e,t){as&&o("253"),is=e,os=t,Ms(e,t,!1),Ps(1073741823,!1)}function Ms(e,t,n){if(as&&o("245"),as=!0,n){var r=e.finishedWork;null!==r?Os(e,r,t):(e.finishedWork=null,-1!==(r=e.timeoutHandle)&&(e.timeoutHandle=-1,wr(r)),Yo(e,n),null!==(r=e.finishedWork)&&(Cs()?e.finishedWork=r:Os(e,r,t)))}else null!==(r=e.finishedWork)?Os(e,r,t):(e.finishedWork=null,-1!==(r=e.timeoutHandle)&&(e.timeoutHandle=-1,wr(r)),Yo(e,n),null!==(r=e.finishedWork)&&Os(e,r,t));as=!1}function Os(e,t,n){var r=e.firstBatch;if(null!==r&&r._expirationTime>=n&&(null===fs?fs=[r]:fs.push(r),r._defer))return e.finishedWork=t,void(e.expirationTime=0);e.finishedWork=null,e===ys?vs++:(ys=e,vs=0),i.unstable_runWithPriority(i.unstable_ImmediatePriority,function(){Wo(e,t)})}function Ds(e){null===is&&o("246"),is.expirationTime=0,ls||(ls=!0,us=e)}function As(e,t){var n=cs;cs=!0;try{return e(t)}finally{(cs=n)||as||Ps(1073741823,!1)}}function Ls(e,t){if(cs&&!ds){ds=!0;try{return e(t)}finally{ds=!1}}return e(t)}function Rs(e,t,n){cs||as||0===ss||(Ps(ss,!1),ss=0);var r=cs;cs=!0;try{return i.unstable_runWithPriority(i.unstable_UserBlockingPriority,function(){return e(t,n)})}finally{(cs=r)||as||Ps(1073741823,!1)}}function js(e,t,n,r,a){var i=t.current;e:if(n){t:{2===tn(n=n._reactInternalFiber)&&1===n.tag||o("170");var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(Lr(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);o("171"),s=void 0}if(1===n.tag){var l=n.type;if(Lr(l)){n=Ur(n,l,s);break e}}n=s}else n=Ir;return null===t.context?t.context=n:t.pendingContext=n,t=a,(a=Xi(r)).payload={element:e},null!==(t=void 0===t?null:t)&&(a.callback=t),Vo(),$i(i,a),Jo(i,r),r}function Ns(e,t,n,r){var a=t.current;return js(e,t,n,a=Xo(Es(),a),r)}function Us(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Fs(e){var t=1073741822-25*(1+((1073741822-Es()+500)/25|0));t>=Co&&(t=Co-1),this._expirationTime=Co=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Bs(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function zs(e,t,n){e={current:t=qr(3,null,null,t?3:0),containerInfo:e,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=t.stateNode=e}function Hs(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Vs(e,t,n,r,a){var i=n._reactRootContainer;if(i){if("function"===typeof a){var o=a;a=function(){var e=Us(i._internalRoot);o.call(e)}}null!=e?i.legacy_renderSubtreeIntoContainer(e,t,a):i.render(t,a)}else{if(i=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new zs(e,!1,t)}(n,r),"function"===typeof a){var s=a;a=function(){var e=Us(i._internalRoot);s.call(e)}}Ls(function(){null!=e?i.legacy_renderSubtreeIntoContainer(e,t,a):i.render(t,a)})}return Us(i._internalRoot)}function Ws(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Hs(t)||o("200"),function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Ze,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Ce=function(e,t,n){switch(t){case"input":if(Et(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=U(r);a||o("90"),Ve(r),Et(r,a)}}}break;case"textarea":$n(e,n);break;case"select":null!=(t=n.value)&&Zn(e,!!n.multiple,t,!1)}},Fs.prototype.render=function(e){this._defer||o("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,r=new Bs;return js(e,t,null,n,r._onCommit),r},Fs.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Fs.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||o("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var r=null,a=t;a!==this;)r=a,a=a._next;null===r&&o("251"),r._next=a._next,this._next=t,e.firstBatch=this}this._defer=!1,Is(e,n),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},Fs.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},Bs.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Bs.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!==typeof n&&o("191",n),n()}}},zs.prototype.render=function(e,t){var n=this._internalRoot,r=new Bs;return null!==(t=void 0===t?null:t)&&r.then(t),Ns(e,n,null,r._onCommit),r},zs.prototype.unmount=function(e){var t=this._internalRoot,n=new Bs;return null!==(e=void 0===e?null:e)&&n.then(e),Ns(null,t,null,n._onCommit),n},zs.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var r=this._internalRoot,a=new Bs;return null!==(n=void 0===n?null:n)&&a.then(n),Ns(t,r,e,a._onCommit),a},zs.prototype.createBatch=function(){var e=new Fs(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(n=null;null!==r&&r._expirationTime>=t;)n=r,r=r._next;e._next=r,null!==n&&(n._next=e)}return e},De=As,Ae=Rs,Le=function(){as||0===ss||(Ps(ss,!1),ss=0)};var qs={createPortal:Ws,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;return void 0===t&&("function"===typeof e.render?o("188"):o("268",Object.keys(e))),e=null===(e=rn(t))?null:e.stateNode},hydrate:function(e,t,n){return Hs(t)||o("200"),Vs(null,e,t,!0,n)},render:function(e,t,n){return Hs(t)||o("200"),Vs(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){return Hs(n)||o("200"),(null==e||void 0===e._reactInternalFiber)&&o("38"),Vs(e,t,n,!1,r)},unmountComponentAtNode:function(e){return Hs(e)||o("40"),!!e._reactRootContainer&&(Ls(function(){Vs(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return Ws.apply(void 0,arguments)},unstable_batchedUpdates:As,unstable_interactiveUpdates:Rs,flushSync:function(e,t){as&&o("187");var n=cs;cs=!0;try{return Qo(e,t)}finally{cs=n,Ps(1073741823,!1)}},unstable_createRoot:function(e,t){return Hs(e)||o("299","unstable_createRoot"),new zs(e,!0,null!=t&&!0===t.hydrate)},unstable_flushControlled:function(e){var t=cs;cs=!0;try{Qo(e)}finally{(cs=t)||as||Ps(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[j,N,U,I.injectEventPluginsByName,y,W,function(e){C(e,V)},Me,Oe,Pn,O]}};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);zr=Vr(function(e){return t.onCommitFiberRoot(n,e)}),Hr=Vr(function(e){return t.onCommitFiberUnmount(n,e)})}catch(r){}})(a({},e,{overrideProps:null,currentDispatcherRef:We.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rn(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}({findFiberByHostInstance:R,bundleType:0,version:"16.8.5",rendererPackageName:"react-dom"});var Gs={default:qs},Ys=Gs&&qs||Gs;e.exports=Ys.default||Ys},function(e,t,n){"use strict";e.exports=n(44)},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=null,r=!1,a=3,i=-1,o=-1,s=!1,l=!1;function u(){if(!s){var e=n.expirationTime;l?T():l=!0,E(f,e)}}function c(){var e=n,t=n.next;if(n===t)n=null;else{var r=n.previous;n=r.next=t,t.previous=r}e.next=e.previous=null,r=e.callback,t=e.expirationTime,e=e.priorityLevel;var i=a,s=o;a=e,o=t;try{var l=r()}finally{a=i,o=s}if("function"===typeof l)if(l={callback:l,priorityLevel:e,expirationTime:t,next:null,previous:null},null===n)n=l.next=l.previous=l;else{r=null,e=n;do{if(e.expirationTime>=t){r=e;break}e=e.next}while(e!==n);null===r?r=n:r===n&&(n=l,u()),(t=r.previous).next=r.previous=l,l.next=r,l.previous=t}}function d(){if(-1===i&&null!==n&&1===n.priorityLevel){s=!0;try{do{c()}while(null!==n&&1===n.priorityLevel)}finally{s=!1,null!==n?u():l=!1}}}function f(e){s=!0;var a=r;r=e;try{if(e)for(;null!==n;){var i=t.unstable_now();if(!(n.expirationTime<=i))break;do{c()}while(null!==n&&n.expirationTime<=i)}else if(null!==n)do{c()}while(null!==n&&!_())}finally{s=!1,r=a,null!==n?u():l=!1,d()}}var h,p,m=Date,g="function"===typeof setTimeout?setTimeout:void 0,v="function"===typeof clearTimeout?clearTimeout:void 0,y="function"===typeof requestAnimationFrame?requestAnimationFrame:void 0,b="function"===typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function w(e){h=y(function(t){v(p),e(t)}),p=g(function(){b(h),e(t.unstable_now())},100)}if("object"===typeof performance&&"function"===typeof performance.now){var x=performance;t.unstable_now=function(){return x.now()}}else t.unstable_now=function(){return m.now()};var E,T,_,S=null;if("undefined"!==typeof window?S=window:"undefined"!==typeof e&&(S=e),S&&S._schedMock){var C=S._schedMock;E=C[0],T=C[1],_=C[2],t.unstable_now=C[3]}else if("undefined"===typeof window||"function"!==typeof MessageChannel){var k=null,P=function(e){if(null!==k)try{k(e)}finally{k=null}};E=function(e){null!==k?setTimeout(E,0,e):(k=e,setTimeout(P,0,!1))},T=function(){k=null},_=function(){return!1}}else{"undefined"!==typeof console&&("function"!==typeof y&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof b&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var I=null,M=!1,O=-1,D=!1,A=!1,L=0,R=33,j=33;_=function(){return L<=t.unstable_now()};var N=new MessageChannel,U=N.port2;N.port1.onmessage=function(){M=!1;var e=I,n=O;I=null,O=-1;var r=t.unstable_now(),a=!1;if(0>=L-r){if(!(-1!==n&&n<=r))return D||(D=!0,w(F)),I=e,void(O=n);a=!0}if(null!==e){A=!0;try{e(a)}finally{A=!1}}};var F=function e(t){if(null!==I){w(e);var n=t-L+j;n<j&&R<j?(8>n&&(n=8),j=n<R?R:n):R=n,L=t+j,M||(M=!0,U.postMessage(void 0))}else D=!1};E=function(e,t){I=e,O=t,A||0>t?U.postMessage(void 0):D||(D=!0,w(F))},T=function(){I=null,M=!1,O=-1}}t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=a,o=i;a=e,i=t.unstable_now();try{return n()}finally{a=r,i=o,d()}},t.unstable_next=function(e){switch(a){case 1:case 2:case 3:var n=3;break;default:n=a}var r=a,o=i;a=n,i=t.unstable_now();try{return e()}finally{a=r,i=o,d()}},t.unstable_scheduleCallback=function(e,r){var o=-1!==i?i:t.unstable_now();if("object"===typeof r&&null!==r&&"number"===typeof r.timeout)r=o+r.timeout;else switch(a){case 1:r=o+-1;break;case 2:r=o+250;break;case 5:r=o+1073741823;break;case 4:r=o+1e4;break;default:r=o+5e3}if(e={callback:e,priorityLevel:a,expirationTime:r,next:null,previous:null},null===n)n=e.next=e.previous=e,u();else{o=null;var s=n;do{if(s.expirationTime>r){o=s;break}s=s.next}while(s!==n);null===o?o=n:o===n&&(n=e,u()),(r=o.previous).next=o.previous=e,e.next=o,e.previous=r}return e},t.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(t===e)n=null;else{e===n&&(n=t);var r=e.previous;r.next=t,t.previous=r}e.next=e.previous=null}},t.unstable_wrapCallback=function(e){var n=a;return function(){var r=a,o=i;a=n,i=t.unstable_now();try{return e.apply(this,arguments)}finally{a=r,i=o,d()}}},t.unstable_getCurrentPriorityLevel=function(){return a},t.unstable_shouldYield=function(){return!r&&(null!==n&&n.expirationTime<o||_())},t.unstable_continueExecution=function(){null!==n&&u()},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return n}}).call(this,n(23))},,function(e,t,n){"use strict";var r=n(47);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){var n,r,a=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var l,u=[],c=!1,d=-1;function f(){c&&l&&(c=!1,l.length?u=l.concat(u):d=-1,u.length&&h())}function h(){if(!c){var e=s(f);c=!0;for(var t=u.length;t;){for(l=u,u=[];++d<t;)l&&l[d].run();d=-1,t=u.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||c||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&Symbol.for,a=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116;function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case a:switch(e=e.type){case d:case f:case o:case l:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case u:return e;default:return t}}case g:case m:case i:return t}}}function y(e){return v(e)===f}t.typeOf=v,t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=a,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=l,t.StrictMode=s,t.Suspense=p,t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===f||e===l||e===s||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h)},t.isAsyncMode=function(e){return y(e)||v(e)===d},t.isConcurrentMode=y,t.isContextConsumer=function(e){return v(e)===c},t.isContextProvider=function(e){return v(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===a},t.isForwardRef=function(e){return v(e)===h},t.isFragment=function(e){return v(e)===o},t.isLazy=function(e){return v(e)===g},t.isMemo=function(e){return v(e)===m},t.isPortal=function(e){return v(e)===i},t.isProfiler=function(e){return v(e)===l},t.isStrictMode=function(e){return v(e)===s},t.isSuspense=function(e){return v(e)===p}}]]);
//# sourceMappingURL=2.691a3d70.chunk.js.map